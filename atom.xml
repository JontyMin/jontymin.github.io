<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å·ä¸åŠ¨äº†</title>
  
  <subtitle>life has no Ctrl Z</subtitle>
  <link href="https://jonty.top/atom.xml" rel="self"/>
  
  <link href="https://jonty.top/"/>
  <updated>2021-11-23T13:45:29.082Z</updated>
  <id>https://jonty.top/</id>
  
  <author>
    <name>Jonty</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>RedHatå®‰è£…Oracleæ•°æ®åº“</title>
    <link href="https://jonty.top/2021/11/09/rhel-install-oracle-11g-r2/"/>
    <id>https://jonty.top/2021/11/09/rhel-install-oracle-11g-r2/</id>
    <published>2021-11-09T15:58:23.000Z</published>
    <updated>2021-11-23T13:45:29.082Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸ“¢ï¼šæœ¬æ–‡ä¸ºå®æ“è®°å½•ï¼Œç»ƒä¹ ç¯å¢ƒä¸ºRHEL7.6(æœ¬åœ°è™šæ‹Ÿæœº)ï¼Œè…¾è®¯äº‘Centos7.6å®æ“å®‰è£…æˆåŠŸã€‚ä¸æ­£ä¹‹å¤„æœ›æŒ‡å‡ºã€‚</p><p>å…³äºè™šæ‹Ÿæœºå®‰è£…Linuxæ“ä½œç³»ç»Ÿ,<a href="https://jonty.top/2021/10/27/vmware-install-linux/">ç‚¹å‡»æŸ¥çœ‹</a></p><h2 id="Linuxä¸»æœºé…ç½®"><a href="#Linuxä¸»æœºé…ç½®" class="headerlink" title="Linuxä¸»æœºé…ç½®"></a>Linuxä¸»æœºé…ç½®</h2><h3 id="ä¸»æœºåå’Œç½‘ç»œé…ç½®"><a href="#ä¸»æœºåå’Œç½‘ç»œé…ç½®" class="headerlink" title="ä¸»æœºåå’Œç½‘ç»œé…ç½®"></a>ä¸»æœºåå’Œç½‘ç»œé…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/hosts</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#OracleBegin##</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#Public IP</span></span></span><br><span class="line">192.168.1.79   orcl79</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#OracleEnd##</span></span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104095943481.png" alt="image-20211104095943481"></p><h3 id="hostsæ–‡ä»¶é…ç½®"><a href="#hostsæ–‡ä»¶é…ç½®" class="headerlink" title="hostsæ–‡ä»¶é…ç½®"></a>hostsæ–‡ä»¶é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104100304275.png" alt="image-20211104100304275"></p><h3 id="é˜²ç«å¢™é…ç½®"><a href="#é˜²ç«å¢™é…ç½®" class="headerlink" title="é˜²ç«å¢™é…ç½®"></a>é˜²ç«å¢™é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104100742682.png" alt="image-20211104100742682"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104100906781.png" alt="image-20211104100906781"></p><h3 id="SELINUXé…ç½®"><a href="#SELINUXé…ç½®" class="headerlink" title="SELINUXé…ç½®"></a>SELINUXé…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/SELINUX=enforcing/SELINUX=disabled/g&#x27; /etc/selinux/config</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104101228439.png" alt="image-20211104101228439"></p><h3 id="æŒ‚è½½é•œåƒ"><a href="#æŒ‚è½½é•œåƒ" class="headerlink" title="æŒ‚è½½é•œåƒ"></a>æŒ‚è½½é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/cdrom /mnt</span><br><span class="line">cat &lt;&lt;EOF&gt;/etc/yum.repos.d/local.repo</span><br><span class="line">[local]</span><br><span class="line">name=local</span><br><span class="line">baseurl=file:///mnt</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104101459247.png" alt="image-20211104101459247"></p><h3 id="å®‰è£…ä¾èµ–åŒ…"><a href="#å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…ä¾èµ–åŒ…"></a>å®‰è£…ä¾èµ–åŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">yum install -y bc \</span><br><span class="line">binutils \</span><br><span class="line">compat-libcap1 \</span><br><span class="line">compat-libstdc++-33 \</span><br><span class="line">gcc \</span><br><span class="line">gcc-c++ \</span><br><span class="line">elfutils-libelf \</span><br><span class="line">elfutils-libelf-devel \</span><br><span class="line">glibc \</span><br><span class="line">glibc-devel \</span><br><span class="line">ksh \</span><br><span class="line">libaio \</span><br><span class="line">libaio-devel \</span><br><span class="line">libgcc \</span><br><span class="line">libstdc++ \</span><br><span class="line">libstdc++-devel \</span><br><span class="line">libxcb \</span><br><span class="line">libX11 \</span><br><span class="line">libXau \</span><br><span class="line">libXi \</span><br><span class="line">libXtst \</span><br><span class="line">libXrender \</span><br><span class="line">libXrender-devel \</span><br><span class="line">make \</span><br><span class="line">net-tools \</span><br><span class="line">nfs-utils \</span><br><span class="line">smartmontools \</span><br><span class="line">sysstat \</span><br><span class="line">e2fsprogs \</span><br><span class="line">e2fsprogs-libs \</span><br><span class="line">fontconfig-devel \</span><br><span class="line">expect \</span><br><span class="line">unzip \</span><br><span class="line">openssh-clients \</span><br><span class="line">readline* \</span><br><span class="line">psmisc --skip-broken</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104102036281.png" alt="image-20211104102036281"></p><p>å®‰è£…ç¼ºå°‘çš„compat-libstdc++åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -q bc binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ elfutils-libelf elfutils-libelf-devel glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libxcb libX11 libXau libXi libXtst libXrender libXrender-devel make net-tools nfs-utils smartmontools sysstat e2fsprogs e2fsprogs-libs fontconfig-devel expect unzip openssh-clients readline</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104102049805.png" alt="image-20211104102049805"></p><h3 id="é…ç½®ZeroConf"><a href="#é…ç½®ZeroConf" class="headerlink" title="é…ç½®ZeroConf"></a>é…ç½®ZeroConf</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å…³é—­Zeroconf serviceçš„æœåŠ¡å®ˆæŠ¤è¿›ç¨‹</span></span></span><br><span class="line">systemctl stop avahi-daemon.socket</span><br><span class="line">systemctl stop avahi-daemon.service</span><br><span class="line">systemctl disable avahi-daemon.service</span><br><span class="line">systemctl disable avahi-daemon.socket</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#å…³é—­NOZEROCONF</span></span></span><br><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/sysconfig/network</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleBegin</span></span><br><span class="line">NOZEROCONF=yes</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleEnd</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104103506861.png" alt="image-20211104103506861"></p><h3 id="å…³é—­é€æ˜å¤§é¡µå’Œnuma"><a href="#å…³é—­é€æ˜å¤§é¡µå’Œnuma" class="headerlink" title="å…³é—­é€æ˜å¤§é¡µå’Œnuma"></a>å…³é—­é€æ˜å¤§é¡µå’Œnuma</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/quiet/quiet transparent_hugepage=never numa=off/&#x27; /etc/default/grub</span><br><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104103747755.png" alt="image-20211104103747755"></p><h3 id="é…ç½®ç³»ç»Ÿå‚æ•°æ–‡ä»¶"><a href="#é…ç½®ç³»ç»Ÿå‚æ•°æ–‡ä»¶" class="headerlink" title="é…ç½®ç³»ç»Ÿå‚æ•°æ–‡ä»¶"></a>é…ç½®ç³»ç»Ÿå‚æ•°æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#è®¡ç®—shmallå’Œshmmaxå€¼</span></span></span><br><span class="line">memTotal=$(grep MemTotal /proc/meminfo | awk &#x27;&#123;print $2&#125;&#x27;)</span><br><span class="line">totalMemory=$((memTotal / 2048))</span><br><span class="line">shmall=$((memTotal / 4))</span><br><span class="line">if [ $shmall -lt 2097152 ]; then</span><br><span class="line">  shmall=2097152</span><br><span class="line">fi</span><br><span class="line">shmmax=$((memTotal * 1024 - 1))</span><br><span class="line">if [ &quot;$shmmax&quot; -lt 4294967295 ]; then</span><br><span class="line">  shmmax=4294967295</span><br><span class="line">fi</span><br><span class="line">echo $shmall</span><br><span class="line">echo $shmmax</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#é…ç½®ç³»ç»Ÿå‚æ•°</span></span></span><br><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/sysctl.conf</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleBegin</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#shmmal&#x27;s Calculation formula: physical memory 8Gï¼š(8*1024*1024*1024)/4096=2097152</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#shmmax&#x27;s Calculation formula: physical memory 8Gï¼š(8/2)*1024*1024*1024 -1=4294967295</span></span></span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">fs.file-max = 6815744</span><br><span class="line">kernel.shmall = $shmall  # å•ä¸ªå…±äº«å†…å­˜æ®µæœ€å¤§å€¼</span><br><span class="line">kernel.shmmax = $shmmax  # å…±äº«å†…å­˜é¡µæ•°</span><br><span class="line">kernel.shmmni = 4096</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max = 4194304</span><br><span class="line">net.core.wmem_default = 262144</span><br><span class="line">net.core.wmem_max = 1048576</span><br><span class="line">EOF</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#ç³»ç»Ÿå‚æ•°ç”Ÿæ•ˆ</span></span></span><br><span class="line">sysctl -p</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/sysctl.conf</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">fs.file-max = 6815744</span><br><span class="line">kernel.shmall = 2097152</span><br><span class="line">kernel.shmmax = 4294967295</span><br><span class="line">kernel.shmmni = 4096</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max = 4194304</span><br><span class="line">net.core.wmem_default = 262144</span><br><span class="line">net.core.wmem_max = 1048576</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kernel.shmall = $shmall  # å•ä¸ªå…±äº«å†…å­˜æ®µæœ€å¤§å€¼</span><br><span class="line">kernel.shmmax = $shmmax  # å…±äº«å†…å­˜é¡µæ•°</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211115173131542.png" alt="image-20211115173131542"></p><h3 id="é…ç½®ç³»ç»Ÿèµ„æºé™åˆ¶"><a href="#é…ç½®ç³»ç»Ÿèµ„æºé™åˆ¶" class="headerlink" title="é…ç½®ç³»ç»Ÿèµ„æºé™åˆ¶"></a>é…ç½®ç³»ç»Ÿèµ„æºé™åˆ¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/security/limits.conf</span><br><span class="line">oracle soft nofile 16384</span><br><span class="line">oracle hard nofile 65536</span><br><span class="line">oracle soft stack 10240</span><br><span class="line">oracle hard stack 32768</span><br><span class="line">oracle soft nproc 16384 </span><br><span class="line">oracle hard nproc 16384 </span><br><span class="line">oracle hard memlock 8000000</span><br><span class="line">oracle soft memlock 8000000</span><br><span class="line">EOF</span><br><span class="line"><span class="meta">#</span><span class="bash"> å•ä½kb ç•¥ä½äºå†…å­˜</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/security/limits.conf</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleBegin</span></span><br><span class="line">oracle soft nofile 1024</span><br><span class="line">oracle hard nofile 65536</span><br><span class="line">oracle soft stack 10240</span><br><span class="line">oracle hard stack 32768</span><br><span class="line">oracle soft nproc 2047 </span><br><span class="line">oracle hard nproc 16384 </span><br><span class="line">oracle hard memlock 8000000</span><br><span class="line">oracle soft memlock 8000000</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleEnd</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/pam.d/login</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleBegin</span></span><br><span class="line">session required pam_limits.so </span><br><span class="line">session required /lib64/security/pam_limits.so</span><br><span class="line"><span class="meta">#</span><span class="bash">OracleEnd</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºç”¨æˆ·å’Œç»„"><a href="#åˆ›å»ºç”¨æˆ·å’Œç»„" class="headerlink" title="åˆ›å»ºç”¨æˆ·å’Œç»„"></a>åˆ›å»ºç”¨æˆ·å’Œç»„</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/groupadd -g 54321 oinstall</span><br><span class="line">/usr/sbin/groupadd -g 54322 dba</span><br><span class="line">/usr/sbin/groupadd -g 54323 oper</span><br><span class="line"></span><br><span class="line">/usr/sbin/useradd -u 54321 -g oinstall -G dba,oper oracle</span><br><span class="line">echo oracle | passwd --stdin oracle</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºOracleå®‰è£…ç›®å½•"><a href="#åˆ›å»ºOracleå®‰è£…ç›®å½•" class="headerlink" title="åˆ›å»ºOracleå®‰è£…ç›®å½•"></a>åˆ›å»ºOracleå®‰è£…ç›®å½•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /u01/app/oracle/product/11.2.0/db</span><br><span class="line">mkdir -p /u01/app/oraInventory</span><br><span class="line">mkdir -p /oradata</span><br><span class="line">chown -R oracle:oinstall /oradata</span><br><span class="line">chown -R oracle:oinstall /u01/app</span><br><span class="line">chmod -R 775 /u01/app</span><br></pre></td></tr></table></figure><h3 id="ç”¨æˆ·ç¯å¢ƒå˜é‡é…ç½®"><a href="#ç”¨æˆ·ç¯å¢ƒå˜é‡é…ç½®" class="headerlink" title="ç”¨æˆ·ç¯å¢ƒå˜é‡é…ç½®"></a>ç”¨æˆ·ç¯å¢ƒå˜é‡é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;&gt;/home/oracle/.bash_profile</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">###############OracleBegin#########################</span></span></span><br><span class="line">umask 022</span><br><span class="line">export TMP=/tmp</span><br><span class="line">export TMPDIR=\$TMP</span><br><span class="line">export NLS_LANG=AMERICAN_AMERICA.AL32UTF8</span><br><span class="line">export ORACLE_BASE=/u01/app/oracle</span><br><span class="line">export ORACLE_HOME=/u01/app/oracle/product/11.2.0/db</span><br><span class="line">export ORACLE_HOSTNAME=orcl79</span><br><span class="line">export ORACLE_TERM=xterm</span><br><span class="line">export TNS_ADMIN=\$ORACLE_HOME/network/admin</span><br><span class="line">export LD_LIBRARY_PATH=\$ORACLE_HOME/lib:/lib:/usr/lib</span><br><span class="line">export ORACLE_SID=orcl</span><br><span class="line">export PATH=/usr/sbin:\$PATH</span><br><span class="line">export PATH=\$ORACLE_HOME/bin:\$ORACLE_HOME/OPatch:\$PATH</span><br><span class="line">alias sas=&#x27;sqlplus / as sysdba&#x27;</span><br><span class="line">export PS1=&quot;[\`whoami\`@\`hostname\`:&quot;&#x27;\$PWD]\$ &#x27;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h2 id="Oracleè½¯ä»¶å®‰è£…"><a href="#Oracleè½¯ä»¶å®‰è£…" class="headerlink" title="Oracleè½¯ä»¶å®‰è£…"></a>Oracleè½¯ä»¶å®‰è£…</h2><p><a href="https://luciferliu.blog.csdn.net/article/details/118529918">https://luciferliu.blog.csdn.net/article/details/118529918</a></p><h3 id="è½¯ä»¶åŒ…ä¸Šä¼ "><a href="#è½¯ä»¶åŒ…ä¸Šä¼ " class="headerlink" title="è½¯ä»¶åŒ…ä¸Šä¼ "></a>è½¯ä»¶åŒ…ä¸Šä¼ </h3><p><img data-src="https://cdn.jonty.top/img/image-20211104171706862.png" alt="image-20211104171706862"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104171845746.png" alt="image-20211104171845746"></p><h3 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h3><p>æŒ‰é¡ºåºè§£å‹1ã€2è½¯ä»¶åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">unzip -q p13390677_112040_Linux-x86-64_1of7.zip</span><br><span class="line">unzip -q p13390677_112040_Linux-x86-64_2of7.zip</span><br><span class="line"></span><br><span class="line">// æˆæƒsoft  to oracle</span><br><span class="line">chown -R oracle:oinstall /soft</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><h4 id="VNCé…ç½®"><a href="#VNCé…ç½®" class="headerlink" title="VNCé…ç½®"></a>VNCé…ç½®</h4><h5 id="å®‰è£…GNOMEæ¡Œé¢"><a href="#å®‰è£…GNOMEæ¡Œé¢" class="headerlink" title="å®‰è£…GNOMEæ¡Œé¢"></a>å®‰è£…GNOMEæ¡Œé¢</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ—å‡ºçš„ç»„åˆ—è¡¨é‡Œæœ‰GNOME Desktopã€‚</span></span><br><span class="line">yum grouplist  </span><br><span class="line"><span class="meta">#</span><span class="bash">å®‰è£…ä¹‹</span></span><br><span class="line">yum groupinstall -y &quot;GNOME Desktop&quot; </span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…å®Œæˆåï¼Œä¿®æ”¹é»˜è®¤å¯åŠ¨æ–¹å¼ä¸ºå›¾å½¢åŒ–ç•Œé¢</span></span><br><span class="line">systemctl set-default graphical.target  //è®¾ç½®æˆå›¾å½¢æ¨¡å¼ </span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœè¦æ¢å›æ¥</span> </span><br><span class="line">systemctl set-default multi-user.target  //è®¾ç½®æˆå‘½ä»¤æ¨¡å¼ </span><br><span class="line"><span class="meta">#</span><span class="bash">ç„¶åé‡å¯ç³»ç»Ÿå³å¯</span></span><br></pre></td></tr></table></figure><h5 id="å®‰è£…VNCæœåŠ¡"><a href="#å®‰è£…VNCæœåŠ¡" class="headerlink" title="å®‰è£…VNCæœåŠ¡"></a>å®‰è£…VNCæœåŠ¡</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install tigervnc-server -y</span><br><span class="line"></span><br><span class="line">rpm -qa|grep tigervnc-server -- éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</span><br></pre></td></tr></table></figure><h5 id="æ‰“å¼€VNCæœåŠ¡"><a href="#æ‰“å¼€VNCæœåŠ¡" class="headerlink" title="æ‰“å¼€VNCæœåŠ¡"></a>æ‰“å¼€VNCæœåŠ¡</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vncserver :1  # 5901</span><br><span class="line"></span><br><span class="line">vncserver -kill :1  # å…³é—­</span><br><span class="line"></span><br><span class="line">vncpasswd # é‡ç½®å¯†ç </span><br></pre></td></tr></table></figure><p>ç„¶åé…ç½®å¥½å¯†ç ä½¿ç”¨<code>VNC Viewer</code>è¿æ¥è¿œç¨‹æ¡Œé¢</p><p><img data-src="https://cdn.jonty.top/img/image-20211108134312717.png" alt="image-20211108134312717"></p><blockquote><p>æ•™ç¨‹ ï¼š <a href="https://blog.csdn.net/nahancy/article/details/86316971">https://blog.csdn.net/nahancy/article/details/86316971</a></p><p>VNCä¸‹è½½ï¼šé“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1fEf87xSB09gWxwswNXFeYw">https://pan.baidu.com/s/1fEf87xSB09gWxwswNXFeYw</a><br>æå–ç ï¼š3w9b </p></blockquote><h4 id="æ‰§è¡ŒOracleå®‰è£…è„šæœ¬"><a href="#æ‰§è¡ŒOracleå®‰è£…è„šæœ¬" class="headerlink" title="æ‰§è¡ŒOracleå®‰è£…è„šæœ¬"></a>æ‰§è¡ŒOracleå®‰è£…è„šæœ¬</h4><p>è¿›å…¥<code>/soft/database</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./runInstaller -jreLoc /etc/alternatives/jre_1.8.0</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104172834599.png" alt="image-20211104172834599"></p><p><strong>å®‰è£…æ£€æŸ¥çš„é—®é¢˜</strong>ï¼š</p><p>1ã€must be configured to display at least 256 colors</p><p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨oracleç”¨æˆ·æ‰“å¼€vnserver</p><p>2ã€äº¤æ¢ç©ºé—´éœ€è¦å¤§äº150MB</p><p>ç»“å±€æ–¹æ³•ï¼š</p><p>å¢åŠ <code>swap</code>åˆ†åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dd if=/dev/zero of=/home/swapfile bs=1M count=512</span><br><span class="line">mkswap /home/swapfile</span><br><span class="line">swapon /home/swapfile</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ /etc/fstabï¼ŒåŠ ä¸Šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> vim /etc/fstab</span><br><span class="line">/home/swapfile swap swap defaults 0 0</span><br></pre></td></tr></table></figure><h4 id="é…ç½®å®‰å…¨æ›´æ–°"><a href="#é…ç½®å®‰å…¨æ›´æ–°" class="headerlink" title="é…ç½®å®‰å…¨æ›´æ–°"></a>é…ç½®å®‰å…¨æ›´æ–°</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104172939686.png" alt="image-20211104172939686"></p><h4 id="ä¸‹è½½è½¯ä»¶æ›´æ–°"><a href="#ä¸‹è½½è½¯ä»¶æ›´æ–°" class="headerlink" title="ä¸‹è½½è½¯ä»¶æ›´æ–°"></a>ä¸‹è½½è½¯ä»¶æ›´æ–°</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104173006944.png" alt="image-20211104173006944"></p><h4 id="å®‰è£…é€‰é¡¹"><a href="#å®‰è£…é€‰é¡¹" class="headerlink" title="å®‰è£…é€‰é¡¹"></a>å®‰è£…é€‰é¡¹</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104173036634.png" alt="image-20211104173036634"></p><h4 id="å®‰è£…é€‰é¡¹-1"><a href="#å®‰è£…é€‰é¡¹-1" class="headerlink" title="å®‰è£…é€‰é¡¹"></a>å®‰è£…é€‰é¡¹</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104173111607.png" alt="image-20211104173111607"></p><h4 id="æ•°æ®åº“ç‰ˆæœ¬"><a href="#æ•°æ®åº“ç‰ˆæœ¬" class="headerlink" title="æ•°æ®åº“ç‰ˆæœ¬"></a>æ•°æ®åº“ç‰ˆæœ¬</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104173154202.png" alt="image-20211104173154202"></p><h4 id="å®‰è£…ä½ç½®"><a href="#å®‰è£…ä½ç½®" class="headerlink" title="å®‰è£…ä½ç½®"></a>å®‰è£…ä½ç½®</h4><p>é»˜è®¤</p><p><img data-src="https://cdn.jonty.top/img/image-20211104173224434.png" alt="image-20211104173224434"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104173247574.png" alt="image-20211104173247574"></p><h4 id="æ“ä½œç³»ç»Ÿç»„"><a href="#æ“ä½œç³»ç»Ÿç»„" class="headerlink" title="æ“ä½œç³»ç»Ÿç»„"></a>æ“ä½œç³»ç»Ÿç»„</h4><p>é»˜è®¤</p><p><img data-src="https://cdn.jonty.top/img/image-20211104173318474.png" alt="image-20211104173318474"></p><h4 id="å®‰è£…å‰æ£€æŸ¥"><a href="#å®‰è£…å‰æ£€æŸ¥" class="headerlink" title="å®‰è£…å‰æ£€æŸ¥"></a>å®‰è£…å‰æ£€æŸ¥</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104173400667.png" alt="image-20211104173400667"></p><p>å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh pdksh-5.2.14-37.el5.x86_64.rpm</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104173503682.png" alt="image-20211104173503682"></p><p>é‡æ–°æ£€æŸ¥</p><p><img data-src="https://cdn.jonty.top/img/image-20211104173621400.png" alt="image-20211104173621400"></p><p>ç­‰å¾…å®‰è£…</p><p><img data-src="https://cdn.jonty.top/img/image-20211104173754434.png" alt="image-20211104173754434"></p><p><strong>é”™è¯¯è§£å†³</strong></p><p><img data-src="https://cdn.jonty.top/img/image-20211104173840559.png" alt="image-20211104173840559"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - oracle</span><br><span class="line">sed -i &#x27;s/^\(\s*\$(MK_EMAGENT_NMECTL)\)\s*$/\1 -lnnz11/g&#x27; $ORACLE_HOME/sysman/lib/ins_emagent.mk</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104174044437.png" alt="image-20211104174044437"></p><h4 id="æ‰§è¡Œé…ç½®è„šæœ¬"><a href="#æ‰§è¡Œé…ç½®è„šæœ¬" class="headerlink" title="æ‰§è¡Œé…ç½®è„šæœ¬"></a>æ‰§è¡Œé…ç½®è„šæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - root</span><br><span class="line">/u01/app/oraInventory/orainstRoot.sh</span><br><span class="line">/u01/app/oraInventory/orainstRoot.sh</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104174220290.png" alt="image-20211104174220290"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104174230792.png" alt="image-20211104174230792"></p><h4 id="å®‰è£…å®Œæˆ"><a href="#å®‰è£…å®Œæˆ" class="headerlink" title="å®‰è£…å®Œæˆ"></a>å®‰è£…å®Œæˆ</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104174313280.png" alt="image-20211104174313280"></p><p>å®‰è£…å®Œæˆåé‡å¯ä¸»æœº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><h4 id="æ‰“å¼€ç›‘å¬"><a href="#æ‰“å¼€ç›‘å¬" class="headerlink" title="æ‰“å¼€ç›‘å¬"></a>æ‰“å¼€ç›‘å¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - oracle</span><br><span class="line">lsnrctl start</span><br><span class="line">lsnrctl status</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104175006137.png" alt="image-20211104175006137"></p><h4 id="æ‰“å¼€é…ç½®å·¥å…·"><a href="#æ‰“å¼€é…ç½®å·¥å…·" class="headerlink" title="æ‰“å¼€é…ç½®å·¥å…·"></a>æ‰“å¼€é…ç½®å·¥å…·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LANG=en_US</span><br><span class="line">dbca</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104175143670.png" alt="image-20211104175143670"></p><h4 id="åˆ›å»ºæ•°æ®åº“-1"><a href="#åˆ›å»ºæ•°æ®åº“-1" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><p><img data-src="https://cdn.jonty.top/img/image-20211104175219629.png" alt="image-20211104175219629"></p><p>è‡ªå®šä¹‰æ¨¡å¼</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175242442.png" alt="image-20211104175242442"></p><p>å®ä¾‹å</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175309394.png" alt="image-20211104175309394"></p><p>EM</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175402390.png" alt="image-20211104175402390"></p><p>ä½¿ç”¨ç»Ÿä¸€å¯†ç </p><p><code>P@ssw0rd</code></p><p><img data-src="https://cdn.jonty.top/img/image-20211104175458122.png" alt="image-20211104175458122"></p><p>ä½¿ç”¨å»ºå¥½çš„æ•°æ®æ–‡ä»¶ä¿å­˜åœ°å€</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175606842.png" alt="image-20211104175606842"></p><p>å…³é—­é—ªå›å’Œå½’æ¡£</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175643304.png" alt="image-20211104175643304"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104175710858.png" alt="image-20211104175710858"></p><p>å†…å­˜åˆ†é…</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175742728.png" alt="image-20211104175742728"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104175807092.png" alt="image-20211104175807092"></p><p>å­—ç¬¦é›†é…ç½®</p><p><img data-src="https://cdn.jonty.top/img/image-20211104175832188.png" alt="image-20211104175832188"></p><p>ä¸‹ä¸€æ­¥</p><p><img data-src="https://cdn.jonty.top/img/image-20211104190456300.png" alt="image-20211104190456300"></p><p>ä¸‹ä¸€æ­¥</p><p><img data-src="https://cdn.jonty.top/img/image-20211104190517979.png" alt="image-20211104190517979"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104190603367.png" alt="image-20211104190603367"></p><p>ç­‰å¾…åˆ›å»ºå®Œæˆ</p><p><img data-src="https://cdn.jonty.top/img/image-20211104190644897.png" alt="image-20211104190644897"></p><p><img data-src="https://cdn.jonty.top/img/image-20211104194542389.png" alt="image-20211104194542389"></p><h4 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">su <span class="operator">-</span> oracle</span><br><span class="line">sqlplus <span class="operator">/</span> <span class="keyword">as</span> sysdba</span><br><span class="line"></span><br><span class="line">## é‡å¯åå¯åŠ¨æ•°æ®åº“</span><br><span class="line">startup</span><br><span class="line"></span><br><span class="line">shutdown immediate; # å…³é—­æ•°æ®åº“</span><br><span class="line"></span><br><span class="line">$ echo $ORACLE_SID  <span class="comment">-- å®ä¾‹ID</span></span><br><span class="line">....                    <span class="comment">--&gt;&gt; Look what you get</span></span><br><span class="line">$ echo $ORACLE_HOME <span class="comment">-- å®‰è£…ç›®å½•</span></span><br><span class="line">....                  </span><br><span class="line">$ ps <span class="operator">-</span>ef <span class="operator">|</span> grep smon    <span class="comment">--&gt;&gt; Look for smon background process which</span></span><br><span class="line">ora_smon_InfraDB        <span class="comment">--&gt;&gt; should include ORACLE_SID in it.</span></span><br><span class="line"></span><br><span class="line">$ ORACLE_SID<span class="operator">=</span>InfraDB    <span class="comment">--&gt;&gt; set to a valid value like these ones.</span></span><br><span class="line">$ ORACLE_HOME<span class="operator">=</span><span class="operator">/</span>u01<span class="operator">/</span>app<span class="operator">/</span>oracle<span class="operator">/</span>product<span class="operator">/</span><span class="number">12.2</span><span class="number">.0</span><span class="number">.1</span><span class="operator">/</span>dbhome_1</span><br><span class="line"></span><br><span class="line">$ lsnrctl status        <span class="comment">--&gt;&gt; Look whether listener is ON</span></span><br><span class="line">$ lsnrctl <span class="keyword">start</span>         <span class="comment">--&gt;&gt; If not, then start the listener.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v$database;</span><br><span class="line"></span><br><span class="line">##åˆ›å»ºæ•°æ®åº“ç”¨æˆ·</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> test identified <span class="keyword">by</span> test;</span><br><span class="line"><span class="keyword">grant</span> dba <span class="keyword">to</span> test; # RESOURCE</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> session <span class="keyword">to</span> test</span><br><span class="line">conn test<span class="operator">/</span>test</span><br><span class="line"></span><br><span class="line">##åˆ›å»ºè¡¨</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student (id number <span class="keyword">not</span> <span class="keyword">null</span>,name varchar2(<span class="number">100</span>));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;jonty&#x27;</span>);</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211104194801063.png" alt="image-20211104194801063"></p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ‰§è¡ŒSQLå‘½ä»¤<a href="https://stackoverflow.com/questions/50219312/ora-01034-oracle-not-available">ORA-01034: ORACLE not available</a>ï¼Œå¯èƒ½æ˜¯å®ä¾‹IDå¯¹ä¸ä¸Š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo $ORACLE_SID   -- æŸ¥çœ‹å½“å‰å®ä¾‹</span><br><span class="line"></span><br><span class="line">echo $ORACLE_HOME -- å®‰è£…ç›®å½•</span><br><span class="line"></span><br><span class="line">ORACLE_SID=medprodb  -- è®¾ç½®</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211108134715074.png" alt="image-20211108134715074"></p><h2 id="æ•°æ®åº“è¡¥ä¸å®‰è£…"><a href="#æ•°æ®åº“è¡¥ä¸å®‰è£…" class="headerlink" title="æ•°æ®åº“è¡¥ä¸å®‰è£…"></a>æ•°æ®åº“è¡¥ä¸å®‰è£…</h2><h3 id="ä¸Šä¼ è¡¥ä¸"><a href="#ä¸Šä¼ è¡¥ä¸" class="headerlink" title="ä¸Šä¼ è¡¥ä¸"></a>ä¸Šä¼ è¡¥ä¸</h3><p>ä¸Šä¼ PSUæ–‡ä»¶å¤¹åˆ°<code>/soft</code>ç›®å½•ä¸‹å¹¶è§£å‹</p><p> p6880880_112000_Linux-x86-64.zip</p><p><img data-src="https://cdn.jonty.top/img/image-20211118190817028.png" alt="image-20211118190817028"></p><h3 id="å…³é—­æ•°æ®åº“æœåŠ¡"><a href="#å…³é—­æ•°æ®åº“æœåŠ¡" class="headerlink" title="å…³é—­æ•°æ®åº“æœåŠ¡"></a>å…³é—­æ•°æ®åº“æœåŠ¡</h3><p>åœæ‰æ‰€æœ‰æ•°æ®åº“æœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lsnrctl stop # å…³é—­ç›‘å¬</span><br><span class="line"></span><br><span class="line">emctl stop dbconsole; # å…³é—­EM</span><br><span class="line"></span><br><span class="line">shutdown immediate; # å…³é—­æ•°æ®åº“</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ›¿æ¢OPatch"><a href="#æ›¿æ¢OPatch" class="headerlink" title="æ›¿æ¢OPatch"></a>æ›¿æ¢OPatch</h3><p>æ›¿æ¢<strong>OPatch</strong>å·¥å…·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd $ORACLE_HOME</span><br><span class="line">cd /OPatch</span><br><span class="line">./opatch version</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211118192559635.png" alt="image-20211118192559635"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv Opatch OPatch_old # å¤‡ä»½</span><br><span class="line">cp -r /soft/Opatch . # å¤åˆ¶</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211118193207365.png" alt="image-20211118193207365"></p><h3 id="æ‰§è¡Œè¡¥ä¸è„šæœ¬"><a href="#æ‰§è¡Œè¡¥ä¸è„šæœ¬" class="headerlink" title="æ‰§è¡Œè¡¥ä¸è„šæœ¬"></a>æ‰§è¡Œè¡¥ä¸è„šæœ¬</h3><p>è¿›å…¥è¡¥ä¸ç›®å½•</p><p>æŸ¥çœ‹<code>README.html</code>æ–‡æ¡£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">opatch prereq CheckConflictAgainstOHWithDetail -ph ./</span><br><span class="line">opatch apply</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœOPatch failed with error code 73</span></span><br><span class="line">ps -ef|grep smon</span><br><span class="line">kill -9 è¿›ç¨‹id</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211118194022739.png" alt="image-20211118194022739"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">opatch lsinventory # æŸ¥çœ‹</span><br><span class="line"></span><br><span class="line">cd $ORACLE_HOME/rdbms/admin</span><br><span class="line">sqlplus / as sysdba</span><br><span class="line">startup # å¯åŠ¨</span><br><span class="line">@catbundle.sql psu apply # æ‰§è¡Œè„šæœ¬</span><br><span class="line">@utlrp.sql</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211118194940622.png" alt="image-20211118194940622"></p><p><img data-src="https://cdn.jonty.top/img/image-20211118195242997.png" alt="image-20211118195242997"></p><p>é‡å¯æ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shutdown immediate;</span><br><span class="line">startup;</span><br></pre></td></tr></table></figure><h2 id="åŸºç¡€ç»´æŠ¤"><a href="#åŸºç¡€ç»´æŠ¤" class="headerlink" title="åŸºç¡€ç»´æŠ¤"></a>åŸºç¡€ç»´æŠ¤</h2><h3 id="å…³é—­å¯†ç è¿‡æœŸ"><a href="#å…³é—­å¯†ç è¿‡æœŸ" class="headerlink" title="å…³é—­å¯†ç è¿‡æœŸ"></a>å…³é—­å¯†ç è¿‡æœŸ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dba_profiles <span class="keyword">where</span> profile <span class="operator">=</span> <span class="string">&#x27;DEFAULT&#x27;</span>; # æŸ¥çœ‹</span><br><span class="line"><span class="keyword">alter</span> profile <span class="keyword">default</span> limit PASSWORD_LIFE_TIME UNLIMITED;</span><br></pre></td></tr></table></figure><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> audit; # å®¡è®¡</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> audit_trail <span class="operator">=</span> <span class="keyword">none</span> <span class="keyword">scope</span> <span class="operator">=</span> spfile;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> v$datafile; # æŸ¥çœ‹æ•°æ®æ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> sga; # æŸ¥çœ‹sga</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> pga; # æŸ¥çœ‹pga</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> proc; # è¿›ç¨‹æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> <span class="keyword">open</span>; # æ¸¸æ ‡</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> open_cursors <span class="operator">=</span> <span class="number">2000</span> <span class="keyword">scope</span> <span class="operator">=</span> spfile;</span><br></pre></td></tr></table></figure><h3 id="è­¦å‘Šæ—¥å¿—"><a href="#è­¦å‘Šæ—¥å¿—" class="headerlink" title="è­¦å‘Šæ—¥å¿—"></a>è­¦å‘Šæ—¥å¿—</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> dump</span><br><span class="line">cd <span class="operator">/</span>u01<span class="operator">/</span>app<span class="operator">/</span>oracle<span class="operator">/</span>diag<span class="operator">/</span>rdbms<span class="operator">/</span>orcl<span class="operator">/</span>orcl<span class="operator">/</span>trace</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211118201536713.png" alt="image-20211118201536713"></p><p><img data-src="https://cdn.jonty.top/img/image-20211118201633885.png" alt="image-20211118201633885"></p><h3 id="å½’æ¡£æ—¥å¿—"><a href="#å½’æ¡£æ—¥å¿—" class="headerlink" title="å½’æ¡£æ—¥å¿—"></a>å½’æ¡£æ—¥å¿—</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">archive log list;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">parameter</span> recover;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> db_recovery_file_dest_size<span class="operator">=</span><span class="number">5</span>g;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">set</span> db_recovery_file_dest <span class="operator">=</span> <span class="string">&#x27;/archive&#x27;</span>;</span><br><span class="line">shutdown immediate;</span><br><span class="line">startup mount;</span><br><span class="line"><span class="keyword">alter</span> database archivelog;</span><br><span class="line">archive log list;</span><br><span class="line"><span class="keyword">alter</span> database <span class="keyword">open</span>;</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåå…³é—­ï¼Œè¿ç§»æ•°æ®åç”Ÿäº§å†æ‰“å¼€</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shutdown immediate;</span><br><span class="line">startup mount;</span><br><span class="line"><span class="keyword">alter</span> database noarchivelog;</span><br><span class="line"><span class="keyword">alter</span> database <span class="keyword">open</span>;</span><br></pre></td></tr></table></figure><p>å¤‡ä»½ä¸€ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rootç”¨æˆ·</span></span><br><span class="line">tar zcvf oracle.tar.gz /u01/app/oracle</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä½¿ç”¨RedHat7.6å®‰è£…Oracle11gR2æ•°æ®åº“</summary>
    
    
    
    <category term="Oracle" scheme="https://jonty.top/categories/Oracle/"/>
    
    
    <category term="RedHat" scheme="https://jonty.top/tags/RedHat/"/>
    
    <category term="Linux" scheme="https://jonty.top/tags/Linux/"/>
    
    <category term="Oracle" scheme="https://jonty.top/tags/Oracle/"/>
    
  </entry>
  
  <entry>
    <title>52ABPå¼€å‘MVCé¡¹ç›®</title>
    <link href="https://jonty.top/2021/11/07/introduction-with-aspNet-core-and-entity-framework-core/"/>
    <id>https://jonty.top/2021/11/07/introduction-with-aspNet-core-and-entity-framework-core/</id>
    <published>2021-11-07T04:48:01.000Z</published>
    <updated>2021-11-07T04:57:31.611Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>æœ¬æ–‡ä»‹ç»ä½¿ç”¨ASP.NET Coreã€Entity FrameWork Coreå’Œ<a href="https://www.52abp.com/">52ABP</a>åˆ›å»ºWEB.MVCé¡¹ç›®ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­å°†ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯åˆ›å»ºä¸€ä¸ªç®€å•çš„è·¨å¹³å°<strong>åˆ†å±‚</strong>Webåº”ç”¨ç¨‹åºï¼š</p><ul><li>.NET Coreä½œä¸ºåŸºç¡€è·¨å¹³å°åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶</li><li><a href="https://www.52abp.com/">52ABP</a>ä½œä¸ºå¯åŠ¨æ¨¡æ¿å’Œåº”ç”¨ç¨‹åºæ¡†æ¶</li><li>ASP.NET Core ä½œä¸ºWebæ¡†æ¶</li><li>Entity FrameWork Core ä½œä¸ºORMæ¡†æ¶</li><li>Bootstrapä½œä¸ºHHMLå’ŒCSSæ¡†æ¶</li><li>JQueryä½œä¸ºå®¢æˆ·ç«¯Ajaxå’ŒDOMåº“</li></ul><p>è¿˜åŒ…æ‹¬52ABPå¯åŠ¨æ¨¡æ¿ä¸­åŒ…å«çš„ï¼š</p><ul><li>AutoMapper</li><li>åˆ†å±‚æ¶æ„</li><li>é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)</li><li>ä¾èµ–æ³¨å…¥(DI)</li></ul><h3 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h3><ul><li><p>.NET SDK 5.0</p></li><li><p>Visual Studio 2019</p></li><li><p>SQL Server</p></li></ul><h2 id="åˆ›å»ºåº”ç”¨ç¨‹åº"><a href="#åˆ›å»ºåº”ç”¨ç¨‹åº" class="headerlink" title="åˆ›å»ºåº”ç”¨ç¨‹åº"></a>åˆ›å»ºåº”ç”¨ç¨‹åº</h2><p>ä½¿ç”¨52abpå¯åŠ¨æ¨¡æ¿(<a href="https://www.52abp.com/Download)%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%E2%80%9C**MyPortal**%E2%80%9D%E7%9A%84">https://www.52abp.com/Download)åˆ›å»ºä¸€ä¸ªåä¸ºâ€œ**MyPortal**â€çš„</a> Webåº”ç”¨ç¨‹åºã€‚</p><p><img data-src="https://cdn.jonty.top/img/create-template-program.png"></p><p>åˆ›å»ºäº†ä¸€ä¸ªå¤šå±‚æ¶æ„çš„è§£å†³æ–¹æ¡ˆ</p><p><img data-src="https://cdn.jonty.top/img/image-20211106145537934.png" alt="image-20211106145537934"></p><p>åŒ…æ‹¬7ä¸ªä»¥<code>MyPortal</code>å¼€å¤´çš„é¡¹ç›®</p><ul><li>.Coreé¡¹ç›®é’ˆå¯¹é¢†åŸŸ/ä¸šåŠ¡å±‚ï¼ˆå®ä½“ã€é¢†åŸŸæœåŠ¡ï¼‰</li><li>.Applicationé¡¹ç›®æ˜¯é’ˆå¯¹åº”ç”¨å±‚çš„ï¼ˆDTOã€åº”ç”¨æœåŠ¡ï¼‰</li><li>.EntityFrameworké¡¹ç›®ç”¨äºEFCoreé›†æˆ</li><li>.Migratoré¡¹ç›®ç”¨äºè¿ç§»æ•°æ®åº“</li><li>.WebCoreç”¨äºWebæœåŠ¡å…¬å…±å±‚</li><li>.Web.MVCç”¨äºASP.NET MVCå±‚</li><li>.Testsé¡¹ç›®ç”¨äºæµ‹è¯•</li></ul><p>åˆ›å»ºæ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Add-Migration &#x27;InitialDb&#x27;</span><br><span class="line">Update-Database</span><br></pre></td></tr></table></figure><p>è¿è¡Œåº”ç”¨ç¨‹åº</p><p>é»˜è®¤è´¦å·ï¼šadmin</p><p>å¯†ç ï¼šbb123456</p><p><img data-src="https://cdn.jonty.top/img/image-20211106231550438.png" alt="image-20211106231550438"></p><p>é¦–é¡µ</p><p><img data-src="https://cdn.jonty.top/img/image-20211106161022373.png" alt="image-20211106161022373"></p><h2 id="å¼€å‘åº”ç”¨ç¨‹åº"><a href="#å¼€å‘åº”ç”¨ç¨‹åº" class="headerlink" title="å¼€å‘åº”ç”¨ç¨‹åº"></a>å¼€å‘åº”ç”¨ç¨‹åº</h2><h3 id="åˆ›å»ºå®ä½“"><a href="#åˆ›å»ºå®ä½“" class="headerlink" title="åˆ›å»ºå®ä½“"></a>åˆ›å»ºå®ä½“</h3><p>æˆ‘ä»¬åœ¨<strong>Core</strong>å±‚åˆ›å»ºä¸€ä¸ªTaskå®ä½“</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.ComponentModel.DataAnnotations;</span><br><span class="line"><span class="keyword">using</span> System.ComponentModel.DataAnnotations.Schema;</span><br><span class="line"><span class="keyword">using</span> Abp.Domain.Entities;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å­¦ç”Ÿè¡¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    [<span class="meta">Table(<span class="meta-string">&quot;Abp_Student&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Student</span> : <span class="title">Entity</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åç§°æœ€å¤§é•¿åº¦</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">int</span> MaxNameLength = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åœ°å€æœ€å¤§é•¿åº¦</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">int</span> MaxAddressLength = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åç§°</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        [<span class="meta">StringLength(MaxNameLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¹´é¾„</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åœ°å€</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">StringLength(MaxAddressLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Address &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>Task</code>æ´¾ç”Ÿè‡ª<code>AuditedEntity</code>,é»˜è®¤æƒ…å†µä¸‹åŒ…å«<code>Id</code>å±æ€§ä¸º<code>int</code>,ä¹Ÿå¯ä»¥æŒ‡å®š<code>Entity&lt;TPrimaryKey&gt;</code>æ¥é€‰æ‹©ä¸åŒçš„<strong>PK</strong>ç±»å‹</li></ul><h3 id="å°†å®ä½“æ·»åŠ åˆ°DbContext"><a href="#å°†å®ä½“æ·»åŠ åˆ°DbContext" class="headerlink" title="å°†å®ä½“æ·»åŠ åˆ°DbContext"></a>å°†å®ä½“æ·»åŠ åˆ°DbContext</h3><p><code>.EntityFrameWorkCore</code>é¡¹ç›®åŒ…å«ä¸€ä¸ªé¢„å®šä¹‰çš„<code>DbContext</code>,æ³¨å†Œ<code>Task</code>å®ä½“</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Abp.Zero.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Authorization.Roles;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Authorization.Users;</span><br><span class="line"><span class="keyword">using</span> MyPortal.MultiTenancy;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Students;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.EntityFrameworkCore</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyPortalDbContext</span> : <span class="title">AbpZeroDbContext</span>&lt;<span class="title">Tenant</span>, <span class="title">Role</span>, <span class="title">User</span>, <span class="title">MyPortalDbContext</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Define a DbSet for each entity of the application */</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;Student&gt; Students &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyPortalDbContext</span>(<span class="params">DbContextOptions&lt;MyPortalDbContext&gt; options</span>)</span></span><br><span class="line"><span class="function">            : <span class="title">base</span>(<span class="params">options</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ•°æ®åº“è¿ç§»"><a href="#åˆ›å»ºæ•°æ®åº“è¿ç§»" class="headerlink" title="åˆ›å»ºæ•°æ®åº“è¿ç§»"></a>åˆ›å»ºæ•°æ®åº“è¿ç§»</h3><p>åˆ›å»ºæ•°æ®åº“è¿ç§»<code>Abp_Tasks</code>è¡¨ï¼Œé€‰æ‹©é»˜è®¤é¡¹ç›®<code>.EntityFrameWorkCore</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Add-Migration &#x27;Create_Abp_Tasks&#x27;</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211106210823677.png" alt="image-20211106210823677"></p><p>ç”Ÿæˆçš„è¿ç§»ç±»ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211106210905907.png" alt="image-20211106210905907"></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore.Migrations;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Migrations</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">CreateStudentTable</span> : <span class="title">Migration</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Up</span>(<span class="params">MigrationBuilder migrationBuilder</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            migrationBuilder.CreateTable(</span><br><span class="line">                name: <span class="string">&quot;Abp_Student&quot;</span>,</span><br><span class="line">                columns: table =&gt; <span class="keyword">new</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Id = table.Column&lt;<span class="built_in">int</span>&gt;(type: <span class="string">&quot;uniqueidentifier&quot;</span>, nullable: <span class="literal">false</span>),</span><br><span class="line">                    Name = table.Column&lt;<span class="built_in">string</span>&gt;(type: <span class="string">&quot;nvarchar(50)&quot;</span>, maxLength: <span class="number">50</span>, nullable: <span class="literal">false</span>),</span><br><span class="line">                    Age = table.Column&lt;<span class="built_in">int</span>&gt;(type: <span class="string">&quot;int&quot;</span>, nullable: <span class="literal">false</span>),</span><br><span class="line">                    Address = table.Column&lt;<span class="built_in">string</span>&gt;(type: <span class="string">&quot;nvarchar(200)&quot;</span>, maxLength: <span class="number">200</span>, nullable: <span class="literal">true</span>),</span><br><span class="line">                   </span><br><span class="line">                &#125;,</span><br><span class="line">                constraints: table =&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    table.PrimaryKey(<span class="string">&quot;PK_Abp_Student&quot;</span>, x =&gt; x.Id);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Down</span>(<span class="params">MigrationBuilder migrationBuilder</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            migrationBuilder.DropTable(</span><br><span class="line">                name: <span class="string">&quot;Abp_Student&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><p>ç¨‹åºåŒ…ç®¡ç†æ§åˆ¶å°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Update-Database</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211106210959548.png" alt="image-20211106210959548"></p><p>æ‰§è¡Œå‘½ä»¤åä¼šåœ¨<code>SQL Server</code>ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>52AbpFree_db</code>çš„æ•°æ®åº“ï¼ŒåŒ…å«å®šä¹‰çš„å®ä½“è¡¨å’Œè¿ç§»è®°å½•</p><p><img data-src="https://cdn.jonty.top/img/image-20211106211155510.png" alt="image-20211106211155510"></p><p>æ³¨æ„ï¼šæ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²åœ¨<code>.Web.Mvc</code>é¡¹ç›®ä¸­çš„<code>appsettings.json</code>ä¸­é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;ConnectionStrings&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;Default&quot;</span>: <span class="string">&quot;Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=52AbpFree_db;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False&quot;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæœåŠ¡"><a href="#åˆ›å»ºæœåŠ¡" class="headerlink" title="åˆ›å»ºæœåŠ¡"></a>åˆ›å»ºæœåŠ¡</h3><p>åº”ç”¨æœåŠ¡å±‚ç”¨äºå‘è¡¨ç¤ºå±‚æä¾›é€»è¾‘å¤„ç†ï¼Œè¡¨ç¤ºå±‚è°ƒç”¨åº”ç”¨æœåŠ¡å±‚ï¼Œå¹¶ä»¥æ•°æ®ä¼ è¾“å¯¹è±¡<code>DTO</code>ä½œä¸ºå‚æ•°ï¼Œä½¿ç”¨é¢†åŸŸå¯¹è±¡æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œå¹¶å°†<code>DTO</code>è¿”å›è¡¨ç¤ºå±‚ã€‚</p><p>æˆ‘ä»¬åœ¨<code>.Application</code> åˆ›å»ºä¸€ä¸ª<code>StudentAppService</code>å’Œå¯¹åº”çš„<code>IStudentAppService</code>,ä»¥æ‰§è¡Œç›¸å…³çš„åº”ç”¨ç¨‹åºé€»è¾‘ã€‚</p><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªæœåŠ¡æ¥å£ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Abp.Application.Services;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Students.Dtos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å­¦ç”Ÿåº”ç”¨æœåŠ¡æ¥å£</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IStudentAppService</span> : <span class="title">IAsyncCrudAppService</span>&lt;<span class="title">StudentDto</span>, <span class="title">int</span>, <span class="title">PagedStudentResultRequestDto</span>,</span><br><span class="line">        <span class="title">CreateStudentDto</span>, <span class="title">StudentDto</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®šä¹‰æœåŠ¡æ¥å£ä¸æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯æŒ‰ç…§çº¦å®šï¼Œæ‰€æœ‰çš„åº”ç”¨æœåŠ¡éƒ½åº”è¯¥å®ç°<code>IApplicationService</code>ã€‚</p><p>å¹¶ä¸ºæ­¤å®šä¹‰äº†ä»¥ä¸‹<code>DTO</code>å¯¹è±¡ï¼š</p><ul><li><strong>StudentDto</strong>:ç”¨äºè¿”å›æŸ¥è¯¢</li><li><strong>PagedStudentResultRequestDto</strong>ï¼šç”¨äºåˆ†é¡µå’Œæœç´¢è¿‡æ»¤</li><li><strong>CreateStudentDto</strong>ï¼šç”¨äºæ–°å¢æˆ–ä¿®æ”¹</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.ComponentModel.DataAnnotations;</span><br><span class="line"><span class="keyword">using</span> Abp.Application.Services.Dto;</span><br><span class="line"><span class="keyword">using</span> Abp.AutoMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students.Dtos</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">AutoMap(typeof(Student))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentDto</span>:<span class="title">EntityDto</span></span><br><span class="line">    &#123; </span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åç§°</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        [<span class="meta">StringLength(Student.MaxNameLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¹´é¾„</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åœ°å€</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">StringLength(Student.MaxAddressLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Address &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.ComponentModel.DataAnnotations;</span><br><span class="line"><span class="keyword">using</span> Abp.Application.Services.Dto;</span><br><span class="line"><span class="keyword">using</span> Abp.AutoMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students.Dtos</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">AutoMapTo(typeof(Student))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CreateStudentDto</span>:<span class="title">EntityDto</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åç§°</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        [<span class="meta">StringLength(Student.MaxNameLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¹´é¾„</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åœ°å€</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        [<span class="meta">StringLength(Student.MaxAddressLength)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Address &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Abp.Application.Services.Dto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students.Dtos</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PagedStudentResultRequestDto</span> : <span class="title">PagedResultRequestDto</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Keyword &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š[AutoMapFrom]å±æ€§ç”¨æ¥åˆ›å»º<code>Student</code>=&gt;<code>Dto</code>çš„<strong>AutoMapper</strong>æ˜ å°„</p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å®ç°<code>IStudentAppService</code>:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> Abp.Application.Services;</span><br><span class="line"><span class="keyword">using</span> Abp.Domain.Repositories;</span><br><span class="line"><span class="keyword">using</span> Abp.Extensions;</span><br><span class="line"><span class="keyword">using</span> Abp.Linq.Extensions;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Students.Dtos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentAppService</span> : <span class="title">AsyncCrudAppService</span>&lt;<span class="title">Student</span>, <span class="title">StudentDto</span>, <span class="title">int</span>, <span class="title">PagedStudentResultRequestDto</span>, <span class="title">CreateStudentDto</span>, <span class="title">StudentDto</span>&gt;, <span class="title">IStudentAppService</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">StudentAppService</span>(<span class="params">IRepository&lt;Student, <span class="built_in">int</span>&gt; repository</span>) : <span class="title">base</span>(<span class="params">repository</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> IQueryable&lt;Student&gt; <span class="title">CreateFilteredQuery</span>(<span class="params">PagedStudentResultRequestDto input</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Repository.GetAll()</span><br><span class="line">                .WhereIf(!input.Keyword.IsNullOrWhiteSpace(), x =&gt; x.Name.Contains(input.Keyword));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>StudentAppService</strong>ç»§æ‰¿è‡ª<strong>AsyncCrudAppService</strong></li><li>ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥<strong>IRepository</strong></li></ul><p><strong>AsyncCrudAppService</strong>å¸®æˆ‘ä»¬å®ç°äº†åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107101650994.png" alt="image-20211107101650994"></p><p>ç›®å½•ç»“æ„ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107101751193.png" alt="image-20211107101751193"></p><h3 id="å­¦ç”Ÿåˆ—è¡¨è§†å›¾"><a href="#å­¦ç”Ÿåˆ—è¡¨è§†å›¾" class="headerlink" title="å­¦ç”Ÿåˆ—è¡¨è§†å›¾"></a>å­¦ç”Ÿåˆ—è¡¨è§†å›¾</h3><h4 id="æ·»åŠ æ–°çš„èœå•é¡¹"><a href="#æ·»åŠ æ–°çš„èœå•é¡¹" class="headerlink" title="æ·»åŠ æ–°çš„èœå•é¡¹"></a>æ·»åŠ æ–°çš„èœå•é¡¹</h4><p>åœ¨<strong>MyPortal.Web</strong>é¡¹ç›®ä¸­<code>Startup -&gt; MyPortalNavigationProvider</code>ä¸­æ·»åŠ æ–°çš„èœå•é¡¹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Abp.Application.Navigation;</span><br><span class="line"><span class="keyword">using</span> Abp.Authorization;</span><br><span class="line"><span class="keyword">using</span> Abp.Localization;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Authorization;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Web.Startup</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> This class defines menus for the application.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyPortalNavigationProvider</span> : <span class="title">NavigationProvider</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">SetNavigation</span>(<span class="params">INavigationProviderContext context</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            context.Manager.MainMenu</span><br><span class="line">                .AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.About,</span><br><span class="line">                        L(<span class="string">&quot;About&quot;</span>),</span><br><span class="line">                        url: <span class="string">&quot;About&quot;</span>,</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-info-circle&quot;</span></span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                .AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.Home,</span><br><span class="line">                        L(<span class="string">&quot;HomePage&quot;</span>),</span><br><span class="line">                        url: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-home&quot;</span>,</span><br><span class="line">                        requiresAuthentication: <span class="literal">true</span></span><br><span class="line">                    )</span><br><span class="line">                ).AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.Tenants,</span><br><span class="line">                        L(<span class="string">&quot;Tenants&quot;</span>),</span><br><span class="line">                        url: <span class="string">&quot;Tenants&quot;</span>,</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-building&quot;</span>,</span><br><span class="line">                        permissionDependency: <span class="keyword">new</span> SimplePermissionDependency(PermissionNames.Pages_Tenants)</span><br><span class="line">                    )</span><br><span class="line">                ).AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.Users,</span><br><span class="line">                        L(<span class="string">&quot;Users&quot;</span>),</span><br><span class="line">                        url: <span class="string">&quot;Users&quot;</span>,</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-users&quot;</span>,</span><br><span class="line">                        permissionDependency: <span class="keyword">new</span> SimplePermissionDependency(PermissionNames.Pages_Users)</span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                .AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.Roles,</span><br><span class="line">                        L(<span class="string">&quot;Roles&quot;</span>),</span><br><span class="line">                        url: <span class="string">&quot;Roles&quot;</span>,</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-theater-masks&quot;</span>,</span><br><span class="line">                        permissionDependency: <span class="keyword">new</span> SimplePermissionDependency(PermissionNames.Pages_Roles)</span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                <span class="comment">// å­¦ç”Ÿåˆ—è¡¨èœå•</span></span><br><span class="line">                .AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        PageNames.Students, <span class="comment">// èœå•åç§°</span></span><br><span class="line">                        L(<span class="string">&quot;Students&quot;</span>), <span class="comment">// æ˜¾ç¤ºåç§°</span></span><br><span class="line">                        url: <span class="string">&quot;Students&quot;</span>, <span class="comment">// Urlåœ°å€ å¯¹åº”Controlleråç§°</span></span><br><span class="line">                        icon: <span class="string">&quot;fa fa-tasks&quot;</span> <span class="comment">// å›¾æ ‡</span></span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                .AddItem(</span><br><span class="line">                    <span class="keyword">new</span> MenuItemDefinition(</span><br><span class="line">                        <span class="string">&quot;MultiLevelMenu&quot;</span>,</span><br><span class="line">                        L(<span class="string">&quot;MultiLevelMenu&quot;</span>),</span><br><span class="line">                        icon: <span class="string">&quot;fas fa-circle&quot;</span></span><br><span class="line">                    )</span><br><span class="line">                );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ILocalizableString <span class="title">L</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> LocalizableString(name, MyPortalConsts.LocalizationSourceName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºControllerå’ŒView"><a href="#åˆ›å»ºControllerå’ŒView" class="headerlink" title="åˆ›å»ºControllerå’ŒView"></a>åˆ›å»ºControllerå’ŒView</h4><p>åœ¨<strong>Web.MVC</strong>é¡¹ç›®ä¸‹æ–°å»ºæ–°çš„æ§åˆ¶å™¨ç±»<strong>StudentsController</strong>:</p><p><img data-src="https://cdn.jonty.top/img/image-20211106222518121.png" alt="image-20211106222518121"></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Runtime.CompilerServices;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"><span class="keyword">using</span> Abp.Application.Services.Dto;</span><br><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Controllers;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Students;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Web.Controllers</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentsController</span>: <span class="title">MyPortalControllerBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> IStudentAppService _studentAppService;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">StudentsController</span>(<span class="params">IStudentAppService studentAppService</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            _studentAppService = studentAppService;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>(<span class="params"></span>)</span> =&gt; View();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&gt; <span class="title">EditModal</span>(<span class="params"><span class="built_in">int</span> studentId</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> tenantDto = <span class="keyword">await</span> _studentAppService.GetAsync(<span class="keyword">new</span> EntityDto(studentId));</span><br><span class="line">            <span class="keyword">return</span> PartialView(<span class="string">&quot;_EditModal&quot;</span>, tenantDto);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>StudentsController</strong>ç»§æ‰¿è‡ª<strong>MyPortalControllerBase</strong></li><li>**Index()**è¿”å›ä¸€ä¸ªè§†å›¾</li></ul><p><img data-src="https://cdn.jonty.top/img/image-20211106222653044.png" alt="image-20211106222653044"></p><ul><li>ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥<strong>IStudentAppService</strong></li></ul><h4 id="å­¦ç”Ÿåˆ—è¡¨è§†å›¾-1"><a href="#å­¦ç”Ÿåˆ—è¡¨è§†å›¾-1" class="headerlink" title="å­¦ç”Ÿåˆ—è¡¨è§†å›¾"></a>å­¦ç”Ÿåˆ—è¡¨è§†å›¾</h4><p>å­¦ç”Ÿå±•ç¤ºåˆ—è¡¨å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">@using MyPortal.Web.Startup</span><br><span class="line">@&#123;</span><br><span class="line">    ViewBag.Title = L(&quot;Students&quot;);</span><br><span class="line">    ViewBag.CurrentPageName = PageNames.Students;</span><br><span class="line">&#125;</span><br><span class="line">@section scripts</span><br><span class="line">&#123;</span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">names</span>=<span class="string">&quot;Development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;~/view-resources/Views/Students/Index.js&quot;</span> <span class="attr">asp-append-version</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">names</span>=<span class="string">&quot;Staging,Production&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;~/view-resources/Views/Students/Index.min.js&quot;</span> <span class="attr">asp-append-version</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;content-header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-6&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>@L(&quot;Students&quot;)<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-6&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">data-target</span>=<span class="string">&quot;#StudentCreateModal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue float-sm-right&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-plus-square&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                    @L(&quot;CreateNewStudent&quot;)</span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-header&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="line">                                <span class="comment">&lt;!--Use for bulk actions--&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="line">                                @await Html.PartialAsync(&quot;~/Views/Students/Index.AdvancedSearch.cshtml&quot;)</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-body&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table-responsive&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;StudentsTable&quot;</span> <span class="attr">class</span>=<span class="string">&quot;table table-striped table-bordered&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>@L(&quot;Name&quot;)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>@L(&quot;Age&quot;)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>@L(&quot;Address&quot;)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">th</span> <span class="attr">style</span>=<span class="string">&quot;width: 150px&quot;</span>&gt;</span>@L(&quot;Actions&quot;)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">@await Html.PartialAsync(&quot;~/Views/Students/_CreateModal.cshtml&quot;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;StudentEditModal&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;StudentEditModalLabel&quot;</span> <span class="attr">data-backdrop</span>=<span class="string">&quot;static&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog modal-lg&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åŠ å…¥äº†<strong>æ–°å¢</strong>ã€<strong>ç¼–è¾‘</strong>ã€<strong>åˆ é™¤</strong>ä»¥åŠ<strong>æœç´¢</strong>çš„æŒ‰é’®ï¼Œå°†åœ¨åç»­è¡¥å……å®Œæ•´</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¸ºæ­¤è§†å›¾å¼•å…¥äº†å¯¹åº”çš„<code>js</code>æ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨<strong>wwwroot</strong>é™æ€èµ„æºç›®å½•ä¸‹</p><p><img data-src="https://cdn.jonty.top/img/image-20211107104617786.png" alt="image-20211107104617786"></p><p>å¹¶ä½¿ç”¨<code>Jquery</code>æ¥æ¸²æŸ“æˆ‘ä»¬çš„è¡¨æ ¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _studentService = abp.services.app.student,</span><br><span class="line">        l = abp.localization.getSource(<span class="string">&#x27;MyPortal&#x27;</span>),</span><br><span class="line">        _$modal = $(<span class="string">&#x27;#StudentCreateModal&#x27;</span>),</span><br><span class="line">        _$form = _$modal.find(<span class="string">&#x27;form&#x27;</span>),</span><br><span class="line">        _$table = $(<span class="string">&#x27;#StudentsTable&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _$studentsTable = _$table.DataTable(&#123;</span><br><span class="line">        <span class="attr">paging</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">serverSide</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">ajax</span>: <span class="function"><span class="keyword">function</span> (<span class="params">data, callback, settings</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> filter = $(<span class="string">&#x27;#StudentSearchForm&#x27;</span>).serializeFormToObject(<span class="literal">true</span>);</span><br><span class="line">            filter.maxResultCount = data.length;</span><br><span class="line">            filter.skipCount = data.start;</span><br><span class="line"></span><br><span class="line">            abp.ui.setBusy(_$table);</span><br><span class="line">            _studentService.getAll(filter).done(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">                callback(&#123;</span><br><span class="line">                    <span class="attr">recordsTotal</span>: result.totalCount,</span><br><span class="line">                    <span class="attr">recordsFiltered</span>: result.totalCount,</span><br><span class="line">                    <span class="attr">data</span>: result.items</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;).always(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                abp.ui.clearBusy(_$table);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">buttons</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;refresh&#x27;</span>,</span><br><span class="line">                <span class="attr">text</span>: <span class="string">&#x27;&lt;i class=&quot;fas fa-redo-alt&quot;&gt;&lt;/i&gt;&#x27;</span>,</span><br><span class="line">                <span class="attr">action</span>: <span class="function">() =&gt;</span> _$studentsTable.draw(<span class="literal">false</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">responsive</span>: &#123;</span><br><span class="line">            <span class="attr">details</span>: &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;column&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">columnDefs</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">targets</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">className</span>: <span class="string">&#x27;control&#x27;</span>,</span><br><span class="line">                <span class="attr">defaultContent</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">targets</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">data</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">                <span class="attr">sortable</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">targets</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">data</span>: <span class="string">&#x27;age&#x27;</span>,</span><br><span class="line">                <span class="attr">sortable</span>: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">targets</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">data</span>: <span class="string">&#x27;address&#x27;</span>,</span><br><span class="line">                <span class="attr">sortable</span>: <span class="literal">false</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">targets</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">data</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">sortable</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">autoWidth</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">defaultContent</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                <span class="attr">render</span>: <span class="function">(<span class="params">data, type, row, meta</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> [</span><br><span class="line">                        <span class="string">`   &lt;button type=&quot;button&quot; class=&quot;btn btn-sm bg-secondary edit-student&quot; data-student-id=&quot;<span class="subst">$&#123;row.id&#125;</span>&quot; data-toggle=&quot;modal&quot; data-target=&quot;#StudentEditModal&quot;&gt;`</span>,</span><br><span class="line">                        <span class="string">`       &lt;i class=&quot;fas fa-pencil-alt&quot;&gt;&lt;/i&gt; <span class="subst">$&#123;l(<span class="string">&#x27;Edit&#x27;</span>)&#125;</span>`</span>,</span><br><span class="line">                        <span class="string">&#x27;   &lt;/button&gt;&#x27;</span>,</span><br><span class="line">                        <span class="string">`   &lt;button type=&quot;button&quot; class=&quot;btn btn-sm bg-danger delete-student&quot; data-student-id=&quot;<span class="subst">$&#123;row.id&#125;</span>&quot; data-student-name=&quot;<span class="subst">$&#123;row.name&#125;</span>&quot;&gt;`</span>,</span><br><span class="line">                        <span class="string">`       &lt;i class=&quot;fas fa-trash&quot;&gt;&lt;/i&gt; <span class="subst">$&#123;l(<span class="string">&#x27;Delete&#x27;</span>)&#125;</span>`</span>,</span><br><span class="line">                        <span class="string">&#x27;   &lt;/button&gt;&#x27;</span></span><br><span class="line">                    ].join(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p><strong>abp.services.app.student</strong>ç”¨æ¥è·å–<code>StudentAppService</code></p></li><li><p><code>l = abp.localization.getSource(&#39;MyPortal&#39;)</code>è·å–æœ¬åœ°åŒ–èµ„æº</p></li><li><p><strong>columnDefs</strong>ä¸­å®šä¹‰è¡¨æ ¼å­—æ®µ</p></li></ul><p>é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107104031390.png" alt="image-20211107104031390"></p><h4 id="æœ¬åœ°åŒ–"><a href="#æœ¬åœ°åŒ–" class="headerlink" title="æœ¬åœ°åŒ–"></a>æœ¬åœ°åŒ–</h4><p>æˆ‘ä»¬åœ¨è§†å›¾ä¸­ä½¿ç”¨äº†<strong>L</strong>æ–¹æ³•ï¼Œå®ƒç”¨äº<strong>æœ¬åœ°åŒ–</strong>å­—ç¬¦ä¸²ã€‚å¯ä»¥åœ¨<code>.Core</code>é¡¹ç›®ä¸‹çš„æœ¬åœ°èµ„æºä¸­æ‰¾åˆ°å®ƒå¹¶é…ç½®ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107105529411.png" alt="image-20211107105529411"></p><p>æˆ‘ä»¬å°†é¡µé¢éœ€è¦çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å¯¹åº”è¯­è¨€çš„<strong>XML</strong>æ–‡ä»¶ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">name</span>=<span class="string">&quot;Students&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å­¦ç”Ÿåˆ—è¡¨&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">name</span>=<span class="string">&quot;Address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;åœ°å€&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">name</span>=<span class="string">&quot;Age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¹´é¾„&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">name</span>=<span class="string">&quot;EditStudent&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç¼–è¾‘å­¦ç”Ÿ&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">name</span>=<span class="string">&quot;CreateNewStudent&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ·»åŠ å­¦ç”Ÿ&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿‡æ»¤å­¦ç”Ÿè§†å›¾"><a href="#è¿‡æ»¤å­¦ç”Ÿè§†å›¾" class="headerlink" title="è¿‡æ»¤å­¦ç”Ÿè§†å›¾"></a>è¿‡æ»¤å­¦ç”Ÿè§†å›¾</h4><p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªè§†å›¾æ–‡ä»¶<code>Index.AdvancedSearch.cshtml</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;abp-advanced-search&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;StudentSearchForm&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group-prepend&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn bg-blue btn-search&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-search&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Keyword&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control txt-search&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¼å…¥å¹¶ä½¿ç”¨ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@await Html.PartialAsync(<span class="string">&quot;~/Views/Students/Index.AdvancedSearch.cshtml&quot;</span>)</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„ï¼Œåœ¨<code>index.js</code>æ–‡ä»¶ä¸­åŠ å…¥<strong>æœç´¢è§¦å‘äº‹ä»¶</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.btn-search&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">     _$studentsTable.ajax.reload();</span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line"> $(<span class="string">&#x27;.txt-search&#x27;</span>).on(<span class="string">&#x27;keypress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (e.which == <span class="number">13</span>) &#123;</span><br><span class="line">         _$studentsTable.ajax.reload();</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure><p>åœ¨<code>StudentAppService</code>ä¸­é‡å†™è¿‡æ»¤æŸ¥è¯¢æ–¹æ³•ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> IQueryable&lt;Student&gt; <span class="title">CreateFilteredQuery</span>(<span class="params">PagedStudentResultRequestDto input</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Repository.GetAll()</span><br><span class="line">                .WhereIf(!input.Keyword.IsNullOrWhiteSpace(), x =&gt; x.Name.Contains(input.Keyword));</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ•ˆæœï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107110550326.png" alt="image-20211107110550326"></p><h3 id="æ–°å¢å­¦ç”Ÿè§†å›¾"><a href="#æ–°å¢å­¦ç”Ÿè§†å›¾" class="headerlink" title="æ–°å¢å­¦ç”Ÿè§†å›¾"></a>æ–°å¢å­¦ç”Ÿè§†å›¾</h3><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª<strong>æ–°å¢å­¦ç”Ÿ</strong>çš„æ¨¡æ€æ¡†è§†å›¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">@using MyPortal.Web.Models.Common.Modals</span><br><span class="line">@model MyPortal.Web.Models.Students.StudentListViewModel</span><br><span class="line">@&#123;</span><br><span class="line">    Layout = null;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;StudentCreateModal&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;StudentCreateModalLabel&quot;</span> <span class="attr">data-backdrop</span>=<span class="string">&quot;static&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog modal-lg&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">            @await Html.PartialAsync(&quot;~/Views/Shared/Modals/_ModalHeader.cshtml&quot;, new ModalHeaderViewModel(L(&quot;CreateNewStudent&quot;)))</span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;roleCreateForm&quot;</span> <span class="attr">role</span>=<span class="string">&quot;form&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row required&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>@L(&quot;Name&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">required</span> <span class="attr">maxlength</span>=<span class="string">&quot;50&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row required&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;age&quot;</span>&gt;</span>@L(&quot;Age&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;age&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Age&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">required</span> <span class="attr">max</span>=<span class="string">&quot;130&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;address&quot;</span>&gt;</span>@L(&quot;Address&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                @await Html.PartialAsync(&quot;~/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml&quot;)</span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª<strong>è§†å›¾æ¨¡å‹ç±»</strong>:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> MyPortal.Students.Dtos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyPortal.Web.Models.Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentListViewModel</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> IReadOnlyList&lt;StudentDto&gt; Students &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211107112541841.png" alt="image-20211107112541841"></p><p>æœ€åæˆ‘ä»¬åœ¨<code>index.js</code>ä¸­åŠ å…¥<strong>åˆ›å»ºå­¦ç”Ÿ</strong>çš„è¯·æ±‚æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">_$form.find(<span class="string">&#x27;.save-button&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!_$form.valid()) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> student = _$form.serializeFormToObject();</span><br><span class="line"></span><br><span class="line">    abp.ui.setBusy(_$modal);</span><br><span class="line"></span><br><span class="line">    _studentService</span><br><span class="line">        .create(student)</span><br><span class="line">        .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            _$modal.modal(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">            _$form[<span class="number">0</span>].reset();</span><br><span class="line">            abp.notify.info(l(<span class="string">&#x27;SavedSuccessfully&#x27;</span>));</span><br><span class="line">            _$studentsTable.ajax.reload();</span><br><span class="line">        &#125;)</span><br><span class="line">        .always(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            abp.ui.clearBusy(_$modal);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ•ˆæœï¼š</p><p>ç‚¹å‡»<strong>æ·»åŠ å­¦ç”Ÿ</strong>æŒ‰é’®ï¼Œå¼¹å‡º<strong>æ¨¡æ€æ¡†</strong></p><p><img data-src="https://cdn.jonty.top/img/image-20211107113021877.png" alt="image-20211107113021877"></p><p>æˆ‘ä»¬è¾“å…¥æ•°æ®ï¼Œå¹¶ç‚¹å‡»ä¿å­˜ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107113201560.png" alt="image-20211107113201560"></p><p>å¯ä»¥çœ‹ï¼Œè¡¨æ ¼ä¸­å·²ç»å°†æˆ‘ä»¬åˆšåˆšæ–°å¢çš„æ•°æ®å±•ç¤ºå‡ºæ¥äº†</p><p><img data-src="https://cdn.jonty.top/img/image-20211107113240720.png" alt="image-20211107113240720"></p><h3 id="ç¼–è¾‘å­¦ç”Ÿè§†å›¾"><a href="#ç¼–è¾‘å­¦ç”Ÿè§†å›¾" class="headerlink" title="ç¼–è¾‘å­¦ç”Ÿè§†å›¾"></a>ç¼–è¾‘å­¦ç”Ÿè§†å›¾</h3><p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ª<strong>ç¼–è¾‘é¡µé¢</strong>è§†å›¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">@using MyPortal.Web.Models.Common.Modals</span><br><span class="line">@model MyPortal.Students.Dtos.StudentDto</span><br><span class="line">@&#123;</span><br><span class="line">    Layout = null;</span><br><span class="line">&#125;</span><br><span class="line">@await Html.PartialAsync(&quot;~/Views/Shared/Modals/_ModalHeader.cshtml&quot;, new ModalHeaderViewModel(L(&quot;EditStudent&quot;)))</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;StudentEditForm&quot;</span> <span class="attr">role</span>=<span class="string">&quot;form&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;@Model.Id&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row required&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>@L(&quot;Name&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;@Model.Name&quot;</span> <span class="attr">required</span> <span class="attr">maxlength</span>=<span class="string">&quot;50&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row required&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;age&quot;</span>&gt;</span>@L(&quot;Age&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;age&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;@Model.Age&quot;</span> <span class="attr">required</span> <span class="attr">maxlength</span>=<span class="string">&quot;128&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-md-3 col-form-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;address&quot;</span>&gt;</span>@L(&quot;Address&quot;)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-9&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;@Model.Address&quot;</span> <span class="attr">required</span> <span class="attr">maxlength</span>=<span class="string">&quot;200&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    @await Html.PartialAsync(&quot;~/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml&quot;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;~/view-resources/Views/Students/_EditModal.js&quot;</span> <span class="attr">asp-append-version</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¹¶åˆ›å»ºä¸€ä¸ª<strong>ç¼–è¾‘è§†å›¾</strong>çš„<code>_EditModal.js</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _studentService = abp.services.app.student,</span><br><span class="line">        l = abp.localization.getSource(<span class="string">&#x27;MyPortal&#x27;</span>),</span><br><span class="line">        _$modal = $(<span class="string">&#x27;#StudentEditModal&#x27;</span>),</span><br><span class="line">        _$form = _$modal.find(<span class="string">&#x27;form&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">save</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!_$form.valid()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> student = _$form.serializeFormToObject();</span><br><span class="line"></span><br><span class="line">        abp.ui.setBusy(_$form);</span><br><span class="line">        _studentService.update(student).done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            _$modal.modal(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">            abp.notify.info(l(<span class="string">&#x27;SavedSuccessfully&#x27;</span>));</span><br><span class="line">            abp.event.trigger(<span class="string">&#x27;student.edited&#x27;</span>, student);</span><br><span class="line">        &#125;).always(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            abp.ui.clearBusy(_$form);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _$form.closest(<span class="string">&#x27;div.modal-content&#x27;</span>).find(<span class="string">&quot;.save-button&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        save();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    _$form.find(<span class="string">&#x27;input&#x27;</span>).on(<span class="string">&#x27;keypress&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.which === <span class="number">13</span>) &#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">            save();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    _$modal.on(<span class="string">&#x27;shown.bs.modal&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        _$form.find(<span class="string">&#x27;input[type=text]:first&#x27;</span>).focus();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><p>åœ¨<code>Index</code>é¡µé¢ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»ç¼–è¾‘æ—¶ï¼Œéœ€è¦å…ˆæŸ¥è¯¢å½“å‰å®ä½“ï¼Œç„¶åå¡«å……åˆ°ç¼–è¾‘è§†å›¾ä¸­å»ï¼š</p><p>åœ¨<code>index.js</code>ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;.edit-student&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> studentId = $(<span class="built_in">this</span>).attr(<span class="string">&#x27;data-student-id&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    abp.ajax(&#123;</span><br><span class="line">        <span class="attr">url</span>: abp.appPath + <span class="string">&#x27;Students/EditModal?studentId=&#x27;</span> + studentId,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&#x27;html&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">content</span>) </span>&#123;</span><br><span class="line">            $(<span class="string">&#x27;#StudentEditModal div.modal-content&#x27;</span>).html(content);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">error</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123; &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„ï¼Œåœ¨<strong>StudentController</strong>ä¸­éœ€è¦æ·»åŠ <strong>EditModal</strong>æ–¹æ³•ï¼Œå¹¶æ¥æ”¶ä¸€ä¸ª<strong>studentId</strong>å‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p><p>æ ¹æ®å­¦ç”ŸIdæŸ¥è¯¢å½“å‰ç¼–è¾‘çš„å­¦ç”Ÿï¼Œå¹¶å°†å€¼è¿”å›ç»™ç¼–è¾‘çš„æ¨¡æ€æ¡†</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&gt; <span class="title">EditModal</span>(<span class="params"><span class="built_in">int</span> studentId</span>)</span></span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">var</span> tenantDto = <span class="keyword">await</span> _studentAppService.GetAsync(<span class="keyword">new</span> EntityDto(studentId));</span><br><span class="line">          <span class="keyword">return</span> PartialView(<span class="string">&quot;_EditModal&quot;</span>, tenantDto);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p>æˆ‘ä»¬å°†å‰é¢æ–°å¢çš„æ•°æ®<code>jiejie</code>çš„å¹´é¾„æ›´æ”¹ä¸º<code>202</code></p><p><img data-src="https://cdn.jonty.top/img/image-20211107115502392.png" alt="image-20211107115502392"></p><p>ä¿å­˜ååˆ·æ–°åˆ—è¡¨å¹¶ä¸”å³ä¸‹è§’å¼¹å‡º<strong>ä¿å­˜æˆåŠŸ</strong>ï¼Œç¼–è¾‘åŠŸèƒ½å°±å®Œæˆäº†</p><p><img data-src="https://cdn.jonty.top/img/image-20211107115543250.png" alt="image-20211107115543250"></p><h3 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h3><p>åˆ é™¤éœ€è¦æˆ‘ä»¬ä¼ å…¥è¦åˆ é™¤çš„å­¦ç”ŸId,æˆ‘ä»¬åªéœ€è¦åœ¨<code>index.js</code>ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteStudent</span>(<span class="params">studentId, studentName</span>) </span>&#123;</span><br><span class="line">    abp.message.confirm(</span><br><span class="line">        abp.utils.formatString(</span><br><span class="line">            l(<span class="string">&#x27;AreYouSureWantToDelete&#x27;</span>),</span><br><span class="line">            studentName</span><br><span class="line">        ),</span><br><span class="line">        <span class="literal">null</span>,</span><br><span class="line">        <span class="function">(<span class="params">isConfirmed</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isConfirmed) &#123;</span><br><span class="line">                _studentService</span><br><span class="line">                    .delete(&#123;</span><br><span class="line">                        <span class="attr">id</span>: studentId</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .done(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                        abp.notify.info(l(<span class="string">&#x27;SuccessfullyDeleted&#x27;</span>));</span><br><span class="line">                        _$studentsTable.ajax.reload();</span><br><span class="line">                    &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»åˆ é™¤ï¼Œå¼¹å‡ºæç¤ºæ¡†ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211107115722754.png" alt="image-20211107115722754"></p><p>ç‚¹å‡»ç¡®å®šï¼Œåˆ·æ–°åˆ—è¡¨å¹¶å¼¹å‡ºåˆ é™¤æˆåŠŸæç¤º</p><p><img data-src="https://cdn.jonty.top/img/image-20211107115801144.png" alt="image-20211107115801144"></p><h3 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h3><p>ä½ å¯ä»¥ä»ä»¥ä¸‹ä»“åº“åœ°å€è·å–æºç ï¼š</p><p><a href="https://github.com/JontyMin/52abp_examples/tree/main/src/MyPortal/src/myportal-aspnet-core">https://github.com/JontyMin/52abp_examples/tree/main/src/MyPortal/src/myportal-aspnet-core</a></p><blockquote><p>ç‰ˆæƒå£°æ˜ï¼šæœ¬äººä¸º52abpç¤¾åŒºæˆå‘˜ï¼Œä¸52abpç¤¾åŒºwikiå†…å®¹ä¸€è‡´ï¼Œä¸å­˜åœ¨å†…å®¹ä¾µæƒã€‚</p><p>æœ¬æ–‡PR:<a href="https://github.com/52ABP/Documents/pull/109">https://github.com/52ABP/Documents/pull/109</a></p></blockquote>]]></content>
    
    
    <summary type="html">ä½¿ç”¨.NETCore+EFCore+52ABPæ¨¡æ¿å¼€å‘MVCåº”ç”¨æ•™ç¨‹</summary>
    
    
    
    <category term="52ABP" scheme="https://jonty.top/categories/52ABP/"/>
    
    
    <category term="MVC" scheme="https://jonty.top/tags/MVC/"/>
    
    <category term="EFCore" scheme="https://jonty.top/tags/EFCore/"/>
    
    <category term=".NETCore" scheme="https://jonty.top/tags/NETCore/"/>
    
  </entry>
  
  <entry>
    <title>VMwareå®‰è£…Linux</title>
    <link href="https://jonty.top/2021/10/27/vmware-install-linux/"/>
    <id>https://jonty.top/2021/10/27/vmware-install-linux/</id>
    <published>2021-10-27T15:53:25.000Z</published>
    <updated>2021-10-27T16:15:12.630Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è™šæ‹Ÿæœº"><a href="#è™šæ‹Ÿæœº" class="headerlink" title="è™šæ‹Ÿæœº"></a>è™šæ‹Ÿæœº</h3><p>è™šæ‹Ÿæœº(Virtual Machineï¼‰æŒ‡é€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿçš„å…·æœ‰å®Œæ•´ç¡¬ä»¶ç³»ç»ŸåŠŸèƒ½çš„ã€è¿è¡Œåœ¨ä¸€ä¸ªå®Œå…¨éš”ç¦»ç¯å¢ƒä¸­çš„å®Œæ•´è®¡ç®—æœºç³»ç»Ÿã€‚<br>è™šæ‹Ÿç³»ç»Ÿé€šè¿‡ç”Ÿæˆç°æœ‰æ“ä½œç³»ç»Ÿçš„å…¨æ–°è™šæ‹Ÿé•œåƒï¼Œå®ƒå…·æœ‰çœŸå®windowsç³»ç»Ÿå®Œå…¨ä¸€æ ·çš„åŠŸèƒ½ï¼Œè¿›å…¥è™šæ‹Ÿç³»ç»Ÿåï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨è¿™ä¸ªå…¨æ–°çš„ç‹¬ç«‹çš„è™šæ‹Ÿç³»ç»Ÿé‡Œé¢è¿›è¡Œï¼Œå¯ä»¥ç‹¬ç«‹å®‰è£…è¿è¡Œè½¯ä»¶ï¼Œä¿å­˜æ•°æ®ï¼Œæ‹¥æœ‰è‡ªå·±çš„ç‹¬ç«‹æ¡Œé¢ï¼Œä¸ä¼šå¯¹çœŸæ­£çš„ç³»ç»Ÿäº§ç”Ÿä»»ä½•å½±å“ï¼Œè€Œä¸”å…·æœ‰èƒ½å¤Ÿåœ¨ç°æœ‰ç³»ç»Ÿä¸è™šæ‹Ÿé•œåƒä¹‹é—´çµæ´»åˆ‡æ¢çš„ä¸€ç±»æ“ä½œç³»ç»Ÿã€‚<br>æµè¡Œçš„è™šæ‹Ÿæœºå‚å®¶æœ‰VMwareã€ loracle Virtual Boã€å¾®è½¯Virtua PCï¼Œå®ƒä»¬éƒ½èƒ½åœ¨Windowsç³»ç»Ÿä¸Šè™šæ‹Ÿå‡ºå¤šä¸ªè®¡ç®—æœº(Win/Linux)</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ä½¿ç”¨VMwareå®‰è£…Oracle Linux 7.6</p><p>éœ€è¦å®‰è£…å¥½<a href="https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html">VMware Workstation</a></p><h4 id="è™šæ‹Ÿæœºè®¾ç½®"><a href="#è™šæ‹Ÿæœºè®¾ç½®" class="headerlink" title="è™šæ‹Ÿæœºè®¾ç½®"></a>è™šæ‹Ÿæœºè®¾ç½®</h4><h5 id="æ–°å»ºå‘å¯¼"><a href="#æ–°å»ºå‘å¯¼" class="headerlink" title="æ–°å»ºå‘å¯¼"></a>æ–°å»ºå‘å¯¼</h5><img data-src="https://cdn.jonty.top/img/image-20211027184244784.png" alt="image-20211027184244784"  /><h5 id="é€‰æ‹©å…¼å®¹ç‰ˆæœ¬"><a href="#é€‰æ‹©å…¼å®¹ç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©å…¼å®¹ç‰ˆæœ¬"></a>é€‰æ‹©å…¼å®¹ç‰ˆæœ¬</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027184306364.png" alt="image-20211027184306364"></p><h5 id="ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ"><a href="#ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ" class="headerlink" title="ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ"></a>ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</h5><p>æ–¹ä¾¿åç»­è‡ªå®šä¹‰é…ç½®</p><p><img data-src="https://cdn.jonty.top/img/image-20211027184359980.png" alt="image-20211027184359980"></p><h5 id="é€‰æ‹©Linux"><a href="#é€‰æ‹©Linux" class="headerlink" title="é€‰æ‹©Linux"></a>é€‰æ‹©Linux</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027191801120.png" alt="image-20211027191801120"></p><h5 id="åç§°å’Œå­˜å‚¨ä½ç½®"><a href="#åç§°å’Œå­˜å‚¨ä½ç½®" class="headerlink" title="åç§°å’Œå­˜å‚¨ä½ç½®"></a>åç§°å’Œå­˜å‚¨ä½ç½®</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192047604.png" alt="image-20211027192047604"></p><h5 id="å¤„ç†å™¨é…ç½®"><a href="#å¤„ç†å™¨é…ç½®" class="headerlink" title="å¤„ç†å™¨é…ç½®"></a>å¤„ç†å™¨é…ç½®</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192100304.png" alt="image-20211027192100304"></p><h5 id="å†…å­˜é…ç½®"><a href="#å†…å­˜é…ç½®" class="headerlink" title="å†…å­˜é…ç½®"></a>å†…å­˜é…ç½®</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192129135.png" alt="image-20211027192129135"></p><h5 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192149657.png" alt="image-20211027192149657"></p><h5 id="å­˜å‚¨é…ç½®"><a href="#å­˜å‚¨é…ç½®" class="headerlink" title="å­˜å‚¨é…ç½®"></a>å­˜å‚¨é…ç½®</h5><p>æ§åˆ¶å™¨ç±»å‹</p><p><img data-src="https://cdn.jonty.top/img/image-20211027192206105.png" alt="image-20211027192206105"></p><p>ç£ç›˜ç±»å‹</p><p><img data-src="https://cdn.jonty.top/img/image-20211027192223604.png" alt="image-20211027192223604"></p><p>åˆ›å»ºç£ç›˜</p><p><img data-src="https://cdn.jonty.top/img/image-20211027192248532.png" alt="image-20211027192248532"></p><p>æŒ‡å®šç£ç›˜å®¹é‡ï¼Œå­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶</p><p><img data-src="https://cdn.jonty.top/img/image-20211027192321137.png" alt="image-20211027192321137"></p><p>æŒ‡å®šç£ç›˜æ–‡ä»¶</p><p><img data-src="https://cdn.jonty.top/img/image-20211027192421162.png" alt="image-20211027192421162"></p><h5 id="é…ç½®å®Œæˆ"><a href="#é…ç½®å®Œæˆ" class="headerlink" title="é…ç½®å®Œæˆ"></a>é…ç½®å®Œæˆ</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192428709.png" alt="image-20211027192428709"></p><h4 id="é•œåƒè®¾ç½®"><a href="#é•œåƒè®¾ç½®" class="headerlink" title="é•œåƒè®¾ç½®"></a>é•œåƒè®¾ç½®</h4><img data-src="https://cdn.jonty.top/img/image-20211027192737113.png" alt="image-20211027192737113" style="zoom:67%;" /><h4 id="é«˜çº§è®¾ç½®"><a href="#é«˜çº§è®¾ç½®" class="headerlink" title="é«˜çº§è®¾ç½®"></a>é«˜çº§è®¾ç½®</h4><h5 id="ç¦ç”¨å†…å­˜é¡µé¢ä¼‘æ•´"><a href="#ç¦ç”¨å†…å­˜é¡µé¢ä¼‘æ•´" class="headerlink" title="ç¦ç”¨å†…å­˜é¡µé¢ä¼‘æ•´"></a>ç¦ç”¨å†…å­˜é¡µé¢ä¼‘æ•´</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192833894.png" alt="image-20211027192833894"></p><h5 id="æ·»åŠ å…±äº«æ–‡ä»¶å¤¹"><a href="#æ·»åŠ å…±äº«æ–‡ä»¶å¤¹" class="headerlink" title="æ·»åŠ å…±äº«æ–‡ä»¶å¤¹"></a>æ·»åŠ å…±äº«æ–‡ä»¶å¤¹</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027192934066.png" alt="image-20211027192934066"></p><h4 id="Linuxç³»ç»Ÿè®¾ç½®"><a href="#Linuxç³»ç»Ÿè®¾ç½®" class="headerlink" title="Linuxç³»ç»Ÿè®¾ç½®"></a>Linuxç³»ç»Ÿè®¾ç½®</h4><h5 id="å¯åŠ¨è™šæ‹Ÿæœº"><a href="#å¯åŠ¨è™šæ‹Ÿæœº" class="headerlink" title="å¯åŠ¨è™šæ‹Ÿæœº"></a>å¯åŠ¨è™šæ‹Ÿæœº</h5><p>ç‚¹å‡»å¯åŠ¨è™šæ‹Ÿæœºï¼Œé€‰æ‹©å®‰è£…Oracle,æŒ‰<code>Enter</code></p><p><img data-src="https://cdn.jonty.top/img/image-20211027193123710.png" alt="image-20211027193123710"></p><h5 id="é€‰æ‹©è¯­è¨€"><a href="#é€‰æ‹©è¯­è¨€" class="headerlink" title="é€‰æ‹©è¯­è¨€"></a>é€‰æ‹©è¯­è¨€</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027193415173.png" alt="image-20211027193415173"></p><h5 id="è½¯ä»¶é€‰æ‹©"><a href="#è½¯ä»¶é€‰æ‹©" class="headerlink" title="è½¯ä»¶é€‰æ‹©"></a>è½¯ä»¶é€‰æ‹©</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027194247111.png" alt="image-20211027194247111"></p><p>å¯æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é…ç½®ï¼Œè¿™é‡Œé€‰æ‹©äº†å¸¦æœ‰æ“ä½œç•Œé¢çš„æœåŠ¡å™¨é€‰é¡¹</p><p><img data-src="https://cdn.jonty.top/img/image-20211027194812583.png" alt="image-20211027194812583"></p><p>æ·»åŠ é™„åŠ é€‰é¡¹ï¼ŒæŒ‰å®é™…éœ€æ±‚é€‰æ‹©</p><p><img data-src="https://cdn.jonty.top/img/image-20211027194850975.png" alt="image-20211027194850975"></p><h5 id="å®‰è£…ç›®æ ‡ä½ç½®"><a href="#å®‰è£…ç›®æ ‡ä½ç½®" class="headerlink" title="å®‰è£…ç›®æ ‡ä½ç½®"></a>å®‰è£…ç›®æ ‡ä½ç½®</h5><p>è‡ªå®šä¹‰åˆ†åŒºï¼Œé€‰æ‹©<code>æˆ‘è¦é…ç½®åˆ†åŒº</code>åç‚¹å‡»å®Œæˆ</p><p><img data-src="https://cdn.jonty.top/img/image-20211027195039952.png" alt="image-20211027195039952"></p><p>é€‰æ‹©æ ‡å‡†åˆ†åŒº è‡ªåŠ¨åˆ›å»º</p><p><img data-src="https://cdn.jonty.top/img/image-20211027195251934.png" alt="image-20211027195251934"></p><p>å°†/homeçš„æŒ‚è½½ç‚¹æ›´æ”¹ä¸º/opt/oracle,ç‚¹å‡»å®Œæˆ</p><p>æ–¹ä¾¿åç»­å®‰è£…<code>Oracle</code></p><p><img data-src="https://cdn.jonty.top/img/image-20211027195443704.png" alt="image-20211027195443704"></p><p>æ¥å—æ›´æ”¹</p><p><img data-src="https://cdn.jonty.top/img/image-20211027195634673.png" alt="image-20211027195634673"></p><h5 id="æ›´æ”¹ç½‘ç»œé…ç½®"><a href="#æ›´æ”¹ç½‘ç»œé…ç½®" class="headerlink" title="æ›´æ”¹ç½‘ç»œé…ç½®"></a>æ›´æ”¹ç½‘ç»œé…ç½®</h5><p>æ‰“å¼€ç½‘å¡ï¼Œç‚¹å‡»é…ç½®</p><p><img data-src="https://cdn.jonty.top/img/image-20211027200029445.png" alt="image-20211027200029445"></p><p>é€‰æ‹©IPV4åœ°å€</p><p><img data-src="https://cdn.jonty.top/img/image-20211027200121652.png" alt="image-20211027200121652"></p><p>éœ€è¦å¯¹åº”æœ¬æœºç”µè„‘çš„ç½‘ç»œé…ç½®ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ï¼Œä»…ä¾›å‚è€ƒ</p><p><img data-src="https://cdn.jonty.top/img/image-20211027200202788.png" alt="image-20211027200202788"></p><h5 id="å…³é—­å®‰å…¨ç­–ç•¥"><a href="#å…³é—­å®‰å…¨ç­–ç•¥" class="headerlink" title="å…³é—­å®‰å…¨ç­–ç•¥"></a>å…³é—­å®‰å…¨ç­–ç•¥</h5><p><img data-src="https://cdn.jonty.top/img/image-20211027200302409.png" alt="image-20211027200302409"></p><p><img data-src="https://cdn.jonty.top/img/image-20211027200314652.png" alt="image-20211027200314652"></p><h5 id="ç”¨æˆ·è®¾ç½®"><a href="#ç”¨æˆ·è®¾ç½®" class="headerlink" title="ç”¨æˆ·è®¾ç½®"></a>ç”¨æˆ·è®¾ç½®</h5><p>ç‚¹å‡»å¼€å§‹å®‰è£…åï¼Œé…ç½®<strong>root</strong>ç”¨æˆ·å¯†ç </p><p><img data-src="https://cdn.jonty.top/img/image-20211027200422604.png" alt="image-20211027200422604"></p><p>å¯ä»¥é¡ºä¾¿åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·</p><p><img data-src="https://cdn.jonty.top/img/image-20211027200540510.png" alt="image-20211027200540510"></p><h5 id="å®‰è£…å®Œæˆ"><a href="#å®‰è£…å®Œæˆ" class="headerlink" title="å®‰è£…å®Œæˆ"></a>å®‰è£…å®Œæˆ</h5><p>å®‰è£…å®Œæˆåé‡å¯è¿›å…¥ç³»ç»Ÿ</p><p><img data-src="https://cdn.jonty.top/img/image-20211027202258848.png" alt="image-20211027202258848"></p><p>è®°å¾—æ¥å—è®¸å¯è¯</p><p><img data-src="https://cdn.jonty.top/img/image-20211027202457891.png" alt="image-20211027202457891"></p><p>è‡³æ­¤å°±å®‰è£…å®Œæˆã€‚ä¸å½“ä¹‹å¤„æ¬¢è¿æŒ‡æ­£</p><blockquote><p>ç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰,å…¶æ¬¡æ˜¯ç°åœ¨</p></blockquote>]]></content>
    
    
    <summary type="html">ä½¿ç”¨VMwareå®‰è£…Linuxç³»ç»Ÿå›¾é‰´</summary>
    
    
    
    <category term="Linux" scheme="https://jonty.top/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://jonty.top/tags/Linux/"/>
    
    <category term="VMware" scheme="https://jonty.top/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title>VMwareæ¡¥æ¥æ¨¡å¼è¿æ¥å¤±è´¥</title>
    <link href="https://jonty.top/2021/10/27/vmware-bridge-ping-nowhere/"/>
    <id>https://jonty.top/2021/10/27/vmware-bridge-ping-nowhere/</id>
    <published>2021-10-27T15:19:50.000Z</published>
    <updated>2021-10-27T15:47:46.395Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å­¦ä¹ <code>Linux</code>ä»¥åŠ<code>Oracle</code>æ•°æ®åº“ï¼Œä¸ºå‡ºå·®<code>AMD</code>åšå‡†å¤‡ã€‚ï¼ˆæœªçŸ¥ï¼‰é¡ºä¾¿é¡ºç‚¹CPUå›æ¥ğŸ˜‚</p><p>ğŸ‚*å¹è¿‡å¤´äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œä¸Šå›¾ï¼š</p><img data-src="https://cdn.jonty.top/img/image-20211027204530933.png" alt="image-20211027204530933" style="zoom:67%;" /><p>ä½¿ç”¨<strong>VMware</strong>å®‰è£…<strong>Oracle Linux</strong>,ä½¿ç”¨<u>æ¡¥æ¥æ¨¡å¼(Bridge)</u>è¿æ¥ç½‘ç»œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.2.1</span><br></pre></td></tr></table></figure><p>åœ¨<code>ping</code>æœ¬æœºæ—¶å‘ç°æ— æ³•è¿æ¥ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="æ£€æŸ¥ç½‘ç»œè®¾ç½®"><a href="#æ£€æŸ¥ç½‘ç»œè®¾ç½®" class="headerlink" title="æ£€æŸ¥ç½‘ç»œè®¾ç½®"></a>æ£€æŸ¥ç½‘ç»œè®¾ç½®</h3><p>æŸ¥çœ‹<strong>Linux</strong>ä¸­<strong>IPv4</strong>è®¾ç½®ï¼Œ</p><p>è¿™é‡Œä½¿ç”¨çš„æ‰‹åŠ¨æ¨¡å¼è·å–ï¼Œ</p><ul><li>åœ°å€ï¼š192.168.2.51</li><li>æ©ç ï¼š255.255.255.0</li><li>ç½‘å…³ï¼š192.168.2.1</li></ul><img data-src="https://cdn.jonty.top/img/image-20211027204554710.png" alt="image-20211027204554710" style="zoom:67%;" /><p>ä¸æœ¬æœºåœ°å€å¯¹æ¯”ï¼Œæ£€æŸ¥æ˜¯å¦é…ç½®é”™è¯¯</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹<code>win</code>çš„ç½‘ç»œé…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig</span><br></pre></td></tr></table></figure><blockquote><p>PSï¼šlinuxä¸­ä¸ºï¼šifconfig</p></blockquote><img data-src="https://cdn.jonty.top/img/image-20211027200202788.png" style="zoom:67%;" /><p>å¯¹æ¯”å‘ç°ï¼šæ©ç å’Œç½‘å…³ä¸€è‡´ï¼ŒIPä¹Ÿæœªå†²çªã€‚æ‰€ä»¥Linuxä¸­é…ç½®æ— è¯¯ã€‚</p><h3 id="æ£€æŸ¥è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"><a href="#æ£€æŸ¥è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨" class="headerlink" title="æ£€æŸ¥è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨"></a>æ£€æŸ¥è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</h3><p>æŸ¥çœ‹ä¸€ä¸‹<strong>VMware</strong>ç½‘ç»œç¼–è¾‘å™¨ä¸­<strong>æ¡¥æ¥æ¨¡å¼</strong>çš„é…ç½®</p><img data-src="https://cdn.jonty.top/img/image-20211027204653746.png" alt="image-20211027204653746" style="zoom:67%;" /><p>ç‚¹å‡»æ›´æ”¹è®¾ç½®ï¼Œä¸€èˆ¬æ¡¥æ¥æ¨¡å¼<strong>æ¡¥æ¥åœ°å€</strong>ä¸º<strong>è‡ªåŠ¨</strong>é€‰æ‹©ï¼Œå»ºè®®é…ç½®ä¸ºç”µè„‘ç½‘ç»œè¿æ¥ä½¿ç”¨çš„ç½‘å¡åœ°å€ã€‚</p><img data-src="https://cdn.jonty.top/img/image-20211027204735327.png" alt="image-20211027204735327" style="zoom:67%;" /><h3 id="æ£€æŸ¥æœ¬æœºç½‘å¡"><a href="#æ£€æŸ¥æœ¬æœºç½‘å¡" class="headerlink" title="æ£€æŸ¥æœ¬æœºç½‘å¡"></a>æ£€æŸ¥æœ¬æœºç½‘å¡</h3><p>æ‰“å¼€<strong>æ§åˆ¶é¢æ¿</strong>ï¼Œæ‰¾åˆ°å½“å‰è¿æ¥ç½‘ç»œ</p><img data-src="https://cdn.jonty.top/img/image-20211027204905408.png" alt="image-20211027204905408" style="zoom:67%;" /><p>æŸ¥çœ‹è¿æ¥ç½‘ç»œå±æ€§</p><img data-src="https://cdn.jonty.top/img/image-20211027204929950.png" alt="image-20211027204929950" style="zoom:67%;" /><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰è¿æ¥ç½‘ç»œä½¿ç”¨çš„ç½‘å¡ä¸ºï¼š<code>Realtek PCIe GbE Family Controller</code>,æˆ‘ä»¬å°†VMwareè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ä¸­æ¡¥æ¥æ¨¡å¼çš„ç½‘å¡è®¾ç½®ä¸ºæœ¬æœºå½“å‰ç½‘ç»œä½¿ç”¨çš„ç½‘å¡ã€‚</p><p>é€‰æ‹©åç‚¹å‡»<strong>åº”ç”¨</strong></p><img data-src="https://cdn.jonty.top/img/image-20211027205006171.png" alt="image-20211027205006171" style="zoom:67%;" /><h3 id="æ£€æŸ¥è¿æ¥çŠ¶æ€"><a href="#æ£€æŸ¥è¿æ¥çŠ¶æ€" class="headerlink" title="æ£€æŸ¥è¿æ¥çŠ¶æ€"></a>æ£€æŸ¥è¿æ¥çŠ¶æ€</h3><p>å›åˆ°<strong>Linux</strong>ä¸­ï¼Œå†æ¬¡<code>ping</code>è¿æ¥æˆåŠŸã€‚</p><img data-src="https://cdn.jonty.top/img/image-20211027205030251.png" alt="image-20211027205030251" style="zoom:67%;" /><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå°çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><blockquote><p>æœ‰æ—¶å€™é—®é¢˜å¾ˆå¤æ‚ï¼Œç­”æ¡ˆå´å¾ˆç®€å•</p></blockquote><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p><strong>VMwareæ¡¥æ¥æ¨¡å¼</strong>ï¼š</p><p>VMwareæ¡¥æ¥æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯å°†è™šæ‹Ÿæœºçš„è™šæ‹Ÿç½‘ç»œé€‚é…å™¨ä¸ä¸»æœºçš„ç‰©ç†ç½‘ç»œé€‚é…å™¨è¿›è¡Œäº¤æ¥ï¼Œè™šæ‹Ÿæœºä¸­çš„è™šæ‹Ÿç½‘ç»œé€‚é…å™¨å¯é€šè¿‡ä¸»æœºä¸­çš„ç‰©ç†ç½‘ç»œé€‚é…å™¨ç›´æ¥è®¿é—®åˆ°å¤–éƒ¨ç½‘ç»œã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œè¿™å°±å¥½åƒåœ¨ä¸Šå›¾æ‰€ç¤ºçš„å±€åŸŸç½‘ä¸­æ·»åŠ äº†ä¸€å°æ–°çš„ã€ç‹¬ç«‹çš„è®¡ç®—æœºä¸€æ ·ã€‚å› æ­¤ï¼Œè™šæ‹Ÿæœºä¹Ÿä¼šå ç”¨å±€åŸŸç½‘ä¸­çš„ä¸€ä¸ªIPåœ°å€ï¼Œå¹¶ä¸”å¯ä»¥å’Œå…¶ä»–ç»ˆç«¯è¿›è¡Œç›¸äº’è®¿é—®ã€‚</p><p>æ¡¥æ¥æ¨¡å¼ç½‘ç»œè¿æ¥æ”¯æŒæœ‰çº¿å’Œæ— çº¿ä¸»æœºç½‘ç»œé€‚é…å™¨ã€‚å¦‚æœä½ æƒ³æŠŠè™šæ‹Ÿæœºå½“åšä¸€å°å®Œå…¨ç‹¬ç«‹çš„è®¡ç®—æœºçœ‹å¾…ï¼Œå¹¶ä¸”å…è®¸å®ƒå’Œå…¶ä»–ç»ˆç«¯ä¸€æ ·çš„è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œé‚£ä¹ˆæ¡¥æ¥æ¨¡å¼é€šå¸¸æ˜¯è™šæ‹Ÿæœºè®¿é—®ç½‘ç»œçš„æœ€ç®€å•é€”å¾„ã€‚å› ä¸ºâ€æ¡¥æ¥æ¨¡å¼â€ä¸‹è™šæ‹Ÿæœºç›¸å½“äºå±€åŸŸç½‘ä¸­çš„ä¸€å°ç”µè„‘ï¼Œæ‰€ä»¥IPåŒä¸»æœºçš„IPåœ¨åŒä¸€ç½‘æ®µ</p>]]></content>
    
    
    <summary type="html">VMwareå®‰è£…Linuxç½‘ç»œæ¡¥æ¥æ¨¡å¼è¿æ¥å¤±è´¥</summary>
    
    
    
    <category term="Linux" scheme="https://jonty.top/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://jonty.top/tags/Linux/"/>
    
    <category term="VMware" scheme="https://jonty.top/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title>æ¸©æ•…è€ŒçŸ¥æ–°-C#æ³›å‹</title>
    <link href="https://jonty.top/2021/10/08/csharp-generic-review-02/"/>
    <id>https://jonty.top/2021/10/08/csharp-generic-review-02/</id>
    <published>2021-10-07T17:05:07.000Z</published>
    <updated>2021-10-07T17:08:05.505Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><p>é™¤äº†æœ‰<strong>æ³›å‹æ–¹æ³•</strong>ï¼Œè¿˜æœ‰<strong>æ³›å‹ç±»</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DocumentManager</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">readonly</span>  <span class="title">Queue</span>&lt;<span class="title">T</span>&gt; _documentQueue</span>= <span class="keyword">new</span> Queue&lt;T&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">object</span> _lock = <span class="keyword">new</span> <span class="built_in">object</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsAvailable =&gt;_documentQueue.Count &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddDocument</span>(<span class="params">T doc</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">lock</span> (_lock)</span><br><span class="line">        &#123;</span><br><span class="line">            _documentQueue.Enqueue(doc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">GetDocument</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        T doc = <span class="literal">default</span>;</span><br><span class="line">        <span class="keyword">lock</span> (_lock)</span><br><span class="line">        &#123;</span><br><span class="line">            doc=_documentQueue.Dequeue();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> doc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><p>å¯ä»¥çœ‹åˆ°åœ¨<code>GetDocument</code>è¿™ä¸ªæ–¹æ³•ä¸­åˆå§‹åŒ–<code>doc</code>å˜é‡æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>default</code>å…³é”®å­—</p><blockquote><p>defaultå…³é”®å­—æ ¹æ®ä¸Šä¸‹æ–‡å¯ä»¥æœ‰å¤šç§å«ä¹‰ï¼Œswitchè¯­å¥ä¸­ä½¿ç”¨defaultå®šä¹‰é»˜è®¤æƒ…å†µã€‚åœ¨æ³›å‹ä¸­å–å†³äºæ³›å‹ç±»å‹æ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ³›å‹defaultå…³é”®å­—å°†æ³›å‹ç±»å‹åˆå§‹åŒ–ä¸ºnullæˆ–0</p></blockquote><h3 id="æ³›å‹æ¥å£"><a href="#æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹æ¥å£"></a>æ³›å‹æ¥å£</h3><p><strong>æ³›å‹ç±»</strong>éƒ½æœ‰äº†ï¼Œ<strong>æ³›å‹æ¥å£</strong>ä¹Ÿå¯ä»¥æœ‰</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDocumentManager</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="function"><span class="keyword">void</span> <span class="title">AddDocument</span>(<span class="params">T doc</span>)</span>;</span><br><span class="line">      </span><br><span class="line">      <span class="function">T <span class="title">GetDocument</span>(<span class="params"></span>)</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰<strong>æ³›å‹å§”æ‰˜</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Hello</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>)</span>;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š</p><p>1ã€æ³›å‹åœ¨å£°æ˜çš„æ—¶å€™å¯ä»¥ä¸æŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šå…·ä½“ç±»å‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AClass</span>:<span class="title">BClass</span>&lt;<span class="title">int</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure><p>2ã€å¦‚æœå­ç±»ä¹Ÿæ˜¯æ³›å‹çš„ï¼Œé‚£ä¹ˆç»§æ‰¿çš„æ—¶å€™å¯ä»¥ä¸æŒ‡å®šå…·ä½“ç±»å‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AClass</span>&lt;<span class="title">T</span>&gt;:<span class="title">BClass</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="é€†å˜å’Œåå˜"><a href="#é€†å˜å’Œåå˜" class="headerlink" title="é€†å˜å’Œåå˜"></a>é€†å˜å’Œåå˜</h4><p>åœ¨<code>.NET4.0</code>ä¹‹å‰ï¼Œæ³›å‹æ¥å£æ˜¯ä¸å˜çš„ã€‚</p><p><strong>åå˜</strong>å’Œ<strong>é€†å˜</strong>æŒ‡å¯¹å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹è¿›è¡Œè½¬æ¢ã€‚åªèƒ½æ”¾åœ¨æ¥å£æˆ–å§”æ‰˜çš„æ³›å‹å‚æ•°å‰é¢</p><p><code>out</code>åå˜ covariant ç”¨æ¥ä¿®é¥°è¿”å›å€¼ï¼›</p><p><code>in</code>é€†å˜ contravariant ç”¨æ¥ä¿®é¥°ä¼ å…¥å‚æ•°ï¼›</p><p>ç¤ºä¾‹ï¼š</p><p>å®šä¹‰ä¸€ä¸ª<code>Animal</code>ç±»ï¼Œå†å®šä¹‰ä¸€ä¸ª<code>Cat</code>ç±»ç»§æ‰¿<code>Animal</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Cat</span> : <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Animal animal = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat cat = <span class="keyword">new</span> Cat();</span><br><span class="line"></span><br><span class="line">Animal animal1 = <span class="keyword">new</span> Cat();</span><br><span class="line"></span><br><span class="line">List&lt;Animal&gt; animals = <span class="keyword">new</span> List&lt;Animal&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;Cat&gt;cats= <span class="keyword">new</span> List&lt;Cat&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;Animal&gt; list = <span class="keyword">new</span> List&lt;Cat&gt;(); <span class="comment">// æŠ¥é”™ æ²¡æœ‰çˆ¶å­çº§å…³ç³»</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨<strong>åå˜</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IEnumerable list = <span class="keyword">new</span> List&lt;Cat&gt;();</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/image-20211008001058082.png" alt="image-20211008001058082"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ³›å‹æ¥å£ä½¿ç”¨äº†<code>out</code>å‚æ•°ä¿®é¥°ï¼Œ<code>T</code>åªèƒ½æ˜¯è¿”å›å€¼ç±»å‹ï¼Œä¸èƒ½ä½œä¸ºå‚æ•°ç±»å‹ã€‚ä½¿ç”¨<strong>åå˜</strong>åï¼Œå·¦è¾¹å£°æ˜çš„æ˜¯åŸºç±»ï¼Œå³è¾¹å¯ä»¥å£°æ˜å­ç±»æˆ–åŸºç±»ã€‚</p><p>åå˜ä¹Ÿå¯ç”¨äºå§”æ‰˜ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Func&lt;Animal&gt;func = <span class="keyword">new</span> Func&lt;Cat&gt;(()=&gt;<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰åå˜"><a href="#è‡ªå®šä¹‰åå˜" class="headerlink" title="è‡ªå®šä¹‰åå˜"></a>è‡ªå®šä¹‰åå˜</h4><p><strong>out</strong>åå˜ï¼Œåªèƒ½æ˜¯è¿”å›ç»“æœ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICustomerListOut</span>&lt;<span class="keyword">out</span> <span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">T <span class="title">Get</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomerListOut</span>&lt;<span class="title">T</span>&gt; : <span class="title">ICustomerListOut</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ICustomerListOut&lt;Animal&gt; list1 = <span class="keyword">new</span> CustomerListOut&lt;Cat&gt;();</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰é€†å˜"><a href="#è‡ªå®šä¹‰é€†å˜" class="headerlink" title="è‡ªå®šä¹‰é€†å˜"></a>è‡ªå®šä¹‰é€†å˜</h4><p><strong>in</strong>é€†å˜ï¼Œåªèƒ½ä½œä¸ºæ–¹æ³•å‚æ•°ï¼Œä¸èƒ½ä½œä¸ºè¿”å›å€¼ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICustomerListIn</span>&lt;<span class="keyword">in</span> <span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Show</span>(<span class="params">T t</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomerListIn</span>&lt;<span class="title">T</span>&gt; : <span class="title">ICustomerListIn</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params">T t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ICustomerListIn&lt;Cat&gt; list2 = <span class="keyword">new</span> CustomerListIn&lt;Animal&gt;();</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h3><p>å¦‚æœæ³›å‹ç±»éœ€è¦è°ƒç”¨æ³›å‹ç±»å‹ä¸­çš„æ–¹æ³•ï¼Œåˆ™éœ€è¦æ·»åŠ çº¦æŸã€‚</p><p>å®šä¹‰ä¸€ä¸ª<code>IDocument</code>æ¥å£ï¼Œå®šä¹‰ä¸¤ä¸ª<strong>åªè¯»å±æ€§</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDocument</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> Title &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="built_in">string</span> Content &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Document</span>:<span class="title">IDocument</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Document</span>(<span class="params"><span class="built_in">string</span> title,<span class="built_in">string</span> content</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Title = title;</span><br><span class="line">        <span class="keyword">this</span>.Content = content;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Title &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Content &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ˜¾ç¤º<strong>Document</strong>çš„æ ‡é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™:</p><p>å°†<code>T</code>å¼ºåˆ¶è½¬æ¢ä¸º<code>IDocument</code>æ¥å£</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayAllDocuments</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> doc <span class="keyword">in</span> _documentQueue)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(((IDocument)doc).Title);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬å®ç°çš„ä¸æ˜¯<code>IDocument</code>å‘¢ï¼Ÿè€Œæ˜¯å…¶ä»–çš„ï¼Œå¹¶æ²¡æœ‰<code>Title</code>ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šæŠ¥é”™ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç»™<code>DocumentManager</code>ä¸€ä¸ªçº¦æŸï¼š<strong>T</strong>ç±»å‹å¿…é¡»å®ç°<strong>IDocument</strong>æ¥å£ï¼Œä½¿ç”¨<code>Where</code>å…³é”®å­—</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DocumentManager&lt;T&gt;:IDocumentManager&lt;T&gt; <span class="keyword">where</span> T : <span class="function">IDocument</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayAllDocuments</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">foreach</span> (<span class="keyword">var</span> doc <span class="keyword">in</span> _documentQueue)</span><br><span class="line">   &#123;</span><br><span class="line">       Console.WriteLine(doc.Title);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><img data-src="https://cdn.jonty.top/img/image-20211007223036959.png" alt="image-20211007223036959" style="zoom:80%;" /><h4 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h4><table><thead><tr><th align="center">çº¦æŸ</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">where T:struct</td><td align="center">Tç±»å‹å¿…é¡»æ˜¯å€¼ç±»å‹</td></tr><tr><td align="center">where T:class</td><td align="center">Tç±»å‹å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹ï¼ˆç±»ã€æ¥å£ã€å§”æ‰˜ã€æ•°ç»„ç­‰ï¼‰</td></tr><tr><td align="center">where T:IFoo</td><td align="center">æŒ‡å®šç±»å‹å¿…é¡»å®ç°æ¥å£IFoo</td></tr><tr><td align="center">where T:Foo</td><td align="center">æŒ‡å®šç±»å‹Tå¿…é¡»æ´¾ç”Ÿè‡ªåŸºç±»Foo</td></tr><tr><td align="center">where T:new()</td><td align="center">æ„é€ å‡½æ•°çº¦æŸï¼ŒæŒ‡å®šç±»å‹Tå¿…é¡»æœ‰ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼Œéœ€æœ€åæŒ‡å®š</td></tr><tr><td align="center">where T1:T2</td><td align="center">T1æ´¾ç”Ÿè‡ªæ³›å‹ç±»å‹T2</td></tr></tbody></table><blockquote><p>new()åªèƒ½ä¸ºé»˜è®¤æ„é€ å‡½æ•°å®šä¹‰æ„é€ å‡½æ•°çº¦æŸï¼Œä¸èƒ½ä¸ºå…¶ä»–æ„é€ å‡½æ•°å®šä¹‰æ„é€ å‡½æ•°çº¦æŸ</p><p>åŸºç±»çº¦æŸæ—¶ï¼ŒåŸºç±»ä¸èƒ½æ˜¯å¯†å°ç±»ï¼ˆå³sealedç±»ï¼‰ï¼Œsealedç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œåˆ™æ­¤çº¦æŸæ— æ„ä¹‰ã€‚</p></blockquote><p>æ³›å‹çº¦æŸå¯ä»¥å¤šä¸ªçº¦æŸï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T:Document,<span class="keyword">new</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹ç»§æ‰¿"><a href="#æ³›å‹ç»§æ‰¿" class="headerlink" title="æ³›å‹ç»§æ‰¿"></a>æ³›å‹ç»§æ‰¿</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">DocumentManager</span>&lt;<span class="symbol">T</span>&gt; : <span class="symbol">IDocumentManager</span>&lt;<span class="symbol">T</span>&gt; <span class="symbol">where</span> <span class="symbol">T</span> : <span class="symbol">IDocument</span></span><br></pre></td></tr></table></figure><p>æ³›å‹ç±»å‹å¯ä»¥å®ç°æ³›å‹æ¥å£ï¼Œä¹Ÿå¯ä»¥æ´¾ç”Ÿè‡ªä¸€ä¸ªç±»ã€‚æ³›å‹ç±»å¯ä»¥æ´¾ç”Ÿè‡ªæ³›å‹åŸºç±»ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Base</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Derived</span>&lt;<span class="title">T</span>&gt;:<span class="title">Base</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure><p>å¿…é¡»é‡å¤å®ç°æ¥å£çš„æ³›å‹ç±»å‹ï¼Œæˆ–è€…å¿…é¡»æ‰§è¡ŒåŸºç±»çš„ç±»å‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Base</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Derived</span>&lt;<span class="title">T</span>&gt;:<span class="title">Base</span>&lt;<span class="title">string</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure><p>æ´¾ç”Ÿç±»å¯ä»¥æ˜¯<strong>æ³›å‹ç±»</strong>æˆ–<strong>éæ³›å‹ç±»</strong></p><p>ä¾‹å­ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„æ³›å‹ç±»,åœ¨æ´¾ç”Ÿç±»ä¸­ç”¨å¦ä¸€ç§å®ç°</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Calc</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> T <span class="title">Add</span>(<span class="params">T x, T y</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IntCalc</span> : <span class="title">Calc</span>&lt;<span class="title">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h3><p>æ³›å‹ç±»çš„é™æ€æˆå‘˜åªèƒ½åœ¨ç±»çš„ä¸€ä¸ªå®ä¾‹ä¸­å…±äº«</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StaticDemo</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">StaticDemo&lt;<span class="built_in">string</span>&gt;.x = <span class="number">4</span>;</span><br><span class="line">StaticDemo&lt;<span class="built_in">int</span>&gt;.x = <span class="number">5</span>;</span><br><span class="line">Console.WriteLine(StaticDemo&lt;<span class="built_in">string</span>&gt;.x);</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š </p><p><img data-src="https://cdn.jonty.top/img/image-20211007233059047.png" alt="image-20211007233059047"></p><h3 id="æ³›å‹ç¼“å­˜"><a href="#æ³›å‹ç¼“å­˜" class="headerlink" title="æ³›å‹ç¼“å­˜"></a>æ³›å‹ç¼“å­˜</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œç±»çš„é™æ€æ„é€ å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸ç®¡æ— è®ºå®ä¾‹åŒ–å¤šå°‘æ¬¡ï¼Œåœ¨å†…å­˜ä¸­åªä¼šæœ‰ä¸€ä¸ªã€‚</p><p>åœ¨æ³›å‹ä¸­ï¼Œ<code>T</code>ç±»å‹ä¸åŒï¼Œæ¯ä¸ªä¸åŒçš„<code>T</code>ç±»å‹éƒ½ä¼šç”Ÿæˆä¸€ä¸ªä¸åŒçš„å‰¯æœ¬ï¼Œä¼šäº§ç”Ÿä¸åŒçš„é™æ€å±æ€§ã€é™æ€æ„é€ å‡½æ•°ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(GenericCache&lt;<span class="built_in">int</span>&gt;.GetCache());</span><br><span class="line">    Thread.Sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(GenericCache&lt;<span class="built_in">long</span>&gt;.GetCache());</span><br><span class="line">    Thread.Sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(GenericCache&lt;<span class="built_in">string</span>&gt;.GetCache());</span><br><span class="line">    Thread.Sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(GenericCache&lt;DateTime&gt;.GetCache());</span><br><span class="line">    Thread.Sleep(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GenericCache</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _typeTime;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">GenericCache</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;static&quot;</span>);</span><br><span class="line"></span><br><span class="line">        _typeTime = <span class="string">$&quot;<span class="subst">&#123;<span class="keyword">typeof</span>(T).FullName&#125;</span>_<span class="subst">&#123;DateTime.Now:yyyyMMddHHmmss.fff&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetCache</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> _typeTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><img data-src="https://cdn.jonty.top/img/image-20211008003511609.png" alt="image-20211008003511609" style="zoom:80%;" /><p>æ³›å‹ä¼šä¸ºä¸åŒç±»å‹éƒ½åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œæ„é€ å‡½æ•°æ‰§è¡Œ5æ¬¡ï¼Œåé¢è·å–çš„ç¼“å­˜éƒ½æ˜¯ç›¸åŒçš„ã€‚</p><p>æ³¨æ„ï¼šåªèƒ½ä¸ºä¸åŒçš„ç±»å‹ç¼“å­˜ä¸€æ¬¡ã€‚æ³›å‹ç¼“å­˜æ¯”å­—å…¸ç¼“å­˜æ•ˆç‡é«˜ï¼Œä½†æ˜¯ä¸èƒ½ä¸»åŠ¨é‡Šæ”¾ã€‚</p><h3 id="æ³›å‹ç»“æ„"><a href="#æ³›å‹ç»“æ„" class="headerlink" title="æ³›å‹ç»“æ„"></a>æ³›å‹ç»“æ„</h3><p>ä¸ç±»ä¸€æ ·ï¼Œç»“æ„ä¹Ÿå¯ä»¥æ˜¯æ³›å‹çš„ã€‚ä½†æ˜¯ä¸åŒäºç±»ï¼Œä¸èƒ½ç»§æ‰¿ã€‚</p><p>ä»¥<code>Nullable&lt;T&gt;</code>ä¸ºä¾‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Nullable&lt;T&gt; <span class="keyword">where</span> T: <span class="keyword">struct</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">bool</span> _hasValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasValue =&gt; _hasValue;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Nullable</span>(<span class="params">T <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _hasValue = <span class="literal">true</span>;</span><br><span class="line">        _value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T _value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T Value</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!_hasValue)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">&quot;no value&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> _value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">explicit</span> <span class="keyword">operator</span> <span class="title">T</span>(<span class="params">Nullable&lt;T&gt; <span class="keyword">value</span></span>)</span> =&gt; <span class="keyword">value</span>.Value;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">Nullable</span>&lt;<span class="title">T</span>&gt;(<span class="params">T <span class="keyword">value</span></span>)</span> =&gt; <span class="keyword">new</span> Nullable&lt;T&gt;(<span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span>? ToString()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> !HasValue ? <span class="built_in">string</span>.Empty : _value.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Nullable&lt;<span class="built_in">int</span>&gt; x;</span><br><span class="line">x = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">if</span> (x.HasValue)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(x.Value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯ç©ºç±»å‹"><a href="#å¯ç©ºç±»å‹" class="headerlink" title="å¯ç©ºç±»å‹"></a>å¯ç©ºç±»å‹</h4><p>åœ¨<code>c#</code>ä¸­ï¼Œä½¿ç”¨<code>?</code>å®šä¹‰å¯ç©ºç±»å‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>? i = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><ul><li>å¯ç©ºç±»å‹å¯ä»¥ä¸<code>null</code>æˆ–æ•°å­—æ¯”è¾ƒ</li><li>å¯ç©ºç±»å‹å¯ä»¥ä¸ç®—æ•°è¿ç®—ç¬¦ä½¿ç”¨</li></ul><p>éå¯ç©ºç±»å‹å¯ä»¥è½¬æ¢æˆå¯ç©ºç±»å‹ï¼Œéšå¼è½¬æ¢</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> x = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">int</span>? y = x;</span><br></pre></td></tr></table></figure><p>å¯ç©ºç±»å‹è½¬ä¸ºéå¯ç©ºç±»å‹å¯èƒ½ä¼šå¤±è´¥ï¼Œå¦‚æœå¯ç©ºç±»å‹<code>null</code>èµ‹å€¼ç»™éå¯ç©ºç±»å‹åˆ™ä¼šæŠ›å‡º<code>InvalidOperationException</code>å¼‚å¸¸ï¼Œéœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>? x = GetNullableType(); <span class="comment">// å¯èƒ½è¿”å›null</span></span><br><span class="line"><span class="built_in">int</span> y = (<span class="built_in">int</span>)x;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åˆå¹¶è¿ç®—ç¬¦ä»å¯ç©ºç±»å‹è½¬æ¢æˆéå¯ç©ºç±»å‹ï¼Œå…³é”®è¯<code>??</code>ï¼Œä¸ºè½¬æ¢å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä»¥é˜²å¯æ§ç±»å‹çš„å€¼ä¸º<code>null</code>ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>? x = GetNullableType();</span><br><span class="line"><span class="built_in">int</span> y = x ?? <span class="number">0</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">æ¨è¿Ÿä¸€åˆ‡å¯ä»¥æ¨è¿Ÿçš„ä¸œè¥¿-æ³›å‹åº”ç”¨</summary>
    
    
    
    <category term="CSharp" scheme="https://jonty.top/categories/CSharp/"/>
    
    
    <category term="Review" scheme="https://jonty.top/tags/Review/"/>
    
    <category term="Generic" scheme="https://jonty.top/tags/Generic/"/>
    
  </entry>
  
  <entry>
    <title>æ¸©æ•…è€ŒçŸ¥æ–°-C#æ³›å‹</title>
    <link href="https://jonty.top/2021/10/04/csharp-generic-review-01/"/>
    <id>https://jonty.top/2021/10/04/csharp-generic-review-01/</id>
    <published>2021-10-04T09:42:29.000Z</published>
    <updated>2021-10-04T10:07:28.300Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°åŠŸèƒ½ç›¸åŒçš„æ¨¡å—ï¼Œä½†æ˜¯å‚æ•°ç±»å‹ä¸åŒï¼Œè¿™æ—¶å€™åªèƒ½åˆ†åˆ«å†™ä¸åŒçš„æ–¹æ³•å¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œåªç”¨åŒä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†ä¸åŒç±»å‹å‚æ•°çš„æ–¹æ³•</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params"><span class="built_in">string</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params">DateTime i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‡ ä¸ªæ–¹æ³•åˆ†åˆ«è·å–<code>intã€stringã€DateTime</code>ç±»å‹çš„åç§°ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”å†™äº†ä¸‰ç§ç±»å‹çš„<code>é‡è½½</code>æ–¹æ³•ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowTypeName(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowTypeName(<span class="string">&quot;1&quot;</span>);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowTypeName(DateTime.Now);</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211004162840338.png"></p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¼šæƒ³<strong>é¢å‘å¯¹è±¡çš„ç»§æ‰¿</strong>ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨<code>C#</code>è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½ç»§æ‰¿è‡ªåŸºç±»<code>object</code></p><p>ä¼˜åŒ–ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowObjectName</span>(<span class="params"><span class="built_in">object</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211004163223821.png" alt="image-20211004163223821"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨<code>object</code>ç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥è¾¾åˆ°äº†æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœï¼Œè§£å†³äº†ä»£ç çš„<strong>å¤ç”¨æ€§</strong>ã€‚</p><p>ä½†æ˜¯è¿™é‡Œåˆä¼šå¼•å‘å¦ä¸€ä¸ªé—®é¢˜ï¼šè£…ç®±å’Œæ‹†ç®±å¸¦æ¥çš„æ€§èƒ½æŸè€—é—®é¢˜ã€‚</p><blockquote><p>è£…ç®±å’Œæ‹†ç®±ï¼šåœ¨æŠŠå€¼ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹æˆ–æŠŠå¼•ç”¨ç±»å‹è½¬æ¢æˆå€¼ç±»å‹æ—¶ï¼Œéœ€è¦è¿›è¡Œè£…ç®±å’Œæ‹†ç®±çš„æ“ä½œã€‚</p><p>å€¼ç±»å‹å­˜å‚¨åœ¨æ ˆä¸Šï¼Œå¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †ä¸Šã€‚</p><p>å€¼ç±»å‹  ==&gt; å¼•ç”¨ç±»å‹  è£…ç®±    éšå¼è½¬æ¢(è‡ªåŠ¨è½¬æ¢)  </p><p>å¼•ç”¨ç±»å‹ ==&gt; å€¼ç±»å‹   æ‹†ç®±    æ˜¾ç¤ºè½¬æ¢ï¼ˆå¼ºåˆ¶è½¬æ¢ï¼‰éœ€è¦ç±»å‹è½¬æ¢è¿ç®—ç¬¦</p></blockquote><h3 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h3><p>æ³›å‹å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œäº§ç”Ÿçš„ï¼Œåœ¨<code>.NET2.0</code>æ¨å‡ºæ³›å‹</p><blockquote><p>æ³›å‹æ˜¯<code>C#</code>å’Œ<code>.NET</code>çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œä¸ä»…æ˜¯<code>C#</code>è¯­è¨€çš„ä¸€éƒ¨åˆ†è€Œä¸”å’Œ<code>IL</code>ä¸­é—´è¯­è¨€ç´§å¯†ç»“åˆã€‚</p><p>åœ¨æ³›å‹ç±»å‹æˆ–æ–¹æ³•å®šä¹‰ä¸­ï¼Œç±»å‹å‚æ•°æ˜¯åœ¨å…¶å®ä¾‹åŒ–æ³›å‹ç±»å‹çš„ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®¢æˆ·ç«¯æŒ‡å®šçš„ç‰¹å®šç±»å‹çš„å ä½ç¬¦ã€‚</p><p>æ³›å‹ç±»( <code>GenericList&lt;T&gt;</code>)æ— æ³•æŒ‰åŸæ ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯çœŸæ­£çš„ç±»å‹ï¼›å®ƒæ›´åƒæ˜¯ç±»å‹çš„è“å›¾ã€‚ è‹¥è¦ä½¿ç”¨ <code>GenericList&lt;T&gt;</code>ï¼Œå®¢æˆ·ç«¯ä»£ç å¿…é¡»é€šè¿‡æŒ‡å®šå°–æ‹¬å·å†…çš„ç±»å‹å‚æ•°æ¥å£°æ˜å¹¶å®ä¾‹åŒ–æ„é€ ç±»å‹ã€‚ æ­¤ç‰¹å®šç±»çš„ç±»å‹å‚æ•°å¯ä»¥æ˜¯ç¼–è¯‘å™¨å¯è¯†åˆ«çš„ä»»ä½•ç±»å‹ã€‚ å¯åˆ›å»ºä»»æ„æ•°é‡çš„æ„é€ ç±»å‹å®ä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªä½¿ç”¨ä¸åŒçš„ç±»å‹å‚æ•°ã€‚</p></blockquote><h4 id="å®šä¹‰æ³›å‹å‚æ•°"><a href="#å®šä¹‰æ³›å‹å‚æ•°" class="headerlink" title="å®šä¹‰æ³›å‹å‚æ•°"></a>å®šä¹‰æ³›å‹å‚æ•°</h4><p>ä¼˜åŒ–ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowName</span>&lt;<span class="title">T</span>&gt;(<span class="params">T i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i?.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> s = <span class="string">&quot;Jonty&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> d = DateTime.Now;</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************CommonMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowTypeName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowTypeName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowTypeName(d);</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************ObjectMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowObjectName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowObjectName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowObjectName(d);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************GenericMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowName(d);</span><br><span class="line"></span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•ˆæœæ˜¯ä¸€æ‘¸ä¸€æ ·çš„ï¼š</p><p><img data-src="https://cdn.jonty.top/img/image-20211004170341353.png" alt="image-20211004170341353"></p><p><strong>ä¸ºä»€ä¹ˆæ³›å‹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</strong></p><p>æ³›å‹æ˜¯å»¶è¿Ÿå£°æ˜çš„ï¼šå³å®šä¹‰çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå…·ä½“çš„å‚æ•°ç±»å‹ï¼ŒæŠŠå‚æ•°ç±»å‹çš„å£°æ˜æ¨è¿Ÿåˆ°äº†è°ƒç”¨çš„æ—¶å€™æ‰æŒ‡å®šå‚æ•°ç±»å‹</p><p><strong>æ³›å‹æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ</strong></p><p>æ§åˆ¶å°ç¨‹åºæœ€ç»ˆä¼šç¼–è¯‘æˆä¸€ä¸ªexeç¨‹åºï¼Œexeè¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œä¼šç»è¿‡JIT(å³æ—¶ç¼–è¯‘å™¨)çš„ç¼–è¯‘ï¼Œæœ€ç»ˆç”ŸæˆäºŒè¿›åˆ¶ä»£ç ï¼Œæ‰èƒ½è¢«è®¡ç®—æœºæ‰§è¡Œã€‚æ³›å‹åŠ å…¥åˆ°è¯­æ³•ä»¥åï¼Œ<code>visual studio</code>è‡ªå¸¦çš„ç¼–è¯‘å™¨åˆåšäº†å‡çº§ï¼Œå‡çº§ä¹‹åç¼–è¯‘æ—¶é‡åˆ°æ³›å‹ï¼Œä¼šåšç‰¹æ®Šçš„å¤„ç†ï¼šç”Ÿæˆå ä½ç¬¦ã€‚å†æ¬¡ç»è¿‡JITç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šæŠŠä¸Šé¢ç¼–è¯‘ç”Ÿæˆçš„å ä½ç¬¦æ›¿æ¢æˆå…·ä½“çš„æ•°æ®ç±»å‹ã€‚</p><p>ç¤ºä¾‹:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(List&lt;&gt;));</span><br><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(Dictionary&lt;,&gt;));</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ³›å‹åœ¨ç¼–è¯‘åä¼šç”Ÿæˆå ä½ç¬¦</p><p><img data-src="https://cdn.jonty.top/img/image-20211004171349172.png" alt="image-20211004171349172"></p><p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">11932</span></span><br><span class="line">    <span class="built_in">long</span> commonSecond = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">long</span> objectSecond = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">long</span> genericSecond = <span class="number">0</span></span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            ShowInt(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        commonSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            ShowObject(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        objectSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            Show(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        genericSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    Console.WriteLine(</span><br><span class="line">        <span class="string">$&quot;commonMethod:<span class="subst">&#123;commonSecond&#125;</span>\nobjectMethod:<span class="subst">&#123;objectSecond&#125;</span>\ngenericMethod:<span class="subst">&#123;genericSecond&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">region</span> Private Metho</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowInt</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowObject</span>(<span class="params"><span class="built_in">object</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>&lt;<span class="title">T</span>&gt;(<span class="params">T i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endregion</span></span></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>æ³›å‹æ–¹æ³•&lt;æ™®é€šæ–¹æ³•&lt;Objectæ–¹æ³• </p><p><img data-src="https://cdn.jonty.top/img/image-20211004172530409.png" alt="image-20211004172530409"></p><h3 id="ç±»å‹å®‰å…¨"><a href="#ç±»å‹å®‰å…¨" class="headerlink" title="ç±»å‹å®‰å…¨"></a>ç±»å‹å®‰å…¨</h3><p>æ³›å‹çš„å¦ä¸€ä¸ªç‰¹æ€§å°±æ˜¯<strong>ç±»å‹å®‰å…¨</strong></p><p>ç¤ºä¾‹ï¼š</p><p><code>ArrayList</code>å¯ä»¥æ·»åŠ ä»»æ„ç±»å‹çš„å‚æ•°</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">arrayList.Add(<span class="number">123</span>);</span><br><span class="line">arrayList.Add(<span class="string">&quot;jonty&quot;</span>);</span><br><span class="line">arrayList.Add(DateTime.Now);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> arrayList)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ³›å‹å¯ä»¥è¿›è¡Œç±»å‹çº¦æŸï¼š</p><p>å¦‚æœæˆ‘ä»¬æ·»åŠ å…¶ä»–ç±»å‹çš„å‚æ•°åˆ™ä¼šç¼–è¯‘æŠ¥é”™ï¼Œ<strong>å‚æ•°æ— æ•ˆ</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">int</span>&gt; arrInts = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">arrInts.Add(<span class="number">1</span>);</span><br><span class="line">arrInts.Add(<span class="number">2</span>);</span><br><span class="line">arrInts.Add(<span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="å‘½åçº¦å®š"><a href="#å‘½åçº¦å®š" class="headerlink" title="å‘½åçº¦å®š"></a>å‘½åçº¦å®š</h3><ul><li><p>æ³›å‹ç±»å‹çš„åç§°é¦–å­—æ¯ç”¨<code>T</code></p></li><li><p>å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ³›å‹ç±»å‹å…è®¸ç”¨ä»»ä½•ç±»ä»£æ›¿ï¼›ä¸”åªä½¿ç”¨äº†ä¸€ä¸ªæ³›å‹ç±»å‹æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>T</code>ä½œä¸ºæ³›å‹ç±»å‹çš„åç§°</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">List</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ³›å‹çš„ç±»å‹æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œæˆ–è€…ä½¿ç”¨äº†ä¸¤ä¸ªæˆ–å¤šä¸ªæ³›å‹ç±»å‹ï¼Œé‚£ä¹ˆæ³›å‹ç±»åº”è¯¥ä½¿ç”¨æè¿°æ€§åç§°</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Eventhandler</span>&lt;<span class="title">TEventArgs</span>&gt;(<span class="params">Object sender,TEventargs e</span>)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SortedList</span>&lt;<span class="title">Tkey</span>,<span class="title">TValue</span>&gt;&#123;&#125;;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">æ¨è¿Ÿä¸€åˆ‡å¯ä»¥æ¨è¿Ÿçš„ä¸œè¥¿-æ³›å‹æ¦‚å¿µ</summary>
    
    
    
    <category term="CSharp" scheme="https://jonty.top/categories/CSharp/"/>
    
    
    <category term="Review" scheme="https://jonty.top/tags/Review/"/>
    
    <category term="Generic" scheme="https://jonty.top/tags/Generic/"/>
    
  </entry>
  
  <entry>
    <title>Windows Terminal ç¾åŒ–</title>
    <link href="https://jonty.top/2021/10/03/windows-terminal-beautify/"/>
    <id>https://jonty.top/2021/10/03/windows-terminal-beautify/</id>
    <published>2021-10-02T16:03:40.000Z</published>
    <updated>2021-10-02T17:02:19.776Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”¨äº†å¾ˆä¹…çš„<code>Terminal+PowerShell</code>,åŠ ä¸Šè£…äº†<code>oh-my-posh</code>è¿™ä¸ªæ’ä»¶ï¼Œä¸ç®¡ç”¨èµ·æ¥è¿˜æ˜¯çœ‹èµ·æ¥éƒ½å¾ˆèˆ’æœã€‚</p><img data-src="https://cdn.jonty.top/img/image-20211003000724702.png" alt="image-20211003000724702" style="zoom: 80%;" /><p>ç”±äºç”µè„‘æ¢å¤äº†ï¼Œé‡æ–°é…ç½®ä¸€ä¸‹ï¼Œè®°å½•ä»¥ä¾›å‚è€ƒã€‚</p><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>1ã€ä¸‹è½½<code>Terminal</code></p><p>å¯ä»¥ç›´æ¥åœ¨å¾®è½¯å•†åº—ä¸‹è½½ï¼Œæˆ‘è¿™é‡Œå·²ç»å®‰è£…è¿‡äº†ã€‚</p><img data-src="https://cdn.jonty.top/img/image-20211003001214531.png" alt="image-20211003001214531" style="zoom:80%;" /><p>2ã€å®‰è£…<code>PowerShell</code></p><blockquote><p>è¿™é‡Œçš„PowerShellå¹¶é<code>win</code>ç³»ç»Ÿè‡ªå¸¦çš„<code>PowerShell</code>,è€Œæ˜¯å®ƒçš„ä¸€ä¸ªè·¨å¹³å°ç‰ˆæœ¬ï¼Œç±»ä¼¼äº<code>.NET</code>ä¸<code>.NET Core</code>çš„å…³ç³»ã€‚</p></blockquote><p><a href="https://github.com/PowerShell/PowerShell/releases">ä¸‹è½½åœ°å€</a>ï¼Œæ‰¾åˆ°ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å®‰è£…ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯è¿™ä¸ªç‰ˆæœ¬</p><img data-src="https://cdn.jonty.top/img/image-20211003001938075.png" alt="image-20211003001938075" style="zoom:80%;" /><p>3ã€å®‰è£…æ’ä»¶</p><ul><li><code>PSReadLine</code>:æä¾›è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ï¼ŒGitHubåœ°å€ï¼š<a href="https://github.com/PowerShell/PSReadLine">https://github.com/PowerShell/PSReadLine</a></li><li><code>posh-git</code>:æä¾›gitçš„çŠ¶æ€æ˜¾ç¤ºå’Œå‘½ä»¤è¡¥å…¨ã€‚</li><li><code>oh-my-posh</code>:æä¾›è‡ªå®šä¹‰ä¸»é¢˜å’Œé…è‰²ç­‰,å®˜ç½‘ï¼š<a href="https://ohmyposh.dev/">https://ohmyposh.dev/</a></li></ul><p>ä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€æ–°å®‰è£…çš„<code>PowerShell</code>,æ‰§è¡Œä¸‹åˆ—å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Install-Module PSReadline</span><br><span class="line">Install-Module posh-git</span><br><span class="line">Install-Module oh-my-posh</span><br></pre></td></tr></table></figure><p>å®‰è£…æ—¶æç¤ºåˆ™ç›´æ¥è¾“å…¥<code>y</code>ä¿¡ä»»å³å¯ã€‚</p><p>4ã€å®‰è£…å­—ä½“</p><p><a href="https://www.nerdfonts.com/font-downloads">ä¸‹è½½å­—ä½“</a> é€‰æ‹©åˆé€‚çš„å­—ä½“ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>FiraCode</code></p><blockquote><p>é¡ºä¾¿æ¨èä¸€ä¸‹ä½¿ç”¨<code>FiraCode</code>ç ä»£ç ä¹ŸæŒºçˆ½çš„</p><p>ä½¿ç”¨Nerd Fontä¸ä¼šå¯¼è‡´ä¹±ç ï¼Œç‰¹æ®Šçš„ä¸€äº›ç¬¦å·ä¼šä¹±ç ï¼Œå¦‚å›¾</p></blockquote><img data-src="https://cdn.jonty.top/img/image-20211003003954813.png" alt="image-20211003003954813" style="zoom:80%;" /><p>å°†ä¸‹è½½ä¸‹æ¥çš„å­—ä½“æ–‡ä»¶å…¨é€‰ï¼Œæ‹–å…¥å®‰è£…</p><img data-src="https://cdn.jonty.top/img/image-20211003004813071.png" alt="image-20211003004813071" style="zoom:80%;" /><p>5ã€ç¼–è¾‘<code>$Profile</code>æ–‡ä»¶</p><p>Windows:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad<span class="selector-class">.exe</span> <span class="variable">$Profile</span></span><br></pre></td></tr></table></figure><p>æ²¡æœ‰æ–‡ä»¶åˆ™åˆ›å»ºï¼Œé…ç½®ä¸€ä¸‹å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥ posh-git</span></span><br><span class="line">Import-Module posh-git</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼•å…¥ oh-my-posh</span></span><br><span class="line">Import-Module oh-my-posh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® PowerShell ä¸»é¢˜</span></span><br><span class="line">Set-PoshPrompt paradox </span><br></pre></td></tr></table></figure><p>ä¸»é¢˜å¯ä»¥é€šè¿‡<code>Get-PoshThemes</code>å‘½ä»¤æŸ¥çœ‹ï¼Œé€‰æ‹©å–œæ¬¢çš„ç„¶åå°†ä¸»é¢˜åç§°æ›¿æ¢å³å¯ã€‚</p><p>6ã€é…ç½®<code>Terminal</code></p><p>æ‰“å¼€é…ç½®æ–‡ä»¶<img data-src="https://cdn.jonty.top/img/image-20211003005518036.png" alt="image-20211003005518036" style="zoom:80%;" /></p><p>åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p><p>è§†å„è‡ªçš„æƒ…å†µé…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&quot;defaultProfile&quot;: &quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;, # è®¾ç½®é»˜è®¤</span><br><span class="line">&quot;profiles&quot;: </span><br><span class="line">    &#123;</span><br><span class="line">        &quot;defaults&quot;: &#123;&#125;,</span><br><span class="line">        &quot;list&quot;: </span><br><span class="line">        [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;acrylicOpacity&quot;: 0.5,</span><br><span class="line">                &quot;backgroundImage&quot;: null,</span><br><span class="line">                &quot;commandline&quot;: &quot;C:/Program Files/PowerShell/7/pwsh.exe -nologo&quot;,</span><br><span class="line">                &quot;fontSize&quot;: 11,</span><br><span class="line">                &quot;fontFace&quot;: &quot;FiraCode Nerd Font&quot;,</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;,</span><br><span class="line">                &quot;hidden&quot;: false,</span><br><span class="line">                &quot;historySize&quot;: 9001,</span><br><span class="line">                &quot;name&quot;: &quot;pwsh&quot;,</span><br><span class="line">                &quot;padding&quot;: &quot;5, 5, 20, 25&quot;,</span><br><span class="line">                &quot;snapOnInput&quot;: true,</span><br><span class="line">                &quot;source&quot;: &quot;Windows.Terminal.PowershellCore&quot;,</span><br><span class="line">                &quot;startingDirectory&quot;: &quot;.&quot;,</span><br><span class="line">                &quot;useAcrylic&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">         ]</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><p>7ã€<code>VsCode</code>é…ç½®</p><img data-src="https://cdn.jonty.top/img/image-20211003005954791.png" alt="image-20211003005954791" style="zoom:80%;" /><p>è‡³æ­¤å¤§åŠŸå‘Šæˆï¼Œè¿™ä¸‹æ˜¯ä¸æ˜¯å·çš„æ›´æœ‰åŠ¨åŠ›äº†ã€‚</p>]]></content>
    
    
    <summary type="html">Windows Terminal ç¾åŒ–</summary>
    
    
    
    <category term="Win" scheme="https://jonty.top/categories/Win/"/>
    
    
    <category term="Other" scheme="https://jonty.top/tags/Other/"/>
    
  </entry>
  
  <entry>
    <title>çŸ¥ä¹å…³äºæˆ‘å›½é«˜ç­‰æ•™è‚²çš„çœ‹æ³•</title>
    <link href="https://jonty.top/2021/09/27/the-systematic-failure-of-higher-education-in-china/"/>
    <id>https://jonty.top/2021/09/27/the-systematic-failure-of-higher-education-in-china/</id>
    <published>2021-09-27T15:07:23.000Z</published>
    <updated>2021-09-27T15:15:06.212Z</updated>
    
    <content type="html"><![CDATA[<p>å’Œè€åŒå­¦èŠåˆ°åœ¨å­¦æ ¡çš„ç”Ÿæ´»ï¼Œçªç„¶æƒ³åˆ°ä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°çš„è¿™ç¯‡å¸–å­ï¼Œè½¬è½½è®°å½•ä¸€ä¸‹</p><p><a href="https://www.zhihu.com/people/517a82a684971b49348575efaa8f6fdd">@Youngster38324</a> çš„å›ç­”é€éœ²å‡ºæ¥äº†æˆ‘å›½é«˜ç­‰æ•™è‚²ç³»ç»Ÿä¸­çš„ä¸å°‘é—®é¢˜ï¼š</p><ol><li><strong>ã€Œè¿›å¤§å­¦å‰å”¯åˆ†æ•°å’ŒåŒè´¨åŒ–æ•™è‚²ã€</strong>å¯¼è‡´äº†å¤ªå¤šäººå»å¤§å­¦åæ ¹æœ¬ä¸çŸ¥é“è‡ªå·±è¦å¹²å˜›ï¼Œå¾ˆå¤šäººä¸“ä¸šæ ¹æœ¬å°±ä¸æ˜¯è‡ªå·±é€‰çš„æ›´ä¸è¦è¯´çŸ¥é“è‡ªå·±æœ‰æ²¡æœ‰å…´è¶£äº†ï¼Œå³ä¾¿æ˜¯å¾ˆå¤šé«˜åˆ†è€ƒç”Ÿä¹Ÿè·¯å¾„ä¾èµ–åœ°ä»¥ä¸ºç»§ç»­åŠªåŠ›å¡«é¸­å°±èƒ½æˆåŠŸï¼Œæ²¡æœ‰æ„è¯†åˆ°é«˜è€ƒåçš„äººç”Ÿå·²ç»æ¢èµ›é“äº†ã€‚ä½œä¸ºè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å¼•å…¥ç±»ä¼¼ç¾å›½ APï¼ˆAdvanced Placementï¼‰çš„é¢„ç§‘åˆ¶åº¦ä»¥åŠè°ƒæ•´æ•´ä¸ªç¤¾ä¼šé¼“åŠ±å‘è‡ªæˆ‘å‘å±•çœ‹è€Œä¸æ˜¯å‘é’±çœ‹çš„é£æ°”ã€‚</li><li><strong>ã€Œè¿›å¤§å­¦åä¸“ä¸šåˆ¶åº¦æ²¡æœ‰å®¹é”™æ€§ã€</strong>ï¼Œå³ä¾¿å·²ç»å‘ç°è‡ªå·±ä¸å–œæ¬¢è¢«å½•å–ä¸“ä¸šäº†ä¹Ÿæ²¡æœ‰åŠæ³•ï¼Œå› ä¸ºè½¬ä¸“ä¸šåˆ¶åº¦ä¸å®Œå–„ï¼ˆé€šå¸¸è¦æ±‚ä½ å…ˆè¦åœ¨ä½ å·²ç»ä¸å–œæ¬¢äº†çš„æœ¬ä¸“ä¸šå†…å·åˆ°ç­çº§å‰å¤šå°‘åï¼‰ã€‚åœ¨ä¸å°‘è¥¿æ–¹å­¦æ ¡ï¼Œä¸“ä¸šå¯ä»¥ undecidedï¼ˆå…ˆä¸Šè¯¾å†å†³å®šä¸“ä¸šï¼Œæ¯”å¦‚ç»å…¸çš„å“ˆä½› CS50ï¼Œä½ ä¸Šä¸‹æ¥æ„Ÿå…´è¶£äº†å†å»é€‰ CSï¼‰ï¼›å­¦ä½æœ¬èº«åªæ˜¯æŸä¸ªå­¦ç§‘ä¸‹è¯¾ç¨‹å­¦åˆ†ç´¯è®¡çš„è‡ªç„¶ç»“æœï¼Œå› æ­¤å¯ä»¥çµæ´»çš„è½¬ä¸“ä¸šä¸å¤šå­¦ä½ï¼›ç­çº§è¿™ç§ä¿ƒè¿›å†…å·çš„æ¦‚å¿µä¹Ÿè¢«å¼±åŒ–ï¼Œå¼ºè°ƒè·Ÿè‡ªå·±æ¯”å…³æ³¨ä¸ªäººçš„æˆé•¿ï¼Œå­¦ç”Ÿè‡ªå·±æ§åˆ¶ä¸Šå‡ å¹´è¯¾ï¼Œå¿µå‡ ä¸ªå­¦ä½ï¼Œä¸­é—´ä¼‘å­¦ä¸€ä¸‹éƒ½æ²¡å…³ç³»ã€‚</li><li>å‰ä¸¤æ­¥çš„ç»“æœå°±æ˜¯å¯¼è‡´å¤§å­¦ä¸ºäº†æ¯•ä¸šç‡æŠŠ<strong>ã€Œè¯„åˆ¤æ ‡å‡†ææˆäº†å¹³å‡ä¸»ä¹‰ã€</strong>ï¼Œä¸ºäº†èƒ½å¤Ÿæ¯å¹´é¡ºåˆ©å‘ç¤¾ä¼šè¾“é€ä¸€æ‰¹ï¼ˆ80% å°†æ¥éƒ½ä¸ä¼šä»äº‹æœ¬ä¸“ä¸šï¼‰çš„äººæ‰ï¼Œæ‰“åˆ†æ ¹æ®æ¯å¹´å­¦ç”Ÿæƒ…å†µåŠ¨æ€è§„åˆ’è‡ªé€‚åº”ï¼ŒæŠŠå¤§å­¦ææˆäº†ã€Œä¸¥è¿›å®½å‡ºã€ã€‚å…¶å®å¤§å­¦æ•™è‚²æ›´åº”è¯¥å¼ºè°ƒã€Œå®½è¿›ä¸¥å‡ºã€ï¼Œæ— è®ºä½ åº•å­å¦‚ä½•ï¼Œæ— è®ºé‡ä¿®å‡ æ¬¡ï¼Œä½ åªè¦é€šè¿‡äº†æŸä¸ªï¼ˆç›¸å¯¹ç¨³å®šçš„ï¼‰å®¢è§‚æ ‡å‡†å°±æ˜¯åˆæ ¼ï¼Œä¸ºäº†ä¿è¯è¯¥åˆ¶åº¦çš„æœºæ¢°æ€§è¿ä½œï¼Œå°±è¦è¾…ä»¥ä¸¥æ ¼çš„æ—¥å¸¸ä½œä¸šè®¡åˆ†ï¼Œå¯¹ã€Œä½œå¼Šã€é›¶å®¹å¿ï¼ˆè‡ªåŠ¨åŒ–åˆ¤é‡ï¼Œå‘ç°ä¸€æ¬¡é‡ä¿®ä¸¤æ¬¡é€€å­¦ï¼‰ã€‚</li><li>å¹³å‡ä¸»ä¹‰è¿›ä¸€æ­¥å¯¼è‡´<strong>ã€Œè¯¾ç¨‹è®¾ç½®æ²¡æœ‰çµæ´»æ€§æ— æ³•è‡ªå®šä¹‰ã€</strong>ï¼Œè€å¸ˆä¸ä½†è¦ç…§é¡¾åŠæ ¼ç‡è¿˜æœ‰ä¸€é¢—åœ£æ¯å¿ƒå¸Œæœ›é‚£äº›å¯¹ä¸“ä¸šæ²¡ä»€ä¹ˆå…´è¶£çš„äººèƒ½å¥½æ­¹å­¦åˆ°ç‚¹ä¸œè¥¿ï¼ŒåŒæ—¶åˆçœŸå¿ƒæ¬£èµä¸”æƒ³è¦ç»™äºˆå¥½å­¦çš„å°–å­ç”Ÿèµ„æºï¼Œæœ€åå³ä¾¿ç»å°½è„‘æ±äº†ä¹Ÿè¿˜æ˜¯åªèƒ½å¼„å‡ºä¸ªåœ¨å·®ç”Ÿé‡Œä¸‹é™é«˜åœ¨å°–å­ç”Ÿé‡Œä¸Šé™ä½çš„è¯¾ç¨‹å®‰æ’ä¸¤é¢ä¸å½“äºº â€”â€” å°–å­ç”Ÿè§‰å¾—è¯¾ç¨‹è¦æ±‚å¤ªä½ä¸èƒ½æ¿€å‘è‡ªå·±çš„æ½œåŠ›å–‚ä¸é¥±ï¼ˆå¸¸è§äºç§ä¸‹è¦æ±‚åŠ éš¾åº¦æˆ–è€…å»æ— å­¦åˆ†æ—å¬ï¼‰ï¼Œæ‘¸é±¼çš„è§‰å¾—è€å¸ˆå½±å“äº†æˆ‘çš„å¿«ä¹å­¦ä¹ ï¼ˆå¸¸è§äºè¯¾å ‚ä¸Šä¸€å¸ƒç½®ä½œä¸šä¸‹é¢å°±å«è‹¦è¿å¤©ï¼‰è¯¥æŒ‚è¿˜æ˜¯æŒ‚æˆ–è€… 60 åˆ†ä¸‡å²ã€‚åœ¨ä¸å°‘è¥¿æ–¹å­¦æ ¡å­¦ç”Ÿï¼Œè¯¾ç¨‹è¡¨å¯ä»¥è‡ªè¡Œå®‰æ’ï¼Œä¸€ä¸ªè¯¾å¯ä»¥å¼€å¤šä¸ªç­æ¬¡ç…§é¡¾çµæ´»æ€§ï¼Œå­¦éœ¸å¯ä»¥æ¯”åˆ«äººå¤šä¸Šä»»æ„èŠ‚è¯¾ï¼Œä¹Ÿå¯ä»¥è·¨ä¸“ä¸šé€‰è¯¾æˆ–è€…å‡å°‘è¯¾ç¨‹å¢åŠ å®ä¹ æˆ–ç ”ç©¶ï¼Œè€Œä¸”éš¾åº¦è‡ªé€‰åªè¦ä½ ç‚¹è¿‡å‰ç½®æŠ€èƒ½å°±è¡Œã€‚</li></ol><p>æœ‰ç±»ä¼¼è¿Ÿå…ˆç”Ÿè¿™æ ·è¯‰æ±‚çš„äººå¾ˆå¤šï¼Œå¯æ˜¯ä¸€ä¸ªç³»ç»Ÿå¾ˆéš¾ç”±ç³»ç»Ÿå†…çš„ä¸ªä½“æ”¹å˜ï¼Œæ‰€ä»¥å¾ˆå¤šä¸ªä½“é€‰æ‹©äº†åšå±€éƒ¨ä¼˜åŒ–è¶‹åˆ©é¿å®³é™ªç©æˆä¸ºæ—¢å¾—åˆ©ç›Šè€…ï¼Œæˆ–è€…å…¨å±€ä¼˜åŒ–æ›´æ¢è‡ªå·±æ‰€å¤„çš„ç³»ç»Ÿã€‚</p><p>åªè¦æ‰€å¤„ç³»ç»Ÿé‡Œçš„å¤§éƒ¨åˆ†ä¸ªä½“éƒ½å·²ç»é»˜è®¸äº†è¿™ä¸ªæ¸¸æˆè§„åˆ™ï¼Œæ— è®ºè¿Ÿå…ˆç”Ÿæ˜¯ã€Œå‡¡å°”èµ›ã€è¿˜æ˜¯ã€Œç†æƒ³ä¸»ä¹‰ã€ï¼Œæ”¹å˜èµ›é“è§„åˆ™å°±ä¼šè¢«å…¶ä»–ä¸ªä½“è®¤ä¸ºä¾µå®³åˆ°åˆ©ç›Šã€‚å°å­©æ‰åˆ†å¯¹é”™ï¼Œæˆå¹´äººçš„å±è‚¡éƒ½æ˜¯æ­ªå¾—ï¼Œéƒ½æ˜¯å„å–æ‰€éœ€ã€‚</p><blockquote><p>ä½œè€…ï¼šé»„ç„<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/439622084/answer/1685314467">https://www.zhihu.com/question/439622084/answer/1685314467</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">çŸ¥ä¹å…³äºæˆ‘å›½é«˜ç­‰æ•™è‚²çœ‹æ³•çš„é«˜èµå›ç­”</summary>
    
    
    
    <category term="Reprint" scheme="https://jonty.top/categories/Reprint/"/>
    
    
    <category term="Zhihu" scheme="https://jonty.top/tags/Zhihu/"/>
    
    <category term="View" scheme="https://jonty.top/tags/View/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨å®ç°é™é»˜æ‰“å°</title>
    <link href="https://jonty.top/2021/09/25/browser-silent-printing/"/>
    <id>https://jonty.top/2021/09/25/browser-silent-printing/</id>
    <published>2021-09-25T15:42:22.000Z</published>
    <updated>2021-10-04T10:12:34.516Z</updated>
    
    <content type="html"><![CDATA[<h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚æ¶‰åŠåˆ°<code>é™é»˜æ‰“å°</code>,ä¹Ÿå°±æ˜¯æ‰“å°æ—¶ä¸éœ€è¦å¼¹å‡ºæ‰“å°é…ç½®æ¡†ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨æ‰“å°æœº</p><img data-src="https://cdn.jonty.top/img/image-20210925223925277.png"><h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>ç»è¿‡è®¨è®ºå¤§æ¦‚æ˜¯ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆï¼š</p><ul><li>æŠŠæ‰“å°é…ç½®å¼¹çª—å¹²æ‰ã€æ¨¡æ‹Ÿç‚¹å‡»æ‰“å°äº‹ä»¶</li><li>æµè§ˆå™¨å®ç°é™é»˜æ‰“å°</li><li>æœ¬åœ°è¿è¡Œä¸€ä¸ªæœåŠ¡ï¼Œå®¢æˆ·ç«¯è¿”å›è¯·æ±‚çŠ¶æ€åè¯·æ±‚æœ¬åœ°æ¥å£è°ƒç”¨æ‰“å°</li></ul><h5 id="æ–¹æ¡ˆ1"><a href="#æ–¹æ¡ˆ1" class="headerlink" title="æ–¹æ¡ˆ1"></a>æ–¹æ¡ˆ1</h5><p>ç¬¬ä¸€ç§æ²¡æœ‰å»å°è¯•ï¼Œæ‰€ä»¥å…ˆè®²è®²ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡å‰ç«¯æ§åˆ¶æµè§ˆå™¨æ‰“å°ï¼Œä½†æ˜¯ç™¾åº¦ä¸€åœˆä¸‹æ¥çš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯é€šè¿‡è®¾ç½®æµè§ˆå™¨å‚æ•°ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå¿«æ·ç¨‹åºå¹¶è®¾ç½®å¯åŠ¨å‚æ•°ï¼Œæ“ä½œå¾ˆç®€å•ï¼Œä½†å®åœ¨ä¸ç¬¦åˆéœ€æ±‚ï¼Œæ€»ä¸èƒ½ç»™æ¯ä¸ªå®¢æˆ·ä¹Ÿè¿™æ ·é…ç½®ä¸€è¾¹å§ï¼Œæ‰€ä»¥ç¬¬äºŒç§ä¹Ÿ<code>pass</code>ã€‚</p><p>æ“ä½œå¦‚ä¸‹ï¼š</p><img data-src="https://cdn.jonty.top/img/image-20210925225136606.png"><h5 id="æ–¹æ¡ˆ3"><a href="#æ–¹æ¡ˆ3" class="headerlink" title="æ–¹æ¡ˆ3"></a>æ–¹æ¡ˆ3</h5><p>é‡ç‚¹è®²ä¸€ä¸‹æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯ç›®å‰åœ¨æ¢ç´¢ä¸­ï¼Œåç»­æœ‰æ›´å¥½çš„æ–¹æ³•ä¼šå‘å‡ºæ¥ï¼Œä¹Ÿæ¬¢è¿å„ä½æå‡ºæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ç›®å‰ä»…æ”¯æŒwindowsç¯å¢ƒï¼Œ<code>winform</code>æœ€ç»ˆæ˜¯<code>.exe</code>ç¨‹åº</p><h4 id="æ–°å»ºWinformç¨‹åº"><a href="#æ–°å»ºWinformç¨‹åº" class="headerlink" title="æ–°å»ºWinformç¨‹åº"></a>æ–°å»ºWinformç¨‹åº</h4><h5 id="ä½¿ç”¨VS2019åˆ›å»º"><a href="#ä½¿ç”¨VS2019åˆ›å»º" class="headerlink" title="ä½¿ç”¨VS2019åˆ›å»º"></a>ä½¿ç”¨<code>VS2019</code>åˆ›å»º</h5><img data-src="https://cdn.jonty.top/img/image-20210925225722885.png"><h5 id="æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº"><a href="#æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº" class="headerlink" title="æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº"></a>æ‹–å…¥<code>ComboBox</code>æ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº</h5><img data-src="https://cdn.jonty.top/img/image-20210925225843764.png"><h5 id="è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰"><a href="#è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰" class="headerlink" title="è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰"></a>è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åŠ è½½æ‰“å°æœºåˆ—è¡¨</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitPrinterList</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> print = <span class="keyword">new</span> PrintDocument();</span><br><span class="line">    <span class="keyword">var</span> defaultPrinter = print.PrinterSettings.PrinterName;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; PrinterSettings.InstalledPrinters.Count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> tmp = PrinterSettings.InstalledPrinters[i];</span><br><span class="line">        <span class="keyword">if</span> (tmp == defaultPrinter)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp += <span class="string">&quot;(é»˜è®¤)&quot;</span>; <span class="comment">// æ ‡è®°é»˜è®¤çš„æ‰“å°æœº</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.comboBox1.Items.Add(tmp);  <span class="comment">// ä¸‹æ‹‰é¡¹æ–°å¢</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    InitPrinterList(); <span class="comment">// çª—ä½“åŠ è½½äº‹ä»¶ä¸­è°ƒç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ctrl-f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ"><a href="#ctrl-f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="ctrl+f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ"></a><code>ctrl+f5</code>è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ</h5><img data-src="https://cdn.jonty.top/img/image-20210925230348173.png"><h4 id="åˆ›å»ºæœåŠ¡"><a href="#åˆ›å»ºæœåŠ¡" class="headerlink" title="åˆ›å»ºæœåŠ¡"></a>åˆ›å»ºæœåŠ¡</h4><p>æ²¡æœ‰ä½¿ç”¨<code>socket</code>,è€Œæ˜¯åœ¨<code>winform</code>ä¸­åˆ›å»ºäº†ä¸€ä¸ª<code>http</code>æœåŠ¡ï¼Œå¹¶å¼€æ”¾ç«¯å£ä¾›æµè§ˆå™¨æœ¬åœ°è¯·æ±‚</p><p>å…ˆæ–°å¢ä¸¤ä¸ªä¾èµ–ï¼š</p><ol><li>BeetleX 1.5.1.7 </li><li>BeetleX.FastHttpApi 1.8.2.61</li></ol><p>è¿™ä¸¤ä¸ªç‰ˆæœ¬æ˜¯æ”¯æŒ<code>.net framework</code>çš„ï¼Œ<a href="https://github.com/IKende/BeetleX/">BeetleX</a>æ˜¯ä¸€ä¸ªåŸºäº.Net Coreå¼€å‘çš„ä¸€ä¸ªå¼€æºè·¨å¹³å°TCPé€šè®¯æ¡†æ¶ï¼Œå®ƒæä¾›äº†å®Œæ•´çš„ä¼šè¯æœåŠ¡ç®¡ç†ï¼Œåè®®åˆ†ææ‰©å±•ï¼ŒTLSæ”¯æŒå’Œç¼“å†²åŒºç®¡ç†ç­‰å®Œå…¨æœåŠ¡åŸºç¡€åŠŸèƒ½ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»Githubå‚è§‚ä¸€ä¸‹ã€‚</p><h5 id="åˆå§‹åŒ–HttpæœåŠ¡"><a href="#åˆå§‹åŒ–HttpæœåŠ¡" class="headerlink" title="åˆå§‹åŒ–HttpæœåŠ¡"></a>åˆå§‹åŒ–HttpæœåŠ¡</h5><p>åœ¨Loadæ–¹æ³•ä¸­è°ƒç”¨<code>InitHttpServer()</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åˆå§‹åŒ–ç½‘å…³æœåŠ¡</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">InitHttpServer</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    _httpApiServer = <span class="keyword">new</span> HttpApiServer(<span class="keyword">new</span> HttpOptions()</span><br><span class="line">    &#123;</span><br><span class="line">        Port = <span class="number">9000</span>, <span class="comment">// æœ¬åœ°å¼€æ”¾çš„ç«¯å£ è¦æ³¨æ„ä¸è¦è¢«å ç”¨</span></span><br><span class="line">        LogToConsole = <span class="literal">true</span>,</span><br><span class="line">        LogLevel = BeetleX.EventArgs.LogType.Debug</span><br><span class="line">     &#125;);</span><br><span class="line">    _httpApiServer.IPv4Tables.AddWhite(<span class="string">&quot;127.0.0.1/24&quot;</span>);</span><br><span class="line">    _httpApiServer.Options.CrossDomain = <span class="keyword">new</span> OptionsAttribute() &#123; AllowOrigin = <span class="string">&quot;*&quot;</span>, AllowMethods = <span class="string">&quot;*&quot;</span>, AllowHeaders = <span class="string">&quot;*&quot;</span> &#125;; <span class="comment">// è·¨åŸŸé…ç½®ï¼Œè¿™ä¸ªå¾ˆé‡è¦</span></span><br><span class="line">    _httpApiServer.Register(<span class="keyword">typeof</span>(Home).Assembly);</span><br><span class="line">    _httpApiServer.Open();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨å†Œçš„ç¨‹åºå°±æ˜¯<code>Controller</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Controller(BaseUrl = <span class="meta-string">&quot;/home&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Home</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Hello Word</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>string:  you name<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>string<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">object</span> <span class="title">Hello</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> &#123; Hello = <span class="string">&quot;hello &quot;</span> + name, Time = DateTime.Now &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶ä¸‹æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸ</p><img data-src="https://cdn.jonty.top/img/image-20210925231850394.png"><p>ä½¿ç”¨<code>Postman</code>è¯·æ±‚ä¸€ä¸‹</p><p><code>http://localhost:9000/home/Hello?name=test</code> è¿”å›æˆåŠŸ</p><img data-src="https://cdn.jonty.top/img/image-20210925232302311.png"><h4 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h4><p>å®¢æˆ·ç«¯å‘æœ¬åœ°è¯·æ±‚æ‰“å°æ¥å£ï¼Œä¼ å…¥å‚æ•°</p><p>è¿™é‡Œä¼ å…¥äº†pdfæ–‡ä»¶åœ°å€ï¼Œé€šè¿‡è¯·æ±‚æ–‡ä»¶å¹¶æ‰“å°</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> æ‰“å°æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;url&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;printCount&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Print</span>(<span class="params"><span class="built_in">string</span> url, <span class="built_in">int</span> printCount</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    url = url.Replace(<span class="string">&quot;\n &quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!(WebRequest.Create(url) <span class="keyword">is</span> HttpWebRequest request)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (!(request.GetResponse() <span class="keyword">is</span> HttpWebResponse response)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> stream = response.GetResponseStream();</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ‰“å°æœº</span></span><br><span class="line">    <span class="keyword">var</span> pdf = <span class="keyword">new</span> InputPdf(ReadFully(stream));</span><br><span class="line">    <span class="keyword">var</span> printJob = <span class="keyword">new</span> PrintJob(Printer.Default, pdf); <span class="comment">// é»˜è®¤æ‰“å°æœº</span></span><br><span class="line">    printJob.PrintOptions.Copies = printCount; <span class="comment">//æ‰“å°æ•°é‡</span></span><br><span class="line">    printJob.Print();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> è¯»å–å­—èŠ‚æµ</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;input&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">byte</span>[] <span class="title">ReadFully</span>(<span class="params">Stream input</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">    &#123;</span><br><span class="line">        input.CopyTo(ms);</span><br><span class="line">        <span class="keyword">return</span> ms.ToArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ‰“å°æ’ä»¶è°ƒç”¨çš„<code>DynamicPdf</code></p><p>æ‰“å°æ’ä»¶æ–‡æ¡£ï¼š<a href="https://www.dynamicpdf.com/docs/dotnet/print-manager-print-options">https://www.dynamicpdf.com/docs/dotnet/print-manager-print-options</a> </p></blockquote><h4 id="ä¼˜åŒ–å»ºè®®ï¼š"><a href="#ä¼˜åŒ–å»ºè®®ï¼š" class="headerlink" title="ä¼˜åŒ–å»ºè®®ï¼š"></a>ä¼˜åŒ–å»ºè®®ï¼š</h4><p>å¯ä»¥é€šè¿‡ä¸‹æ‹‰æ¡†é€‰æ‹©çš„æ‰“å°æœºæ‰“å°,éœ€è¦è®°å½•é€‰æ‹©çš„æ‰“å°æœº</p><p>é€šè¿‡è¯»å–å’Œè®¾ç½®<code>config</code>å€¼å®ç°,å¼•å…¥<code>System.Configuration</code></p><p>ConfigHelperç±»ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ConfigHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>è¿”å›*.exe.configæ–‡ä»¶ä¸­appSettingsé…ç½®èŠ‚çš„valueé¡¹  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;strKey&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span> </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetAppConfig</span>(<span class="params"><span class="built_in">string</span> strKey</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> file = System.Windows.Forms.Application.ExecutablePath;</span><br><span class="line">        <span class="keyword">var</span> config = ConfigurationManager.OpenExeConfiguration(file);</span><br><span class="line">        <span class="keyword">return</span> config.AppSettings.Settings.AllKeys.Any(key =&gt; key == strKey) ? config.AppSettings.Settings[strKey].Value.ToString() : <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>åœ¨*.exe.configæ–‡ä»¶ä¸­appSettingsé…ç½®èŠ‚å¢åŠ ä¸€å¯¹é”®å€¼å¯¹  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;newKey&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;newValue&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UpdateAppConfig</span>(<span class="params"><span class="built_in">string</span> newKey, <span class="built_in">string</span> newValue</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> file = System.Windows.Forms.Application.ExecutablePath;</span><br><span class="line">        <span class="keyword">var</span> config = ConfigurationManager.OpenExeConfiguration(file);</span><br><span class="line">        <span class="keyword">var</span> exist = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> key <span class="keyword">in</span> config.AppSettings.Settings.AllKeys)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (key == newKey)</span><br><span class="line">            &#123;</span><br><span class="line">                exist = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (exist)</span><br><span class="line">        &#123;</span><br><span class="line">            config.AppSettings.Settings.Remove(newKey);</span><br><span class="line">        &#125;</span><br><span class="line">        config.AppSettings.Settings.Add(newKey, newValue);</span><br><span class="line">        config.Save(ConfigurationSaveMode.Modified);</span><br><span class="line">        ConfigurationManager.RefreshSection(<span class="string">&quot;appSettings&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶"><a href="#è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶" class="headerlink" title="è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶"></a>è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">comboBox1_SelectedIndexChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°settingè®¾ç½®</span></span><br><span class="line">    <span class="keyword">var</span> selectedPrint = <span class="keyword">this</span>.comboBox1.SelectedItem.ToString();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(selectedPrint))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç§»é™¤æ‰åˆå§‹åŒ–æ‰“å°æœºåˆ—è¡¨æ·»åŠ çš„é»˜è®¤æ–‡æœ¬</span></span><br><span class="line">    <span class="keyword">if</span> (selectedPrint.Contains(<span class="string">&quot;é»˜è®¤&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        selectedPrint = selectedPrint.Replace(<span class="string">&quot;(é»˜è®¤)&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ConfigHelper.UpdateAppConfig(<span class="string">&quot;defaultPrint&quot;</span>, selectedPrint);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¼˜åŒ–åçš„æ‰“å°æ¥å£"><a href="#ä¼˜åŒ–åçš„æ‰“å°æ¥å£" class="headerlink" title="ä¼˜åŒ–åçš„æ‰“å°æ¥å£"></a>ä¼˜åŒ–åçš„æ‰“å°æ¥å£</h5><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// è·å–è®¾ç½®çš„æ‰“å°æœº ï¼ˆè¯»å–é…ç½®ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> defaultPrinter = ConfigHelper.GetAppConfig(<span class="string">&quot;defaultPrint&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºæ‰“å°æœº</span></span><br><span class="line"><span class="keyword">var</span> printer = <span class="keyword">new</span> Printer(defaultPrinter);</span><br><span class="line"><span class="keyword">var</span> pdf = <span class="keyword">new</span> InputPdf(ReadFully(stream));</span><br><span class="line"><span class="keyword">var</span> printJob = <span class="keyword">new</span> PrintJob(printer, pdf);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½å®ç°ç®€å•çš„é™é»˜æ‰“å°ï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šæ¬ ç¼ºä¹‹å¤„ï¼Œåç»­ä¼˜åŒ–ï¼Œä¸å½“ä¹‹å¤„è¯·æŒ‡å‡º</p>]]></content>
    
    
    <summary type="html">æµè§ˆå™¨å®ç°é™é»˜æ‰“å°çš„å°æ–¹æ¡ˆğŸ˜</summary>
    
    
    
    <category term=".Net" scheme="https://jonty.top/categories/Net/"/>
    
    
    <category term="Winform" scheme="https://jonty.top/tags/Winform/"/>
    
    <category term="Print" scheme="https://jonty.top/tags/Print/"/>
    
  </entry>
  
  <entry>
    <title>Dockerä¸­å®‰è£…jira</title>
    <link href="https://jonty.top/2021/09/23/install-jira-in-docker/"/>
    <id>https://jonty.top/2021/09/23/install-jira-in-docker/</id>
    <published>2021-09-23T13:25:56.000Z</published>
    <updated>2021-10-04T10:12:57.761Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®åº“å‡†å¤‡"><a href="#æ•°æ®åº“å‡†å¤‡" class="headerlink" title="æ•°æ®åº“å‡†å¤‡"></a>æ•°æ®åº“å‡†å¤‡</h2><p>å…¶ä»–æ•°æ®åº“è¯·å‚è€ƒæ–‡æ¡£</p><p><a href="https://confluence.atlassian.com/adminjiraserver/connecting-jira-applications-to-a-database-938846850.html">Connecting Jira applications to a database</a></p><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯PostgreSql</p><ol><li><p>åˆ›å»ºç©ºæ•°æ®åº“</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jiradb <span class="keyword">WITH</span> ENCODING <span class="string">&#x27;UNICODE&#x27;</span> LC_COLLATE <span class="string">&#x27;C&#x27;</span> LC_CTYPE <span class="string">&#x27;C&#x27;</span> TEMPLATE template0;</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºç”¨æˆ·(ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤ç”¨æˆ·)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> jira <span class="keyword">WITH</span> PASSWORD <span class="string">&#x27;bb123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ç»™æƒé™</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> DATABASE jiradb <span class="keyword">TO</span> jira</span><br></pre></td></tr></table></figure></li></ol><p><img data-src="https://cdn.jonty.top/img/20210711235815.png" alt="image-20210708171601263"></p><h3 id="Jiraå®‰è£…"><a href="#Jiraå®‰è£…" class="headerlink" title="Jiraå®‰è£…"></a>Jiraå®‰è£…</h3><p><a href="https://confluence.atlassian.com/adminjiraserver071/jira-applications-installation-requirements-802592164.html">éœ€è¦ä¿è¯æœåŠ¡å™¨æœ‰<code>4GB</code>ä»¥ä¸Šå†…å­˜</a></p><p>æˆ‘åœ¨å®‰è£…çš„æ—¶å€™1æ ¸2Gè·‘ä¸åŠ¨æ¢æˆäº†4æ ¸8GğŸ‘€</p><p><img data-src="https://cdn.jonty.top/img/20210711235851.png" alt="image-20210708164819758"></p><h4 id="æ‹‰é•œåƒ"><a href="#æ‹‰é•œåƒ" class="headerlink" title="æ‹‰é•œåƒ"></a>æ‹‰é•œåƒ</h4><p>æŸ¥çœ‹dockeræ–‡æ¡£</p><p><img data-src="https://cdn.jonty.top/img/20210712000508.png"></p><ol><li>åˆ›å»ºå·</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create --name jiraVolume</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‹‰å–é•œåƒå¹¶è¿è¡Œ</li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> run -v jiraVolume:/var/atlassian/application-data/jira --name=<span class="string">&quot;jira&quot;</span> -d -p <span class="number">8080</span>:<span class="number">8080</span> atlassian/jira-software:<span class="number">8</span>.<span class="number">1</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><blockquote><p>psï¼šæ³¨æ„ï¼šæˆ‘ä»¬ç ´è§£çš„ç‰ˆæœ¬çš„ä¸º8.1.0ï¼Œæ‹‰é•œåƒéœ€è¦æŒ‡å®šç‰ˆæœ¬</p></blockquote><p><img data-src="https://cdn.jonty.top/img/20210712001529.png" alt="image-20210708170606734"></p><ol start="4"><li>æµè§ˆå™¨æ‰“å¼€<code>IP:8080</code>ç«¯å£</li></ol><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>åˆæ¬¡æ‰“å¼€ä¸ºè‹±æ–‡ï¼Œå¯åœ¨å³ä¸Šè§’è®¾ç½®ä¸ºä¸­æ–‡ã€‚é€‰æ‹©ç¬¬äºŒä¸ªï¼Œè‡ªå®šä¹‰é…ç½®</p><p><img data-src="https://cdn.jonty.top/img/20210712001604.png" alt="image-20210708170935567"></p><p>ç‚¹å‡»ä¸‹ä¸€æ­¥</p><p><img data-src="https://cdn.jonty.top/img/20210721102437.png" alt="image-20210708171706660"></p><p><img data-src="https://cdn.jonty.top/img/20210721102449.png" alt="image-20210708171725265"></p><p>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œç­‰å¾…å‡ åˆ†é’Ÿï¼Œæ­£åœ¨åˆ›å»ºæ•°æ®åº“è¡¨</p><p><img data-src="https://cdn.jonty.top/img/20210721102444.png" alt="image-20210708171808729"></p><p>æ•°æ®åº“åˆ›å»ºå®Œæˆä¹‹å</p><p><img data-src="https://cdn.jonty.top/img/20210721102454.png" alt="image-20210708172102316"></p><p>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè·å–æˆæƒç ï¼Œå¯ä»¥æœ‰30å¤©è¯•ç”¨</p><p>éœ€è¦å…ˆæŒ‰ç…§æç¤ºå»å®˜æ–¹è·å–è¯•ç”¨æˆæƒç ï¼Œè¿™æ ·æ‰å¯ä»¥è¿›å…¥ç³»ç»Ÿï¼Œç„¶åè¿›è¡Œç ´è§£åŒ…çš„æ›¿æ¢ï¼Œé‡å¯æœåŠ¡å³å¯ã€‚</p><p>ç‚¹å‡»è¿æ¥å»å®˜ç½‘ç”Ÿæˆè®¸å¯è¯</p><p><img data-src="https://cdn.jonty.top/img/20210721102458.png" alt="image-20210708172300316"></p><p>æˆ‘è¿™é‡Œæ˜¯ç›´æ¥ç”¨å¾®è½¯è´¦å·ç™»å½•ç”³è¯·çš„ï¼Œç‚¹å‡»ç”ŸæˆæŒ‰é’®åè‡ªåŠ¨è·³è½¬å›æ¥å¹¶è‡ªåŠ¨å¡«å…¥æˆæƒç </p><p><img data-src="https://cdn.jonty.top/img/20210712001647.png" alt="image-20210708172452780"></p><p>é…ç½®ç®¡ç†å‘˜è´¦å·</p><p><img data-src="https://cdn.jonty.top/img/20210721102555.png" alt="image-20210708172617985"></p><p>é‚®ä»¶æœåŠ¡å™¨ï¼Œä»¥åå†è¯´</p><p><img data-src="https://cdn.jonty.top/img/20210721102602.png" alt="image-20210708172653783"></p><p>è®¾ç½®é»˜è®¤è¯­è¨€</p><p><img data-src="https://cdn.jonty.top/img/20210721102726.png" alt="image-20210708172918673"></p><p>é€‰æ‹©å¤´åƒ</p><p><img data-src="https://cdn.jonty.top/img/20210721102743.png" alt="image-20210708172949746"></p><p>è¿™é‡Œå¯ä»¥é€‰æ‹©åˆ›å»ºç¤ºä¾‹é¡¹ç›®</p><p><img data-src="https://cdn.jonty.top/img/20210721102835.png" alt="image-20210708173027592"></p><p><img data-src="https://cdn.jonty.top/img/20210721102859.png" alt="image-20210708173118682"></p><p>è¿›å…¥é¦–é¡µé¢æ¿</p><p><img data-src="https://cdn.jonty.top/img/20210721102910.png" alt="image-20210708173327874"></p><p>ç‚¹å‡»å³ä¸Šè§’çš„ç®¡ç†&gt;åº”ç”¨ç¨‹åº</p><p><img data-src="https://cdn.jonty.top/img/20210721102535.png" alt="image-20210708173606783"></p><h3 id="ç ´è§£"><a href="#ç ´è§£" class="headerlink" title="ç ´è§£"></a>ç ´è§£</h3><ol><li>ä¸‹è½½ç ´è§£åŒ…</li></ol><p><a href="https://cloud.189.cn/t/2MFZFvriQ7fe">atlassian-extras-3.2</a></p><ol start="2"><li>ä½¿ç”¨ftpå·¥å…·ä¸Šä¼ åˆ°æœåŠ¡å™¨</li></ol><p><img data-src="https://cdn.jonty.top/img/20210721102527.png" alt="image-20210708174235612"></p><ol start="3"><li><p>æ›¿æ¢</p><p>é€šè¿‡docker ps è·å–jiraå®¹å™¨idï¼Œç„¶åæŠŠç ´è§£åŒ…ä¸Šä¼ è‡³å®¿ä¸»æœºé€šè¿‡docker cp å‘½ä»¤å¤åˆ¶åˆ°å®¹å™¨ä¸­ï¼Œé‡å¯jiraå®¹å™¨ã€€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line"></span><br><span class="line">docker cp atlassian-extras-3.2.jar  06849baab1a6:/opt/atlassian/jira/atlassian-jira/WEB-INF/lib</span><br><span class="line"></span><br><span class="line">docker restart 06849baab1a6</span><br></pre></td></tr></table></figure><p><img data-src="https://cdn.jonty.top/img/20210721091151.png" alt="image-20210708174512592"></p></li></ol><p>ç ´è§£æˆåŠŸ</p><p><img data-src="https://cdn.jonty.top/img/20210721102816.png" alt="image-20210708174733130"></p>]]></content>
    
    
    <summary type="html">ä½¿ç”¨Dockeréƒ¨ç½²é¡¹ç›®ç®¡ç†å·¥å…·Jira</summary>
    
    
    
    <category term="Docker" scheme="https://jonty.top/categories/Docker/"/>
    
    
    <category term="Docker" scheme="https://jonty.top/tags/Docker/"/>
    
    <category term="Jira" scheme="https://jonty.top/tags/Jira/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://jonty.top/2021/09/08/hello-world/"/>
    <id>https://jonty.top/2021/09/08/hello-world/</id>
    <published>2021-09-08T14:55:00.544Z</published>
    <updated>2021-09-25T15:48:37.826Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <summary type="html">Hello World ! this is my first blogğŸ‘</summary>
    
    
    
    <category term="Hexo" scheme="https://jonty.top/categories/Hexo/"/>
    
    
    <category term="Config" scheme="https://jonty.top/tags/Config/"/>
    
  </entry>
  
</feed>
