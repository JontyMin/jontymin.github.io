<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æµè§ˆå™¨å®ç°é™é»˜æ‰“å°</title>
    <url>/2021/09/25/browser-silent-printing/</url>
    <content><![CDATA[<h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚æ¶‰åŠåˆ°<code>é™é»˜æ‰“å°</code>,ä¹Ÿå°±æ˜¯æ‰“å°æ—¶ä¸éœ€è¦å¼¹å‡ºæ‰“å°é…ç½®æ¡†ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨æ‰“å°æœº</p>
<img data-src="https://cdn.jonty.top/img/image-20210925223925277.png">

<h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>ç»è¿‡è®¨è®ºå¤§æ¦‚æ˜¯ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆï¼š</p>
<ul>
<li>æŠŠæ‰“å°é…ç½®å¼¹çª—å¹²æ‰ã€æ¨¡æ‹Ÿç‚¹å‡»æ‰“å°äº‹ä»¶</li>
<li>æµè§ˆå™¨å®ç°é™é»˜æ‰“å°</li>
<li>æœ¬åœ°è¿è¡Œä¸€ä¸ªæœåŠ¡ï¼Œå®¢æˆ·ç«¯è¿”å›è¯·æ±‚çŠ¶æ€åè¯·æ±‚æœ¬åœ°æ¥å£è°ƒç”¨æ‰“å°</li>
</ul>
<h5 id="æ–¹æ¡ˆ1"><a href="#æ–¹æ¡ˆ1" class="headerlink" title="æ–¹æ¡ˆ1"></a>æ–¹æ¡ˆ1</h5><p>ç¬¬ä¸€ç§æ²¡æœ‰å»å°è¯•ï¼Œæ‰€ä»¥å…ˆè®²è®²ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡å‰ç«¯æ§åˆ¶æµè§ˆå™¨æ‰“å°ï¼Œä½†æ˜¯ç™¾åº¦ä¸€åœˆä¸‹æ¥çš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯é€šè¿‡è®¾ç½®æµè§ˆå™¨å‚æ•°ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå¿«æ·ç¨‹åºå¹¶è®¾ç½®å¯åŠ¨å‚æ•°ï¼Œæ“ä½œå¾ˆç®€å•ï¼Œä½†å®åœ¨ä¸ç¬¦åˆéœ€æ±‚ï¼Œæ€»ä¸èƒ½ç»™æ¯ä¸ªå®¢æˆ·ä¹Ÿè¿™æ ·é…ç½®ä¸€è¾¹å§ï¼Œæ‰€ä»¥ç¬¬äºŒç§ä¹Ÿ<code>pass</code>ã€‚</p>
<p>æ“ä½œå¦‚ä¸‹ï¼š</p>
<img data-src="https://cdn.jonty.top/img/image-20210925225136606.png">

<h5 id="æ–¹æ¡ˆ3"><a href="#æ–¹æ¡ˆ3" class="headerlink" title="æ–¹æ¡ˆ3"></a>æ–¹æ¡ˆ3</h5><p>é‡ç‚¹è®²ä¸€ä¸‹æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯ç›®å‰åœ¨æ¢ç´¢ä¸­ï¼Œåç»­æœ‰æ›´å¥½çš„æ–¹æ³•ä¼šå‘å‡ºæ¥ï¼Œä¹Ÿæ¬¢è¿å„ä½æå‡ºæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç›®å‰ä»…æ”¯æŒwindowsç¯å¢ƒï¼Œ<code>winform</code>æœ€ç»ˆæ˜¯<code>.exe</code>ç¨‹åº</p>
<h4 id="æ–°å»ºWinformç¨‹åº"><a href="#æ–°å»ºWinformç¨‹åº" class="headerlink" title="æ–°å»ºWinformç¨‹åº"></a>æ–°å»ºWinformç¨‹åº</h4><h5 id="ä½¿ç”¨VS2019åˆ›å»º"><a href="#ä½¿ç”¨VS2019åˆ›å»º" class="headerlink" title="ä½¿ç”¨VS2019åˆ›å»º"></a>ä½¿ç”¨<code>VS2019</code>åˆ›å»º</h5><img data-src="https://cdn.jonty.top/img/image-20210925225722885.png">

<h5 id="æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº"><a href="#æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº" class="headerlink" title="æ‹–å…¥ComboBoxæ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº"></a>æ‹–å…¥<code>ComboBox</code>æ§ä»¶ï¼Œç”¨æ¥é€‰æ‹©æœ¬åœ°æ‰“å°æœº</h5><img data-src="https://cdn.jonty.top/img/image-20210925225843764.png">

<h5 id="è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰"><a href="#è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰" class="headerlink" title="è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰"></a>è·å–æ‰“å°æœºåˆ—è¡¨å¡«å……ä¸‹æ‹‰</h5><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åŠ è½½æ‰“å°æœºåˆ—è¡¨</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitPrinterList</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> print = <span class="keyword">new</span> PrintDocument();</span><br><span class="line">    <span class="keyword">var</span> defaultPrinter = print.PrinterSettings.PrinterName;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; PrinterSettings.InstalledPrinters.Count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> tmp = PrinterSettings.InstalledPrinters[i];</span><br><span class="line">        <span class="keyword">if</span> (tmp == defaultPrinter)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp += <span class="string">&quot;(é»˜è®¤)&quot;</span>; <span class="comment">// æ ‡è®°é»˜è®¤çš„æ‰“å°æœº</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.comboBox1.Items.Add(tmp);  <span class="comment">// ä¸‹æ‹‰é¡¹æ–°å¢</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    InitPrinterList(); <span class="comment">// çª—ä½“åŠ è½½äº‹ä»¶ä¸­è°ƒç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ctrl-f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ"><a href="#ctrl-f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="ctrl+f5è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ"></a><code>ctrl+f5</code>è¿è¡Œçª—ä½“æŸ¥çœ‹æ•ˆæœ</h5><img data-src="https://cdn.jonty.top/img/image-20210925230348173.png">

<h4 id="åˆ›å»ºæœåŠ¡"><a href="#åˆ›å»ºæœåŠ¡" class="headerlink" title="åˆ›å»ºæœåŠ¡"></a>åˆ›å»ºæœåŠ¡</h4><p>æ²¡æœ‰ä½¿ç”¨<code>socket</code>,è€Œæ˜¯åœ¨<code>winform</code>ä¸­åˆ›å»ºäº†ä¸€ä¸ª<code>http</code>æœåŠ¡ï¼Œå¹¶å¼€æ”¾ç«¯å£ä¾›æµè§ˆå™¨æœ¬åœ°è¯·æ±‚</p>
<p>å…ˆæ–°å¢ä¸¤ä¸ªä¾èµ–ï¼š</p>
<ol>
<li>BeetleX 1.5.1.7 </li>
<li>BeetleX.FastHttpApi 1.8.2.61</li>
</ol>
<p>è¿™ä¸¤ä¸ªç‰ˆæœ¬æ˜¯æ”¯æŒ<code>.net framework</code>çš„ï¼Œ<a href="https://github.com/IKende/BeetleX/">BeetleX</a>æ˜¯ä¸€ä¸ªåŸºäº.Net Coreå¼€å‘çš„ä¸€ä¸ªå¼€æºè·¨å¹³å°TCPé€šè®¯æ¡†æ¶ï¼Œå®ƒæä¾›äº†å®Œæ•´çš„ä¼šè¯æœåŠ¡ç®¡ç†ï¼Œåè®®åˆ†ææ‰©å±•ï¼ŒTLSæ”¯æŒå’Œç¼“å†²åŒºç®¡ç†ç­‰å®Œå…¨æœåŠ¡åŸºç¡€åŠŸèƒ½ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»Githubå‚è§‚ä¸€ä¸‹ã€‚</p>
<h5 id="åˆå§‹åŒ–HttpæœåŠ¡"><a href="#åˆå§‹åŒ–HttpæœåŠ¡" class="headerlink" title="åˆå§‹åŒ–HttpæœåŠ¡"></a>åˆå§‹åŒ–HttpæœåŠ¡</h5><p>åœ¨Loadæ–¹æ³•ä¸­è°ƒç”¨<code>InitHttpServer()</code></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åˆå§‹åŒ–ç½‘å…³æœåŠ¡</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">InitHttpServer</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    _httpApiServer = <span class="keyword">new</span> HttpApiServer(<span class="keyword">new</span> HttpOptions()</span><br><span class="line">    &#123;</span><br><span class="line">        Port = <span class="number">9000</span>, <span class="comment">// æœ¬åœ°å¼€æ”¾çš„ç«¯å£ è¦æ³¨æ„ä¸è¦è¢«å ç”¨</span></span><br><span class="line">        LogToConsole = <span class="literal">true</span>,</span><br><span class="line">        LogLevel = BeetleX.EventArgs.LogType.Debug</span><br><span class="line">     &#125;);</span><br><span class="line">    _httpApiServer.IPv4Tables.AddWhite(<span class="string">&quot;127.0.0.1/24&quot;</span>);</span><br><span class="line">    _httpApiServer.Options.CrossDomain = <span class="keyword">new</span> OptionsAttribute() &#123; AllowOrigin = <span class="string">&quot;*&quot;</span>, AllowMethods = <span class="string">&quot;*&quot;</span>, AllowHeaders = <span class="string">&quot;*&quot;</span> &#125;; <span class="comment">// è·¨åŸŸé…ç½®ï¼Œè¿™ä¸ªå¾ˆé‡è¦</span></span><br><span class="line">    _httpApiServer.Register(<span class="keyword">typeof</span>(Home).Assembly);</span><br><span class="line">    _httpApiServer.Open();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨å†Œçš„ç¨‹åºå°±æ˜¯<code>Controller</code></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">Controller(BaseUrl = <span class="meta-string">&quot;/home&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Home</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Hello Word</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>string:  you name<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>string<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">object</span> <span class="title">Hello</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> &#123; Hello = <span class="string">&quot;hello &quot;</span> + name, Time = DateTime.Now &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶ä¸‹æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸ</p>
<img data-src="https://cdn.jonty.top/img/image-20210925231850394.png">

<p>ä½¿ç”¨<code>Postman</code>è¯·æ±‚ä¸€ä¸‹</p>
<p><code>http://localhost:9000/home/Hello?name=test</code> è¿”å›æˆåŠŸ</p>
<img data-src="https://cdn.jonty.top/img/image-20210925232302311.png">

<h4 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h4><p>å®¢æˆ·ç«¯å‘æœ¬åœ°è¯·æ±‚æ‰“å°æ¥å£ï¼Œä¼ å…¥å‚æ•°</p>
<p>è¿™é‡Œä¼ å…¥äº†pdfæ–‡ä»¶åœ°å€ï¼Œé€šè¿‡è¯·æ±‚æ–‡ä»¶å¹¶æ‰“å°</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> æ‰“å°æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;url&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;printCount&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Print</span>(<span class="params"><span class="built_in">string</span> url, <span class="built_in">int</span> printCount</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    url = url.Replace(<span class="string">&quot;\n &quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!(WebRequest.Create(url) <span class="keyword">is</span> HttpWebRequest request)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (!(request.GetResponse() <span class="keyword">is</span> HttpWebResponse response)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> stream = response.GetResponseStream();</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ‰“å°æœº</span></span><br><span class="line">    <span class="keyword">var</span> pdf = <span class="keyword">new</span> InputPdf(ReadFully(stream));</span><br><span class="line">    <span class="keyword">var</span> printJob = <span class="keyword">new</span> PrintJob(Printer.Default, pdf); <span class="comment">// é»˜è®¤æ‰“å°æœº</span></span><br><span class="line">    printJob.PrintOptions.Copies = printCount; <span class="comment">//æ‰“å°æ•°é‡</span></span><br><span class="line">    printJob.Print();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> è¯»å–å­—èŠ‚æµ</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;input&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">byte</span>[] <span class="title">ReadFully</span>(<span class="params">Stream input</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">    &#123;</span><br><span class="line">        input.CopyTo(ms);</span><br><span class="line">        <span class="keyword">return</span> ms.ToArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰“å°æ’ä»¶è°ƒç”¨çš„<code>DynamicPdf</code></p>
<p>æ‰“å°æ’ä»¶æ–‡æ¡£ï¼š<a href="https://www.dynamicpdf.com/docs/dotnet/print-manager-print-options">https://www.dynamicpdf.com/docs/dotnet/print-manager-print-options</a> </p>
</blockquote>
<h4 id="ä¼˜åŒ–å»ºè®®ï¼š"><a href="#ä¼˜åŒ–å»ºè®®ï¼š" class="headerlink" title="ä¼˜åŒ–å»ºè®®ï¼š"></a>ä¼˜åŒ–å»ºè®®ï¼š</h4><p>å¯ä»¥é€šè¿‡ä¸‹æ‹‰æ¡†é€‰æ‹©çš„æ‰“å°æœºæ‰“å°,éœ€è¦è®°å½•é€‰æ‹©çš„æ‰“å°æœº</p>
<p>é€šè¿‡è¯»å–å’Œè®¾ç½®<code>config</code>å€¼å®ç°,å¼•å…¥<code>System.Configuration</code></p>
<p>ConfigHelperç±»ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ConfigHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>è¿”å›*.exe.configæ–‡ä»¶ä¸­appSettingsé…ç½®èŠ‚çš„valueé¡¹  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;strKey&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span> </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetAppConfig</span>(<span class="params"><span class="built_in">string</span> strKey</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> file = System.Windows.Forms.Application.ExecutablePath;</span><br><span class="line">        <span class="keyword">var</span> config = ConfigurationManager.OpenExeConfiguration(file);</span><br><span class="line">        <span class="keyword">return</span> config.AppSettings.Settings.AllKeys.Any(key =&gt; key == strKey) ? config.AppSettings.Settings[strKey].Value.ToString() : <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>åœ¨*.exe.configæ–‡ä»¶ä¸­appSettingsé…ç½®èŠ‚å¢åŠ ä¸€å¯¹é”®å€¼å¯¹  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;newKey&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;param name=&quot;newValue&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UpdateAppConfig</span>(<span class="params"><span class="built_in">string</span> newKey, <span class="built_in">string</span> newValue</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> file = System.Windows.Forms.Application.ExecutablePath;</span><br><span class="line">        <span class="keyword">var</span> config = ConfigurationManager.OpenExeConfiguration(file);</span><br><span class="line">        <span class="keyword">var</span> exist = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> key <span class="keyword">in</span> config.AppSettings.Settings.AllKeys)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (key == newKey)</span><br><span class="line">            &#123;</span><br><span class="line">                exist = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (exist)</span><br><span class="line">        &#123;</span><br><span class="line">            config.AppSettings.Settings.Remove(newKey);</span><br><span class="line">        &#125;</span><br><span class="line">        config.AppSettings.Settings.Add(newKey, newValue);</span><br><span class="line">        config.Save(ConfigurationSaveMode.Modified);</span><br><span class="line">        ConfigurationManager.RefreshSection(<span class="string">&quot;appSettings&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶"><a href="#è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶" class="headerlink" title="è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶"></a>è®¾ç½®ä¸‹æ‹‰é€‰æ‹©äº‹ä»¶</h5><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">comboBox1_SelectedIndexChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°settingè®¾ç½®</span></span><br><span class="line">    <span class="keyword">var</span> selectedPrint = <span class="keyword">this</span>.comboBox1.SelectedItem.ToString();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(selectedPrint))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç§»é™¤æ‰åˆå§‹åŒ–æ‰“å°æœºåˆ—è¡¨æ·»åŠ çš„é»˜è®¤æ–‡æœ¬</span></span><br><span class="line">    <span class="keyword">if</span> (selectedPrint.Contains(<span class="string">&quot;é»˜è®¤&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        selectedPrint = selectedPrint.Replace(<span class="string">&quot;(é»˜è®¤)&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ConfigHelper.UpdateAppConfig(<span class="string">&quot;defaultPrint&quot;</span>, selectedPrint);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ä¼˜åŒ–åçš„æ‰“å°æ¥å£"><a href="#ä¼˜åŒ–åçš„æ‰“å°æ¥å£" class="headerlink" title="ä¼˜åŒ–åçš„æ‰“å°æ¥å£"></a>ä¼˜åŒ–åçš„æ‰“å°æ¥å£</h5><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// è·å–è®¾ç½®çš„æ‰“å°æœº ï¼ˆè¯»å–é…ç½®ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> defaultPrinter = ConfigHelper.GetAppConfig(<span class="string">&quot;defaultPrint&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºæ‰“å°æœº</span></span><br><span class="line"><span class="keyword">var</span> printer = <span class="keyword">new</span> Printer(defaultPrinter);</span><br><span class="line"><span class="keyword">var</span> pdf = <span class="keyword">new</span> InputPdf(ReadFully(stream));</span><br><span class="line"><span class="keyword">var</span> printJob = <span class="keyword">new</span> PrintJob(printer, pdf);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±èƒ½å®ç°ç®€å•çš„é™é»˜æ‰“å°ï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šæ¬ ç¼ºä¹‹å¤„ï¼Œåç»­ä¼˜åŒ–ï¼Œä¸å½“ä¹‹å¤„è¯·æŒ‡å‡º</p>
]]></content>
      <categories>
        <category>.Net</category>
      </categories>
      <tags>
        <tag>Winform</tag>
        <tag>Print</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸©æ•…è€ŒçŸ¥æ–°-C#æ³›å‹</title>
    <url>/2021/10/04/csharp-generic-review-01/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°åŠŸèƒ½ç›¸åŒçš„æ¨¡å—ï¼Œä½†æ˜¯å‚æ•°ç±»å‹ä¸åŒï¼Œè¿™æ—¶å€™åªèƒ½åˆ†åˆ«å†™ä¸åŒçš„æ–¹æ³•å¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œåªç”¨åŒä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†ä¸åŒç±»å‹å‚æ•°çš„æ–¹æ³•</p>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params"><span class="built_in">string</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowTypeName</span>(<span class="params">DateTime i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å‡ ä¸ªæ–¹æ³•åˆ†åˆ«è·å–<code>intã€stringã€DateTime</code>ç±»å‹çš„åç§°ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”å†™äº†ä¸‰ç§ç±»å‹çš„<code>é‡è½½</code>æ–¹æ³•ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowTypeName(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowTypeName(<span class="string">&quot;1&quot;</span>);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowTypeName(DateTime.Now);</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<p><img data-src="https://cdn.jonty.top/img/image-20211004162840338.png"></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¼šæƒ³<strong>é¢å‘å¯¹è±¡çš„ç»§æ‰¿</strong>ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨<code>C#</code>è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½ç»§æ‰¿è‡ªåŸºç±»<code>object</code></p>
<p>ä¼˜åŒ–ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowObjectName</span>(<span class="params"><span class="built_in">object</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<p><img data-src="https://cdn.jonty.top/img/image-20211004163223821.png" alt="image-20211004163223821"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨<code>object</code>ç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥è¾¾åˆ°äº†æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœï¼Œè§£å†³äº†ä»£ç çš„<strong>å¤ç”¨æ€§</strong>ã€‚</p>
<p>ä½†æ˜¯è¿™é‡Œåˆä¼šå¼•å‘å¦ä¸€ä¸ªé—®é¢˜ï¼šè£…ç®±å’Œæ‹†ç®±å¸¦æ¥çš„æ€§èƒ½æŸè€—é—®é¢˜ã€‚</p>
<blockquote>
<p>è£…ç®±å’Œæ‹†ç®±ï¼šåœ¨æŠŠå€¼ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹æˆ–æŠŠå¼•ç”¨ç±»å‹è½¬æ¢æˆå€¼ç±»å‹æ—¶ï¼Œéœ€è¦è¿›è¡Œè£…ç®±å’Œæ‹†ç®±çš„æ“ä½œã€‚</p>
<p>å€¼ç±»å‹å­˜å‚¨åœ¨æ ˆä¸Šï¼Œå¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †ä¸Šã€‚</p>
<p>å€¼ç±»å‹  ==&gt; å¼•ç”¨ç±»å‹  è£…ç®±    éšå¼è½¬æ¢(è‡ªåŠ¨è½¬æ¢)  </p>
<p>å¼•ç”¨ç±»å‹ ==&gt; å€¼ç±»å‹   æ‹†ç®±    æ˜¾ç¤ºè½¬æ¢ï¼ˆå¼ºåˆ¶è½¬æ¢ï¼‰éœ€è¦ç±»å‹è½¬æ¢è¿ç®—ç¬¦</p>
</blockquote>
<h3 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h3><p>æ³›å‹å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œäº§ç”Ÿçš„ï¼Œåœ¨<code>.NET2.0</code>æ¨å‡ºæ³›å‹</p>
<blockquote>
<p>æ³›å‹æ˜¯<code>C#</code>å’Œ<code>.NET</code>çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œä¸ä»…æ˜¯<code>C#</code>è¯­è¨€çš„ä¸€éƒ¨åˆ†è€Œä¸”å’Œ<code>IL</code>ä¸­é—´è¯­è¨€ç´§å¯†ç»“åˆã€‚</p>
<p>åœ¨æ³›å‹ç±»å‹æˆ–æ–¹æ³•å®šä¹‰ä¸­ï¼Œç±»å‹å‚æ•°æ˜¯åœ¨å…¶å®ä¾‹åŒ–æ³›å‹ç±»å‹çš„ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®¢æˆ·ç«¯æŒ‡å®šçš„ç‰¹å®šç±»å‹çš„å ä½ç¬¦ã€‚</p>
<p>æ³›å‹ç±»( <code>GenericList&lt;T&gt;</code>)æ— æ³•æŒ‰åŸæ ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯çœŸæ­£çš„ç±»å‹ï¼›å®ƒæ›´åƒæ˜¯ç±»å‹çš„è“å›¾ã€‚ è‹¥è¦ä½¿ç”¨ <code>GenericList&lt;T&gt;</code>ï¼Œå®¢æˆ·ç«¯ä»£ç å¿…é¡»é€šè¿‡æŒ‡å®šå°–æ‹¬å·å†…çš„ç±»å‹å‚æ•°æ¥å£°æ˜å¹¶å®ä¾‹åŒ–æ„é€ ç±»å‹ã€‚ æ­¤ç‰¹å®šç±»çš„ç±»å‹å‚æ•°å¯ä»¥æ˜¯ç¼–è¯‘å™¨å¯è¯†åˆ«çš„ä»»ä½•ç±»å‹ã€‚ å¯åˆ›å»ºä»»æ„æ•°é‡çš„æ„é€ ç±»å‹å®ä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªä½¿ç”¨ä¸åŒçš„ç±»å‹å‚æ•°ã€‚</p>
</blockquote>
<h4 id="å®šä¹‰æ³›å‹å‚æ•°"><a href="#å®šä¹‰æ³›å‹å‚æ•°" class="headerlink" title="å®šä¹‰æ³›å‹å‚æ•°"></a>å®šä¹‰æ³›å‹å‚æ•°</h4><p>ä¼˜åŒ–ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowName</span>&lt;<span class="title">T</span>&gt;(<span class="params">T i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(i?.GetType().Name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> s = <span class="string">&quot;Jonty&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> d = DateTime.Now;</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************CommonMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowTypeName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowTypeName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowTypeName(d);</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************ObjectMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowObjectName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowObjectName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowObjectName(d);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;***************GenericMethod*************&quot;</span>);</span><br><span class="line"><span class="comment">// int</span></span><br><span class="line">CommonMethod.ShowName(i);</span><br><span class="line"><span class="comment">// string</span></span><br><span class="line">CommonMethod.ShowName(s);</span><br><span class="line"><span class="comment">// datetime</span></span><br><span class="line">CommonMethod.ShowName(d);</span><br><span class="line"></span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæ•ˆæœæ˜¯ä¸€æ‘¸ä¸€æ ·çš„ï¼š</p>
<p><img data-src="https://cdn.jonty.top/img/image-20211004170341353.png" alt="image-20211004170341353"></p>
<p><strong>ä¸ºä»€ä¹ˆæ³›å‹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</strong></p>
<p>æ³›å‹æ˜¯å»¶è¿Ÿå£°æ˜çš„ï¼šå³å®šä¹‰çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå…·ä½“çš„å‚æ•°ç±»å‹ï¼ŒæŠŠå‚æ•°ç±»å‹çš„å£°æ˜æ¨è¿Ÿåˆ°äº†è°ƒç”¨çš„æ—¶å€™æ‰æŒ‡å®šå‚æ•°ç±»å‹</p>
<p><strong>æ³›å‹æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ</strong></p>
<p>æ§åˆ¶å°ç¨‹åºæœ€ç»ˆä¼šç¼–è¯‘æˆä¸€ä¸ªexeç¨‹åºï¼Œexeè¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œä¼šç»è¿‡JIT(å³æ—¶ç¼–è¯‘å™¨)çš„ç¼–è¯‘ï¼Œæœ€ç»ˆç”ŸæˆäºŒè¿›åˆ¶ä»£ç ï¼Œæ‰èƒ½è¢«è®¡ç®—æœºæ‰§è¡Œã€‚æ³›å‹åŠ å…¥åˆ°è¯­æ³•ä»¥åï¼Œ<code>visual studio</code>è‡ªå¸¦çš„ç¼–è¯‘å™¨åˆåšäº†å‡çº§ï¼Œå‡çº§ä¹‹åç¼–è¯‘æ—¶é‡åˆ°æ³›å‹ï¼Œä¼šåšç‰¹æ®Šçš„å¤„ç†ï¼šç”Ÿæˆå ä½ç¬¦ã€‚å†æ¬¡ç»è¿‡JITç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šæŠŠä¸Šé¢ç¼–è¯‘ç”Ÿæˆçš„å ä½ç¬¦æ›¿æ¢æˆå…·ä½“çš„æ•°æ®ç±»å‹ã€‚</p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(List&lt;&gt;));</span><br><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(Dictionary&lt;,&gt;));</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ³›å‹åœ¨ç¼–è¯‘åä¼šç”Ÿæˆå ä½ç¬¦</p>
<p><img data-src="https://cdn.jonty.top/img/image-20211004171349172.png" alt="image-20211004171349172"></p>
<p><strong>æ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">11932</span></span><br><span class="line">    <span class="built_in">long</span> commonSecond = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">long</span> objectSecond = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">long</span> genericSecond = <span class="number">0</span></span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            ShowInt(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        commonSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            ShowObject(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        objectSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        Stopwatch stopwatch = <span class="keyword">new</span>();</span><br><span class="line">        stopwatch.Start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">1000000000</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            Show(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stopwatch.Stop();</span><br><span class="line">        genericSecond = stopwatch.ElapsedMilliseconds;</span><br><span class="line">    &#125;</span><br><span class="line">    Console.WriteLine(</span><br><span class="line">        <span class="string">$&quot;commonMethod:<span class="subst">&#123;commonSecond&#125;</span>\nobjectMethod:<span class="subst">&#123;objectSecond&#125;</span>\ngenericMethod:<span class="subst">&#123;genericSecond&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">region</span> Private Metho</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowInt</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowObject</span>(<span class="params"><span class="built_in">object</span> i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>&lt;<span class="title">T</span>&gt;(<span class="params">T i</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endregion</span></span></span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<p>æ³›å‹æ–¹æ³•&lt;æ™®é€šæ–¹æ³•&lt;Objectæ–¹æ³• </p>
<p><img data-src="https://cdn.jonty.top/img/image-20211004172530409.png" alt="image-20211004172530409"></p>
<h3 id="ç±»å‹å®‰å…¨"><a href="#ç±»å‹å®‰å…¨" class="headerlink" title="ç±»å‹å®‰å…¨"></a>ç±»å‹å®‰å…¨</h3><p>æ³›å‹çš„å¦ä¸€ä¸ªç‰¹æ€§å°±æ˜¯<strong>ç±»å‹å®‰å…¨</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<p><code>ArrayList</code>å¯ä»¥æ·»åŠ ä»»æ„ç±»å‹çš„å‚æ•°</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">arrayList.Add(<span class="number">123</span>);</span><br><span class="line">arrayList.Add(<span class="string">&quot;jonty&quot;</span>);</span><br><span class="line">arrayList.Add(DateTime.Now);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> arrayList)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ³›å‹å¯ä»¥è¿›è¡Œç±»å‹çº¦æŸï¼š</p>
<p>å¦‚æœæˆ‘ä»¬æ·»åŠ å…¶ä»–ç±»å‹çš„å‚æ•°åˆ™ä¼šç¼–è¯‘æŠ¥é”™ï¼Œ<strong>å‚æ•°æ— æ•ˆ</strong></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">List&lt;<span class="built_in">int</span>&gt; arrInts = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">arrInts.Add(<span class="number">1</span>);</span><br><span class="line">arrInts.Add(<span class="number">2</span>);</span><br><span class="line">arrInts.Add(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h3 id="å‘½åçº¦å®š"><a href="#å‘½åçº¦å®š" class="headerlink" title="å‘½åçº¦å®š"></a>å‘½åçº¦å®š</h3><ul>
<li><p>æ³›å‹ç±»å‹çš„åç§°é¦–å­—æ¯ç”¨<code>T</code></p>
</li>
<li><p>å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ³›å‹ç±»å‹å…è®¸ç”¨ä»»ä½•ç±»ä»£æ›¿ï¼›ä¸”åªä½¿ç”¨äº†ä¸€ä¸ªæ³›å‹ç±»å‹æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>T</code>ä½œä¸ºæ³›å‹ç±»å‹çš„åç§°</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">List</span>&lt;<span class="title">T</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœæ³›å‹çš„ç±»å‹æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œæˆ–è€…ä½¿ç”¨äº†ä¸¤ä¸ªæˆ–å¤šä¸ªæ³›å‹ç±»å‹ï¼Œé‚£ä¹ˆæ³›å‹ç±»åº”è¯¥ä½¿ç”¨æè¿°æ€§åç§°</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Eventhandler</span>&lt;<span class="title">TEventArgs</span>&gt;(<span class="params">Object sender,TEventargs e</span>)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SortedList</span>&lt;<span class="title">Tkey</span>,<span class="title">TValue</span>&gt;&#123;&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>CSharp</category>
      </categories>
      <tags>
        <tag>Review</tag>
        <tag>Generic</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/09/08/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerä¸­å®‰è£…jira</title>
    <url>/2021/09/23/install-jira-in-docker/</url>
    <content><![CDATA[<h2 id="æ•°æ®åº“å‡†å¤‡"><a href="#æ•°æ®åº“å‡†å¤‡" class="headerlink" title="æ•°æ®åº“å‡†å¤‡"></a>æ•°æ®åº“å‡†å¤‡</h2><p>å…¶ä»–æ•°æ®åº“è¯·å‚è€ƒæ–‡æ¡£</p>
<p><a href="https://confluence.atlassian.com/adminjiraserver/connecting-jira-applications-to-a-database-938846850.html">Connecting Jira applications to a database</a></p>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯PostgreSql</p>
<ol>
<li><p>åˆ›å»ºç©ºæ•°æ®åº“</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jiradb <span class="keyword">WITH</span> ENCODING <span class="string">&#x27;UNICODE&#x27;</span> LC_COLLATE <span class="string">&#x27;C&#x27;</span> LC_CTYPE <span class="string">&#x27;C&#x27;</span> TEMPLATE template0;</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»ºç”¨æˆ·(ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤ç”¨æˆ·)</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> jira <span class="keyword">WITH</span> PASSWORD <span class="string">&#x27;bb123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ç»™æƒé™</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> DATABASE jiradb <span class="keyword">TO</span> jira</span><br></pre></td></tr></table></figure></li>
</ol>
<p><img data-src="https://cdn.jonty.top/img/20210711235815.png" alt="image-20210708171601263"></p>
<h3 id="Jiraå®‰è£…"><a href="#Jiraå®‰è£…" class="headerlink" title="Jiraå®‰è£…"></a>Jiraå®‰è£…</h3><p><a href="https://confluence.atlassian.com/adminjiraserver071/jira-applications-installation-requirements-802592164.html">éœ€è¦ä¿è¯æœåŠ¡å™¨æœ‰<code>4GB</code>ä»¥ä¸Šå†…å­˜</a></p>
<p>æˆ‘åœ¨å®‰è£…çš„æ—¶å€™1æ ¸2Gè·‘ä¸åŠ¨æ¢æˆäº†4æ ¸8GğŸ‘€</p>
<p><img data-src="https://cdn.jonty.top/img/20210711235851.png" alt="image-20210708164819758"></p>
<h4 id="æ‹‰é•œåƒ"><a href="#æ‹‰é•œåƒ" class="headerlink" title="æ‹‰é•œåƒ"></a>æ‹‰é•œåƒ</h4><p>æŸ¥çœ‹dockeræ–‡æ¡£</p>
<p><img data-src="https://cdn.jonty.top/img/20210712000508.png"></p>
<ol>
<li>åˆ›å»ºå·</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume create --name jiraVolume</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ‹‰å–é•œåƒå¹¶è¿è¡Œ</li>
</ol>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> run -v jiraVolume:/var/atlassian/application-data/jira --name=<span class="string">&quot;jira&quot;</span> -d -p <span class="number">8080</span>:<span class="number">8080</span> atlassian/jira-software:<span class="number">8</span>.<span class="number">1</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>psï¼šæ³¨æ„ï¼šæˆ‘ä»¬ç ´è§£çš„ç‰ˆæœ¬çš„ä¸º8.1.0ï¼Œæ‹‰é•œåƒéœ€è¦æŒ‡å®šç‰ˆæœ¬</p>
</blockquote>
<p><img data-src="https://cdn.jonty.top/img/20210712001529.png" alt="image-20210708170606734"></p>
<ol start="4">
<li>æµè§ˆå™¨æ‰“å¼€<code>IP:8080</code>ç«¯å£</li>
</ol>
<h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>åˆæ¬¡æ‰“å¼€ä¸ºè‹±æ–‡ï¼Œå¯åœ¨å³ä¸Šè§’è®¾ç½®ä¸ºä¸­æ–‡ã€‚é€‰æ‹©ç¬¬äºŒä¸ªï¼Œè‡ªå®šä¹‰é…ç½®</p>
<p><img data-src="https://cdn.jonty.top/img/20210712001604.png" alt="image-20210708170935567"></p>
<p>ç‚¹å‡»ä¸‹ä¸€æ­¥</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102437.png" alt="image-20210708171706660"></p>
<p><img data-src="https://cdn.jonty.top/img/20210721102449.png" alt="image-20210708171725265"></p>
<p>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œç­‰å¾…å‡ åˆ†é’Ÿï¼Œæ­£åœ¨åˆ›å»ºæ•°æ®åº“è¡¨</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102444.png" alt="image-20210708171808729"></p>
<p>æ•°æ®åº“åˆ›å»ºå®Œæˆä¹‹å</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102454.png" alt="image-20210708172102316"></p>
<p>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè·å–æˆæƒç ï¼Œå¯ä»¥æœ‰30å¤©è¯•ç”¨</p>
<p>éœ€è¦å…ˆæŒ‰ç…§æç¤ºå»å®˜æ–¹è·å–è¯•ç”¨æˆæƒç ï¼Œè¿™æ ·æ‰å¯ä»¥è¿›å…¥ç³»ç»Ÿï¼Œç„¶åè¿›è¡Œç ´è§£åŒ…çš„æ›¿æ¢ï¼Œé‡å¯æœåŠ¡å³å¯ã€‚</p>
<p>ç‚¹å‡»è¿æ¥å»å®˜ç½‘ç”Ÿæˆè®¸å¯è¯</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102458.png" alt="image-20210708172300316"></p>
<p>æˆ‘è¿™é‡Œæ˜¯ç›´æ¥ç”¨å¾®è½¯è´¦å·ç™»å½•ç”³è¯·çš„ï¼Œç‚¹å‡»ç”ŸæˆæŒ‰é’®åè‡ªåŠ¨è·³è½¬å›æ¥å¹¶è‡ªåŠ¨å¡«å…¥æˆæƒç </p>
<p><img data-src="https://cdn.jonty.top/img/20210712001647.png" alt="image-20210708172452780"></p>
<p>é…ç½®ç®¡ç†å‘˜è´¦å·</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102555.png" alt="image-20210708172617985"></p>
<p>é‚®ä»¶æœåŠ¡å™¨ï¼Œä»¥åå†è¯´</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102602.png" alt="image-20210708172653783"></p>
<p>è®¾ç½®é»˜è®¤è¯­è¨€</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102726.png" alt="image-20210708172918673"></p>
<p>é€‰æ‹©å¤´åƒ</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102743.png" alt="image-20210708172949746"></p>
<p>è¿™é‡Œå¯ä»¥é€‰æ‹©åˆ›å»ºç¤ºä¾‹é¡¹ç›®</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102835.png" alt="image-20210708173027592"></p>
<p><img data-src="https://cdn.jonty.top/img/20210721102859.png" alt="image-20210708173118682"></p>
<p>è¿›å…¥é¦–é¡µé¢æ¿</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102910.png" alt="image-20210708173327874"></p>
<p>ç‚¹å‡»å³ä¸Šè§’çš„ç®¡ç†&gt;åº”ç”¨ç¨‹åº</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102535.png" alt="image-20210708173606783"></p>
<h3 id="ç ´è§£"><a href="#ç ´è§£" class="headerlink" title="ç ´è§£"></a>ç ´è§£</h3><ol>
<li>ä¸‹è½½ç ´è§£åŒ…</li>
</ol>
<p><a href="https://cloud.189.cn/t/2MFZFvriQ7fe">atlassian-extras-3.2</a></p>
<ol start="2">
<li>ä½¿ç”¨ftpå·¥å…·ä¸Šä¼ åˆ°æœåŠ¡å™¨</li>
</ol>
<p><img data-src="https://cdn.jonty.top/img/20210721102527.png" alt="image-20210708174235612"></p>
<ol start="3">
<li><p>æ›¿æ¢</p>
<p>é€šè¿‡docker ps è·å–jiraå®¹å™¨idï¼Œç„¶åæŠŠç ´è§£åŒ…ä¸Šä¼ è‡³å®¿ä¸»æœºé€šè¿‡docker cp å‘½ä»¤å¤åˆ¶åˆ°å®¹å™¨ä¸­ï¼Œé‡å¯jiraå®¹å™¨ã€€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker ps</span><br><span class="line"></span><br><span class="line">docker cp atlassian-extras-3.2.jar  06849baab1a6:/opt/atlassian/jira/atlassian-jira/WEB-INF/lib</span><br><span class="line"></span><br><span class="line">docker restart 06849baab1a6</span><br></pre></td></tr></table></figure>



<p><img data-src="https://cdn.jonty.top/img/20210721091151.png" alt="image-20210708174512592"></p>
</li>
</ol>
<p>ç ´è§£æˆåŠŸ</p>
<p><img data-src="https://cdn.jonty.top/img/20210721102816.png" alt="image-20210708174733130"></p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Jira</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥ä¹å…³äºæˆ‘å›½é«˜ç­‰æ•™è‚²çš„çœ‹æ³•</title>
    <url>/2021/09/27/the-systematic-failure-of-higher-education-in-china/</url>
    <content><![CDATA[<p>å’Œè€åŒå­¦èŠåˆ°åœ¨å­¦æ ¡çš„ç”Ÿæ´»ï¼Œçªç„¶æƒ³åˆ°ä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°çš„è¿™ç¯‡å¸–å­ï¼Œè½¬è½½è®°å½•ä¸€ä¸‹</p>
<p><a href="https://www.zhihu.com/people/517a82a684971b49348575efaa8f6fdd">@Youngster38324</a> çš„å›ç­”é€éœ²å‡ºæ¥äº†æˆ‘å›½é«˜ç­‰æ•™è‚²ç³»ç»Ÿä¸­çš„ä¸å°‘é—®é¢˜ï¼š</p>
<ol>
<li><strong>ã€Œè¿›å¤§å­¦å‰å”¯åˆ†æ•°å’ŒåŒè´¨åŒ–æ•™è‚²ã€</strong>å¯¼è‡´äº†å¤ªå¤šäººå»å¤§å­¦åæ ¹æœ¬ä¸çŸ¥é“è‡ªå·±è¦å¹²å˜›ï¼Œå¾ˆå¤šäººä¸“ä¸šæ ¹æœ¬å°±ä¸æ˜¯è‡ªå·±é€‰çš„æ›´ä¸è¦è¯´çŸ¥é“è‡ªå·±æœ‰æ²¡æœ‰å…´è¶£äº†ï¼Œå³ä¾¿æ˜¯å¾ˆå¤šé«˜åˆ†è€ƒç”Ÿä¹Ÿè·¯å¾„ä¾èµ–åœ°ä»¥ä¸ºç»§ç»­åŠªåŠ›å¡«é¸­å°±èƒ½æˆåŠŸï¼Œæ²¡æœ‰æ„è¯†åˆ°é«˜è€ƒåçš„äººç”Ÿå·²ç»æ¢èµ›é“äº†ã€‚ä½œä¸ºè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å¼•å…¥ç±»ä¼¼ç¾å›½ APï¼ˆAdvanced Placementï¼‰çš„é¢„ç§‘åˆ¶åº¦ä»¥åŠè°ƒæ•´æ•´ä¸ªç¤¾ä¼šé¼“åŠ±å‘è‡ªæˆ‘å‘å±•çœ‹è€Œä¸æ˜¯å‘é’±çœ‹çš„é£æ°”ã€‚</li>
<li><strong>ã€Œè¿›å¤§å­¦åä¸“ä¸šåˆ¶åº¦æ²¡æœ‰å®¹é”™æ€§ã€</strong>ï¼Œå³ä¾¿å·²ç»å‘ç°è‡ªå·±ä¸å–œæ¬¢è¢«å½•å–ä¸“ä¸šäº†ä¹Ÿæ²¡æœ‰åŠæ³•ï¼Œå› ä¸ºè½¬ä¸“ä¸šåˆ¶åº¦ä¸å®Œå–„ï¼ˆé€šå¸¸è¦æ±‚ä½ å…ˆè¦åœ¨ä½ å·²ç»ä¸å–œæ¬¢äº†çš„æœ¬ä¸“ä¸šå†…å·åˆ°ç­çº§å‰å¤šå°‘åï¼‰ã€‚åœ¨ä¸å°‘è¥¿æ–¹å­¦æ ¡ï¼Œä¸“ä¸šå¯ä»¥ undecidedï¼ˆå…ˆä¸Šè¯¾å†å†³å®šä¸“ä¸šï¼Œæ¯”å¦‚ç»å…¸çš„å“ˆä½› CS50ï¼Œä½ ä¸Šä¸‹æ¥æ„Ÿå…´è¶£äº†å†å»é€‰ CSï¼‰ï¼›å­¦ä½æœ¬èº«åªæ˜¯æŸä¸ªå­¦ç§‘ä¸‹è¯¾ç¨‹å­¦åˆ†ç´¯è®¡çš„è‡ªç„¶ç»“æœï¼Œå› æ­¤å¯ä»¥çµæ´»çš„è½¬ä¸“ä¸šä¸å¤šå­¦ä½ï¼›ç­çº§è¿™ç§ä¿ƒè¿›å†…å·çš„æ¦‚å¿µä¹Ÿè¢«å¼±åŒ–ï¼Œå¼ºè°ƒè·Ÿè‡ªå·±æ¯”å…³æ³¨ä¸ªäººçš„æˆé•¿ï¼Œå­¦ç”Ÿè‡ªå·±æ§åˆ¶ä¸Šå‡ å¹´è¯¾ï¼Œå¿µå‡ ä¸ªå­¦ä½ï¼Œä¸­é—´ä¼‘å­¦ä¸€ä¸‹éƒ½æ²¡å…³ç³»ã€‚</li>
<li>å‰ä¸¤æ­¥çš„ç»“æœå°±æ˜¯å¯¼è‡´å¤§å­¦ä¸ºäº†æ¯•ä¸šç‡æŠŠ<strong>ã€Œè¯„åˆ¤æ ‡å‡†ææˆäº†å¹³å‡ä¸»ä¹‰ã€</strong>ï¼Œä¸ºäº†èƒ½å¤Ÿæ¯å¹´é¡ºåˆ©å‘ç¤¾ä¼šè¾“é€ä¸€æ‰¹ï¼ˆ80% å°†æ¥éƒ½ä¸ä¼šä»äº‹æœ¬ä¸“ä¸šï¼‰çš„äººæ‰ï¼Œæ‰“åˆ†æ ¹æ®æ¯å¹´å­¦ç”Ÿæƒ…å†µåŠ¨æ€è§„åˆ’è‡ªé€‚åº”ï¼ŒæŠŠå¤§å­¦ææˆäº†ã€Œä¸¥è¿›å®½å‡ºã€ã€‚å…¶å®å¤§å­¦æ•™è‚²æ›´åº”è¯¥å¼ºè°ƒã€Œå®½è¿›ä¸¥å‡ºã€ï¼Œæ— è®ºä½ åº•å­å¦‚ä½•ï¼Œæ— è®ºé‡ä¿®å‡ æ¬¡ï¼Œä½ åªè¦é€šè¿‡äº†æŸä¸ªï¼ˆç›¸å¯¹ç¨³å®šçš„ï¼‰å®¢è§‚æ ‡å‡†å°±æ˜¯åˆæ ¼ï¼Œä¸ºäº†ä¿è¯è¯¥åˆ¶åº¦çš„æœºæ¢°æ€§è¿ä½œï¼Œå°±è¦è¾…ä»¥ä¸¥æ ¼çš„æ—¥å¸¸ä½œä¸šè®¡åˆ†ï¼Œå¯¹ã€Œä½œå¼Šã€é›¶å®¹å¿ï¼ˆè‡ªåŠ¨åŒ–åˆ¤é‡ï¼Œå‘ç°ä¸€æ¬¡é‡ä¿®ä¸¤æ¬¡é€€å­¦ï¼‰ã€‚</li>
<li>å¹³å‡ä¸»ä¹‰è¿›ä¸€æ­¥å¯¼è‡´<strong>ã€Œè¯¾ç¨‹è®¾ç½®æ²¡æœ‰çµæ´»æ€§æ— æ³•è‡ªå®šä¹‰ã€</strong>ï¼Œè€å¸ˆä¸ä½†è¦ç…§é¡¾åŠæ ¼ç‡è¿˜æœ‰ä¸€é¢—åœ£æ¯å¿ƒå¸Œæœ›é‚£äº›å¯¹ä¸“ä¸šæ²¡ä»€ä¹ˆå…´è¶£çš„äººèƒ½å¥½æ­¹å­¦åˆ°ç‚¹ä¸œè¥¿ï¼ŒåŒæ—¶åˆçœŸå¿ƒæ¬£èµä¸”æƒ³è¦ç»™äºˆå¥½å­¦çš„å°–å­ç”Ÿèµ„æºï¼Œæœ€åå³ä¾¿ç»å°½è„‘æ±äº†ä¹Ÿè¿˜æ˜¯åªèƒ½å¼„å‡ºä¸ªåœ¨å·®ç”Ÿé‡Œä¸‹é™é«˜åœ¨å°–å­ç”Ÿé‡Œä¸Šé™ä½çš„è¯¾ç¨‹å®‰æ’ä¸¤é¢ä¸å½“äºº â€”â€” å°–å­ç”Ÿè§‰å¾—è¯¾ç¨‹è¦æ±‚å¤ªä½ä¸èƒ½æ¿€å‘è‡ªå·±çš„æ½œåŠ›å–‚ä¸é¥±ï¼ˆå¸¸è§äºç§ä¸‹è¦æ±‚åŠ éš¾åº¦æˆ–è€…å»æ— å­¦åˆ†æ—å¬ï¼‰ï¼Œæ‘¸é±¼çš„è§‰å¾—è€å¸ˆå½±å“äº†æˆ‘çš„å¿«ä¹å­¦ä¹ ï¼ˆå¸¸è§äºè¯¾å ‚ä¸Šä¸€å¸ƒç½®ä½œä¸šä¸‹é¢å°±å«è‹¦è¿å¤©ï¼‰è¯¥æŒ‚è¿˜æ˜¯æŒ‚æˆ–è€… 60 åˆ†ä¸‡å²ã€‚åœ¨ä¸å°‘è¥¿æ–¹å­¦æ ¡å­¦ç”Ÿï¼Œè¯¾ç¨‹è¡¨å¯ä»¥è‡ªè¡Œå®‰æ’ï¼Œä¸€ä¸ªè¯¾å¯ä»¥å¼€å¤šä¸ªç­æ¬¡ç…§é¡¾çµæ´»æ€§ï¼Œå­¦éœ¸å¯ä»¥æ¯”åˆ«äººå¤šä¸Šä»»æ„èŠ‚è¯¾ï¼Œä¹Ÿå¯ä»¥è·¨ä¸“ä¸šé€‰è¯¾æˆ–è€…å‡å°‘è¯¾ç¨‹å¢åŠ å®ä¹ æˆ–ç ”ç©¶ï¼Œè€Œä¸”éš¾åº¦è‡ªé€‰åªè¦ä½ ç‚¹è¿‡å‰ç½®æŠ€èƒ½å°±è¡Œã€‚</li>
</ol>
<p>æœ‰ç±»ä¼¼è¿Ÿå…ˆç”Ÿè¿™æ ·è¯‰æ±‚çš„äººå¾ˆå¤šï¼Œå¯æ˜¯ä¸€ä¸ªç³»ç»Ÿå¾ˆéš¾ç”±ç³»ç»Ÿå†…çš„ä¸ªä½“æ”¹å˜ï¼Œæ‰€ä»¥å¾ˆå¤šä¸ªä½“é€‰æ‹©äº†åšå±€éƒ¨ä¼˜åŒ–è¶‹åˆ©é¿å®³é™ªç©æˆä¸ºæ—¢å¾—åˆ©ç›Šè€…ï¼Œæˆ–è€…å…¨å±€ä¼˜åŒ–æ›´æ¢è‡ªå·±æ‰€å¤„çš„ç³»ç»Ÿã€‚</p>
<p>åªè¦æ‰€å¤„ç³»ç»Ÿé‡Œçš„å¤§éƒ¨åˆ†ä¸ªä½“éƒ½å·²ç»é»˜è®¸äº†è¿™ä¸ªæ¸¸æˆè§„åˆ™ï¼Œæ— è®ºè¿Ÿå…ˆç”Ÿæ˜¯ã€Œå‡¡å°”èµ›ã€è¿˜æ˜¯ã€Œç†æƒ³ä¸»ä¹‰ã€ï¼Œæ”¹å˜èµ›é“è§„åˆ™å°±ä¼šè¢«å…¶ä»–ä¸ªä½“è®¤ä¸ºä¾µå®³åˆ°åˆ©ç›Šã€‚å°å­©æ‰åˆ†å¯¹é”™ï¼Œæˆå¹´äººçš„å±è‚¡éƒ½æ˜¯æ­ªå¾—ï¼Œéƒ½æ˜¯å„å–æ‰€éœ€ã€‚</p>
<blockquote>
<p>ä½œè€…ï¼šé»„ç„<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/439622084/answer/1685314467">https://www.zhihu.com/question/439622084/answer/1685314467</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>Reprint</category>
      </categories>
      <tags>
        <tag>Zhihu</tag>
        <tag>View</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows Terminal ç¾åŒ–</title>
    <url>/2021/10/03/windows-terminal-beautify/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ç”¨äº†å¾ˆä¹…çš„<code>Terminal+PowerShell</code>,åŠ ä¸Šè£…äº†<code>oh-my-posh</code>è¿™ä¸ªæ’ä»¶ï¼Œä¸ç®¡ç”¨èµ·æ¥è¿˜æ˜¯çœ‹èµ·æ¥éƒ½å¾ˆèˆ’æœã€‚</p>
<img data-src="https://cdn.jonty.top/img/image-20211003000724702.png" alt="image-20211003000724702" style="zoom: 80%;" />

<p>ç”±äºç”µè„‘æ¢å¤äº†ï¼Œé‡æ–°é…ç½®ä¸€ä¸‹ï¼Œè®°å½•ä»¥ä¾›å‚è€ƒã€‚</p>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>1ã€ä¸‹è½½<code>Terminal</code></p>
<p>å¯ä»¥ç›´æ¥åœ¨å¾®è½¯å•†åº—ä¸‹è½½ï¼Œæˆ‘è¿™é‡Œå·²ç»å®‰è£…è¿‡äº†ã€‚</p>
<img data-src="https://cdn.jonty.top/img/image-20211003001214531.png" alt="image-20211003001214531" style="zoom:80%;" />

<p>2ã€å®‰è£…<code>PowerShell</code></p>
<blockquote>
<p>è¿™é‡Œçš„PowerShellå¹¶é<code>win</code>ç³»ç»Ÿè‡ªå¸¦çš„<code>PowerShell</code>,è€Œæ˜¯å®ƒçš„ä¸€ä¸ªè·¨å¹³å°ç‰ˆæœ¬ï¼Œç±»ä¼¼äº<code>.NET</code>ä¸<code>.NET Core</code>çš„å…³ç³»ã€‚</p>
</blockquote>
<p><a href="https://github.com/PowerShell/PowerShell/releases">ä¸‹è½½åœ°å€</a>ï¼Œæ‰¾åˆ°ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å®‰è£…ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯è¿™ä¸ªç‰ˆæœ¬</p>
<img data-src="https://cdn.jonty.top/img/image-20211003001938075.png" alt="image-20211003001938075" style="zoom:80%;" />

<p>3ã€å®‰è£…æ’ä»¶</p>
<ul>
<li><code>PSReadLine</code>:æä¾›è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ï¼ŒGitHubåœ°å€ï¼š<a href="https://github.com/PowerShell/PSReadLine">https://github.com/PowerShell/PSReadLine</a></li>
<li><code>posh-git</code>:æä¾›gitçš„çŠ¶æ€æ˜¾ç¤ºå’Œå‘½ä»¤è¡¥å…¨ã€‚</li>
<li><code>oh-my-posh</code>:æä¾›è‡ªå®šä¹‰ä¸»é¢˜å’Œé…è‰²ç­‰,å®˜ç½‘ï¼š<a href="https://ohmyposh.dev/">https://ohmyposh.dev/</a></li>
</ul>
<p>ä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€æ–°å®‰è£…çš„<code>PowerShell</code>,æ‰§è¡Œä¸‹åˆ—å‘½ä»¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Install-Module PSReadline</span><br><span class="line">Install-Module posh-git</span><br><span class="line">Install-Module oh-my-posh</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ—¶æç¤ºåˆ™ç›´æ¥è¾“å…¥<code>y</code>ä¿¡ä»»å³å¯ã€‚</p>
<p>4ã€å®‰è£…å­—ä½“</p>
<p><a href="https://www.nerdfonts.com/font-downloads">ä¸‹è½½å­—ä½“</a> é€‰æ‹©åˆé€‚çš„å­—ä½“ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>FiraCode</code></p>
<blockquote>
<p>é¡ºä¾¿æ¨èä¸€ä¸‹ä½¿ç”¨<code>FiraCode</code>ç ä»£ç ä¹ŸæŒºçˆ½çš„</p>
<p>ä½¿ç”¨Nerd Fontä¸ä¼šå¯¼è‡´ä¹±ç ï¼Œç‰¹æ®Šçš„ä¸€äº›ç¬¦å·ä¼šä¹±ç ï¼Œå¦‚å›¾</p>
</blockquote>
<img data-src="https://cdn.jonty.top/img/image-20211003003954813.png" alt="image-20211003003954813" style="zoom:80%;" />

<p>å°†ä¸‹è½½ä¸‹æ¥çš„å­—ä½“æ–‡ä»¶å…¨é€‰ï¼Œæ‹–å…¥å®‰è£…</p>
<img data-src="https://cdn.jonty.top/img/image-20211003004813071.png" alt="image-20211003004813071" style="zoom:80%;" />

<p>5ã€ç¼–è¾‘<code>$Profile</code>æ–‡ä»¶</p>
<p>Windows:</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">notepad<span class="selector-class">.exe</span> <span class="variable">$Profile</span></span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰æ–‡ä»¶åˆ™åˆ›å»ºï¼Œé…ç½®ä¸€ä¸‹å†…å®¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥ posh-git</span></span><br><span class="line">Import-Module posh-git</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼•å…¥ oh-my-posh</span></span><br><span class="line">Import-Module oh-my-posh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® PowerShell ä¸»é¢˜</span></span><br><span class="line">Set-PoshPrompt paradox </span><br></pre></td></tr></table></figure>

<p>ä¸»é¢˜å¯ä»¥é€šè¿‡<code>Get-PoshThemes</code>å‘½ä»¤æŸ¥çœ‹ï¼Œé€‰æ‹©å–œæ¬¢çš„ç„¶åå°†ä¸»é¢˜åç§°æ›¿æ¢å³å¯ã€‚</p>
<p>6ã€é…ç½®<code>Terminal</code></p>
<p>æ‰“å¼€é…ç½®æ–‡ä»¶<img data-src="https://cdn.jonty.top/img/image-20211003005518036.png" alt="image-20211003005518036" style="zoom:80%;" /></p>
<p>åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p>
<p>è§†å„è‡ªçš„æƒ…å†µé…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&quot;defaultProfile&quot;: &quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;, # è®¾ç½®é»˜è®¤</span><br><span class="line">&quot;profiles&quot;: </span><br><span class="line">    &#123;</span><br><span class="line">        &quot;defaults&quot;: &#123;&#125;,</span><br><span class="line">        &quot;list&quot;: </span><br><span class="line">        [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;acrylicOpacity&quot;: 0.5,</span><br><span class="line">                &quot;backgroundImage&quot;: null,</span><br><span class="line">                &quot;commandline&quot;: &quot;C:/Program Files/PowerShell/7/pwsh.exe -nologo&quot;,</span><br><span class="line">                &quot;fontSize&quot;: 11,</span><br><span class="line">                &quot;fontFace&quot;: &quot;FiraCode Nerd Font&quot;,</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;&quot;,</span><br><span class="line">                &quot;hidden&quot;: false,</span><br><span class="line">                &quot;historySize&quot;: 9001,</span><br><span class="line">                &quot;name&quot;: &quot;pwsh&quot;,</span><br><span class="line">                &quot;padding&quot;: &quot;5, 5, 20, 25&quot;,</span><br><span class="line">                &quot;snapOnInput&quot;: true,</span><br><span class="line">                &quot;source&quot;: &quot;Windows.Terminal.PowershellCore&quot;,</span><br><span class="line">                &quot;startingDirectory&quot;: &quot;.&quot;,</span><br><span class="line">                &quot;useAcrylic&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">         ]</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<p>7ã€<code>VsCode</code>é…ç½®</p>
<img data-src="https://cdn.jonty.top/img/image-20211003005954791.png" alt="image-20211003005954791" style="zoom:80%;" />

<p>è‡³æ­¤å¤§åŠŸå‘Šæˆï¼Œè¿™ä¸‹æ˜¯ä¸æ˜¯å·çš„æ›´æœ‰åŠ¨åŠ›äº†ã€‚</p>
]]></content>
      <categories>
        <category>Win</category>
      </categories>
      <tags>
        <tag>Other</tag>
      </tags>
  </entry>
</search>
